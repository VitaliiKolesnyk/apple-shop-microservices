var HC=Object.defineProperty,zC=Object.defineProperties;var WC=Object.getOwnPropertyDescriptors;var Ep=Object.getOwnPropertySymbols;var GC=Object.prototype.hasOwnProperty,qC=Object.prototype.propertyIsEnumerable;var xp=(t,n,e)=>n in t?HC(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,x=(t,n)=>{for(var e in n||={})GC.call(n,e)&&xp(t,e,n[e]);if(Ep)for(var e of Ep(n))qC.call(n,e)&&xp(t,e,n[e]);return t},W=(t,n)=>zC(t,WC(n));var hr=(t,n,e)=>new Promise((r,i)=>{var o=c=>{try{a(e.next(c))}catch(d){i(d)}},s=c=>{try{a(e.throw(c))}catch(d){i(d)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((e=e.apply(t,n)).next())});function Mp(t,n){return Object.is(t,n)}var et=null,$s=!1,Hs=1,Gn=Symbol("SIGNAL");function he(t){let n=et;return et=t,n}function Tp(){return et}var Eo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function du(t){if($s)throw new Error("");if(et===null)return;et.consumerOnSignalRead(t);let n=et.nextProducerIndex++;if(qs(et),n<et.producerNode.length&&et.producerNode[n]!==t&&Io(et)){let e=et.producerNode[n];Gs(e,et.producerIndexOfThis[n])}et.producerNode[n]!==t&&(et.producerNode[n]=t,et.producerIndexOfThis[n]=Io(et)?Op(t,et,n):0),et.producerLastReadVersion[n]=t.version}function KC(){Hs++}function Pp(t){if(!(Io(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Hs)){if(!t.producerMustRecompute(t)&&!hu(t)){t.dirty=!1,t.lastCleanEpoch=Hs;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Hs}}function Ap(t){if(t.liveConsumerNode===void 0)return;let n=$s;$s=!0;try{for(let e of t.liveConsumerNode)e.dirty||ZC(e)}finally{$s=n}}function kp(){return et?.consumerAllowSignalWrites!==!1}function ZC(t){t.dirty=!0,Ap(t),t.consumerMarkedDirty?.(t)}function Ws(t){return t&&(t.nextProducerIndex=0),he(t)}function fu(t,n){if(he(n),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Io(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Gs(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function hu(t){qs(t);for(let n=0;n<t.producerNode.length;n++){let e=t.producerNode[n],r=t.producerLastReadVersion[n];if(r!==e.version||(Pp(e),r!==e.version))return!0}return!1}function pu(t){if(qs(t),Io(t))for(let n=0;n<t.producerNode.length;n++)Gs(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Op(t,n,e){if(Rp(t),t.liveConsumerNode.length===0&&Np(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Op(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function Gs(t,n){if(Rp(t),t.liveConsumerNode.length===1&&Np(t))for(let r=0;r<t.producerNode.length;r++)Gs(t.producerNode[r],t.producerIndexOfThis[r]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[n],i=t.liveConsumerNode[n];qs(i),i.producerIndexOfThis[r]=n}}function Io(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function qs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Rp(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Np(t){return t.producerNode!==void 0}function Fp(t){let n=Object.create(QC);n.computation=t;let e=()=>{if(Pp(n),du(n),n.value===zs)throw n.error;return n.value};return e[Gn]=n,e}var lu=Symbol("UNSET"),uu=Symbol("COMPUTING"),zs=Symbol("ERRORED"),QC=W(x({},Eo),{value:lu,dirty:!0,error:null,equal:Mp,producerMustRecompute(t){return t.value===lu||t.value===uu},producerRecomputeValue(t){if(t.value===uu)throw new Error("Detected cycle in computations.");let n=t.value;t.value=uu;let e=Ws(t),r;try{r=t.computation()}catch(i){r=zs,t.error=i}finally{fu(t,e)}if(n!==lu&&n!==zs&&r!==zs&&t.equal(n,r)){t.value=n;return}t.value=r,t.version++}});function YC(){throw new Error}var Lp=YC;function Vp(){Lp()}function jp(t){Lp=t}var JC=null;function Up(t){let n=Object.create($p);n.value=t;let e=()=>(du(n),n.value);return e[Gn]=n,e}function gu(t,n){kp()||Vp(),t.equal(t.value,n)||(t.value=n,XC(t))}function Bp(t,n){kp()||Vp(),gu(t,n(t.value))}var $p=W(x({},Eo),{equal:Mp,value:void 0});function XC(t){t.version++,KC(),Ap(t),JC?.()}function Z(t){return typeof t=="function"}function pr(t){let e=t(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Ks=pr(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function zr(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var $e=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(o){n=o instanceof Ks?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Hp(o)}catch(s){n=n??[],s instanceof Ks?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Ks(n)}}add(n){var e;if(n&&n!==this)if(this.closed)Hp(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&zr(e,n)}remove(n){let{_finalizers:e}=this;e&&zr(e,n),n instanceof t&&n._removeParent(this)}};$e.EMPTY=(()=>{let t=new $e;return t.closed=!0,t})();var mu=$e.EMPTY;function Zs(t){return t instanceof $e||t&&"closed"in t&&Z(t.remove)&&Z(t.add)&&Z(t.unsubscribe)}function Hp(t){Z(t)?t():t.unsubscribe()}var cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var bi={setTimeout(t,n,...e){let{delegate:r}=bi;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=bi;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Qs(t){bi.setTimeout(()=>{let{onUnhandledError:n}=cn;if(n)n(t);else throw t})}function xo(){}var zp=vu("C",void 0,void 0);function Wp(t){return vu("E",void 0,t)}function Gp(t){return vu("N",t,void 0)}function vu(t,n,e){return{kind:t,value:n,error:e}}var Wr=null;function Ci(t){if(cn.useDeprecatedSynchronousErrorHandling){let n=!Wr;if(n&&(Wr={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:r}=Wr;if(Wr=null,e)throw r}}else t()}function qp(t){cn.useDeprecatedSynchronousErrorHandling&&Wr&&(Wr.errorThrown=!0,Wr.error=t)}var Gr=class extends $e{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Zs(n)&&n.add(this)):this.destination=n_}static create(n,e,r){return new _i(n,e,r)}next(n){this.isStopped?bu(Gp(n),this):this._next(n)}error(n){this.isStopped?bu(Wp(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?bu(zp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},e_=Function.prototype.bind;function yu(t,n){return e_.call(t,n)}var Cu=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){Ys(r)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){Ys(r)}else Ys(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Ys(e)}}},_i=class extends Gr{constructor(n,e,r){super();let i;if(Z(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&cn.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&yu(n.next,o),error:n.error&&yu(n.error,o),complete:n.complete&&yu(n.complete,o)}):i=n}this.destination=new Cu(i)}};function Ys(t){cn.useDeprecatedSynchronousErrorHandling?qp(t):Qs(t)}function t_(t){throw t}function bu(t,n){let{onStoppedNotification:e}=cn;e&&bi.setTimeout(()=>e(t,n))}var n_={closed:!0,next:xo,error:t_,complete:xo};var Si=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ct(t){return t}function _u(...t){return Su(t)}function Su(t){return t.length===0?ct:t.length===1?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}var ee=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=i_(e)?e:new _i(e,r,i);return Ci(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=Kp(r),new r((i,o)=>{let s=new _i({next:a=>{try{e(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[Si](){return this}pipe(...e){return Su(e)(this)}toPromise(e){return e=Kp(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=n=>new t(n),t})();function Kp(t){var n;return(n=t??cn.Promise)!==null&&n!==void 0?n:Promise}function r_(t){return t&&Z(t.next)&&Z(t.error)&&Z(t.complete)}function i_(t){return t&&t instanceof Gr||r_(t)&&Zs(t)}function wu(t){return Z(t?.lift)}function Y(t){return n=>{if(wu(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function G(t,n,e,r,i){return new Du(t,n,e,r,i)}var Du=class extends Gr{constructor(n,e,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){n.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function wi(){return Y((t,n)=>{let e=null;t._refCount++;let r=G(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let i=t._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}var Di=class extends ee{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,wu(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new $e;let e=this.getSubject();n.add(this.source.subscribe(G(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=$e.EMPTY)}return n}refCount(){return wi()(this)}};var Zp=pr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Pe=(()=>{class t extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new Js(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Zp}next(e){Ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){Ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){Ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?mu:(this.currentObservers=null,o.push(e),new $e(()=>{this.currentObservers=null,zr(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new ee;return e.source=this,e}}return t.create=(n,e)=>new Js(n,e),t})(),Js=class extends Pe{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,n)}error(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&r!==void 0?r:mu}};var Ce=class extends Pe{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var Mo={now(){return(Mo.delegate||Date).now()},delegate:void 0};var To=class extends Pe{constructor(n=1/0,e=1/0,r=Mo){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){let{isStopped:e,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;e||(r.push(n),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!n.closed;s+=r?1:2)n.next(o[s]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){let{_bufferSize:n,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*n;if(n<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=e.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var Xs=class extends $e{constructor(n,e){super()}schedule(n,e=0){return this}};var Po={setInterval(t,n,...e){let{delegate:r}=Po;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){let{delegate:n}=Po;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};var ea=class extends Xs{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var r;if(this.closed)return this;this.state=n;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,r=0){return Po.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return e;e!=null&&Po.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(n,e);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let r=!1,i;try{this.work(n)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,zr(r,this),n!=null&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}};var Ii=class t{constructor(n,e=t.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}};Ii.now=Mo.now;var ta=class extends Ii{constructor(n,e=Ii.now){super(n,e),this.actions=[],this._active=!1}flush(n){let{actions:e}=this;if(this._active){e.push(n);return}let r;this._active=!0;do if(r=n.execute(n.state,n.delay))break;while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}};var Iu=new ta(ea),Qp=Iu;var Nt=new ee(t=>t.complete());function na(t){return t&&Z(t.schedule)}function Yp(t){return t[t.length-1]}function ra(t){return Z(Yp(t))?t.pop():void 0}function gr(t){return na(Yp(t))?t.pop():void 0}function Xp(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(m){s(m)}}function c(p){try{d(r.throw(p))}catch(m){s(m)}}function d(p){p.done?o(p.value):i(p.value).then(a,c)}d((r=r.apply(t,n||[])).next())})}function Jp(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function qr(t){return this instanceof qr?(this.v=t,this):new qr(t)}function eg(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(t,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(b){return function(_){return Promise.resolve(_).then(b,m)}}function a(b,_){r[b]&&(i[b]=function(A){return new Promise(function(k,$){o.push([b,A,k,$])>1||c(b,A)})},_&&(i[b]=_(i[b])))}function c(b,_){try{d(r[b](_))}catch(A){C(o[0][3],A)}}function d(b){b.value instanceof qr?Promise.resolve(b.value.v).then(p,m):C(o[0][2],b)}function p(b){c("next",b)}function m(b){c("throw",b)}function C(b,_){b(_),o.shift(),o.length&&c(o[0][0],o[0][1])}}function tg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof Jp=="function"?Jp(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(d){o({value:d,done:a})},s)}}var ia=t=>t&&typeof t.length=="number"&&typeof t!="function";function oa(t){return Z(t?.then)}function sa(t){return Z(t[Si])}function aa(t){return Symbol.asyncIterator&&Z(t?.[Symbol.asyncIterator])}function ca(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function o_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var la=o_();function ua(t){return Z(t?.[la])}function da(t){return eg(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:r,done:i}=yield qr(e.read());if(i)return yield qr(void 0);yield yield qr(r)}}finally{e.releaseLock()}})}function fa(t){return Z(t?.getReader)}function Ae(t){if(t instanceof ee)return t;if(t!=null){if(sa(t))return s_(t);if(ia(t))return a_(t);if(oa(t))return c_(t);if(aa(t))return ng(t);if(ua(t))return l_(t);if(fa(t))return u_(t)}throw ca(t)}function s_(t){return new ee(n=>{let e=t[Si]();if(Z(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function a_(t){return new ee(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function c_(t){return new ee(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,Qs)})}function l_(t){return new ee(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function ng(t){return new ee(n=>{d_(t,n).catch(e=>n.error(e))})}function u_(t){return ng(da(t))}function d_(t,n){var e,r,i,o;return Xp(this,void 0,void 0,function*(){try{for(e=tg(t);r=yield e.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}n.complete()})}function ht(t,n,e,r=0,i=!1){let o=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ha(t,n=0){return Y((e,r)=>{e.subscribe(G(r,i=>ht(r,t,()=>r.next(i),n),()=>ht(r,t,()=>r.complete(),n),i=>ht(r,t,()=>r.error(i),n)))})}function pa(t,n=0){return Y((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function rg(t,n){return Ae(t).pipe(pa(n),ha(n))}function ig(t,n){return Ae(t).pipe(pa(n),ha(n))}function og(t,n){return new ee(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}function sg(t,n){return new ee(e=>{let r;return ht(e,n,()=>{r=t[la](),ht(e,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function ga(t,n){if(!t)throw new Error("Iterable cannot be null");return new ee(e=>{ht(e,n,()=>{let r=t[Symbol.asyncIterator]();ht(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function ag(t,n){return ga(da(t),n)}function cg(t,n){if(t!=null){if(sa(t))return rg(t,n);if(ia(t))return og(t,n);if(oa(t))return ig(t,n);if(aa(t))return ga(t,n);if(ua(t))return sg(t,n);if(fa(t))return ag(t,n)}throw ca(t)}function Se(t,n){return n?cg(t,n):Ae(t)}function E(...t){let n=gr(t);return Se(t,n)}function B(t,n){let e=Z(t)?t:()=>t,r=i=>i.error(e());return new ee(n?i=>n.schedule(r,0,i):r)}function Eu(t){return!!t&&(t instanceof ee||Z(t.lift)&&Z(t.subscribe))}var qn=pr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ma(t){return t instanceof Date&&!isNaN(t)}var va=pr(t=>function(e=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e});function xu(t,n){let{first:e,each:r,with:i=f_,scheduler:o=n??Iu,meta:s=null}=ma(t)?{first:t}:typeof t=="number"?{each:t}:t;if(e==null&&r==null)throw new TypeError("No timeout provided.");return Y((a,c)=>{let d,p,m=null,C=0,b=_=>{p=ht(c,o,()=>{try{d.unsubscribe(),Ae(i({meta:s,lastValue:m,seen:C})).subscribe(c)}catch(A){c.error(A)}},_)};d=a.subscribe(G(c,_=>{p?.unsubscribe(),C++,c.next(m=_),r>0&&b(r)},void 0,void 0,()=>{p?.closed||p?.unsubscribe(),m=null})),!C&&b(e!=null?typeof e=="number"?e:+e-o.now():r)})}function f_(t){throw new va(t)}function O(t,n){return Y((e,r)=>{let i=0;e.subscribe(G(r,o=>{r.next(t.call(n,o,i++))}))})}var{isArray:h_}=Array;function p_(t,n){return h_(n)?t(...n):t(n)}function ya(t){return O(n=>p_(t,n))}var{isArray:g_}=Array,{getPrototypeOf:m_,prototype:v_,keys:y_}=Object;function ba(t){if(t.length===1){let n=t[0];if(g_(n))return{args:n,keys:null};if(b_(n)){let e=y_(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}function b_(t){return t&&typeof t=="object"&&m_(t)===v_}function Ca(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}function Ao(...t){let n=gr(t),e=ra(t),{args:r,keys:i}=ba(t);if(r.length===0)return Se([],n);let o=new ee(C_(r,n,i?s=>Ca(i,s):ct));return e?o.pipe(ya(e)):o}function C_(t,n,e=ct){return r=>{lg(n,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)lg(n,()=>{let d=Se(t[c],n),p=!1;d.subscribe(G(r,m=>{o[c]=m,p||(p=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function lg(t,n,e){t?ht(e,t,n):n()}function ug(t,n,e,r,i,o,s,a){let c=[],d=0,p=0,m=!1,C=()=>{m&&!c.length&&!d&&n.complete()},b=A=>d<r?_(A):c.push(A),_=A=>{o&&n.next(A),d++;let k=!1;Ae(e(A,p++)).subscribe(G(n,$=>{i?.($),o?b($):n.next($)},()=>{k=!0},void 0,()=>{if(k)try{for(d--;c.length&&d<r;){let $=c.shift();s?ht(n,s,()=>_($)):_($)}C()}catch($){n.error($)}}))};return t.subscribe(G(n,b,()=>{m=!0,C()})),()=>{a?.()}}function Ee(t,n,e=1/0){return Z(n)?Ee((r,i)=>O((o,s)=>n(r,o,i,s))(Ae(t(r,i))),e):(typeof n=="number"&&(e=n),Y((r,i)=>ug(r,i,t,e)))}function Ei(t=1/0){return Ee(ct,t)}function dg(){return Ei(1)}function xi(...t){return dg()(Se(t,gr(t)))}function _a(t){return new ee(n=>{Ae(t()).subscribe(n)})}function Kn(...t){let n=ra(t),{args:e,keys:r}=ba(t),i=new ee(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),c=s,d=s;for(let p=0;p<s;p++){let m=!1;Ae(e[p]).subscribe(G(o,C=>{m||(m=!0,d--),a[p]=C},()=>c--,void 0,()=>{(!c||!m)&&(d||o.next(r?Ca(r,a):a),o.complete())}))}});return n?i.pipe(ya(n)):i}function Kr(t=0,n,e=Qp){let r=-1;return n!=null&&(na(n)?e=n:r=n),new ee(i=>{let o=ma(t)?+t-e.now():t;o<0&&(o=0);let s=0;return e.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function lt(t,n){return Y((e,r)=>{let i=0;e.subscribe(G(r,o=>t.call(n,o,i++)&&r.next(o)))})}function we(t){return Y((n,e)=>{let r=null,i=!1,o;r=n.subscribe(G(e,void 0,void 0,s=>{o=Ae(t(s,we(t)(n))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function fg(t,n,e,r,i){return(o,s)=>{let a=e,c=n,d=0;o.subscribe(G(s,p=>{let m=d++;c=a?t(c,p,m):(a=!0,p),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function ie(t,n){return Z(n)?Ee(t,n,1):Ee(t,1)}function mr(t){return Y((n,e)=>{let r=!1;n.subscribe(G(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function Dt(t){return t<=0?()=>Nt:Y((n,e)=>{let r=0;n.subscribe(G(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function Mu(t){return O(()=>t)}function Tu(t,n=ct){return t=t??__,Y((e,r)=>{let i,o=!0;e.subscribe(G(r,s=>{let a=n(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function __(t,n){return t===n}function Sa(t=S_){return Y((n,e)=>{let r=!1;n.subscribe(G(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function S_(){return new qn}function Zn(t){return Y((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function _n(t,n){let e=arguments.length>=2;return r=>r.pipe(t?lt((i,o)=>t(i,o,r)):ct,Dt(1),e?mr(n):Sa(()=>new qn))}function Mi(t){return t<=0?()=>Nt:Y((n,e)=>{let r=[];n.subscribe(G(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function Pu(t,n){let e=arguments.length>=2;return r=>r.pipe(t?lt((i,o)=>t(i,o,r)):ct,Mi(1),e?mr(n):Sa(()=>new qn))}function Zr(t=1/0){let n;t&&typeof t=="object"?n=t:n={count:t};let{count:e=1/0,delay:r,resetOnSuccess:i=!1}=n;return e<=0?ct:Y((o,s)=>{let a=0,c,d=()=>{let p=!1;c=o.subscribe(G(s,m=>{i&&(a=0),s.next(m)},void 0,m=>{if(a++<e){let C=()=>{c?(c.unsubscribe(),c=null,d()):p=!0};if(r!=null){let b=typeof r=="number"?Kr(r):Ae(r(m,a)),_=G(s,()=>{_.unsubscribe(),C()},()=>{s.complete()});b.subscribe(_)}else C()}else s.error(m)})),p&&(c.unsubscribe(),c=null,d())};d()})}function ko(t){return Y((n,e)=>{let r,i=!1,o,s=()=>{r=n.subscribe(G(e,void 0,void 0,a=>{o||(o=new Pe,Ae(t(o)).subscribe(G(e,()=>r?s():i=!0))),o&&o.next(a)})),i&&(r.unsubscribe(),r=null,i=!1,s())};s()})}function Au(t,n){return Y(fg(t,n,arguments.length>=2,!0))}function ku(...t){let n=gr(t);return Y((e,r)=>{(n?xi(t,e,n):xi(t,e)).subscribe(r)})}function ue(t,n){return Y((e,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();e.subscribe(G(r,c=>{i?.unsubscribe();let d=0,p=o++;Ae(t(c,p)).subscribe(i=G(r,m=>r.next(n?n(c,m,p,d++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ou(t){return Y((n,e)=>{Ae(t).subscribe(G(e,()=>e.complete(),xo)),!e.closed&&n.subscribe(e)})}function De(t,n,e){let r=Z(t)||n||e?{next:t,error:n,complete:e}:t;return r?Y((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(G(o,c=>{var d;(d=r.next)===null||d===void 0||d.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,c),o.error(c)},()=>{var c,d;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):ct}var tm="https://g.co/ng/security#xss",F=class extends Error{constructor(n,e){super(oc(n,e)),this.code=n}};function oc(t,n){return`${`NG0${Math.abs(t)}`}${n?": "+n:""}`}function Bo(t){return{toString:t}.toString()}var wa="__parameters__";function w_(t){return function(...e){if(t){let r=t(...e);for(let i in r)this[i]=r[i]}}}function nm(t,n,e){return Bo(()=>{let r=w_(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,d,p){let m=c.hasOwnProperty(wa)?c[wa]:Object.defineProperty(c,wa,{value:[]})[wa];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(s),c}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Qn=globalThis;function Me(t){for(let n in t)if(t[n]===Me)return n;throw Error("Could not find renamed property on target object.")}function D_(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function yt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(yt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let n=t.toString();if(n==null)return""+n;let e=n.indexOf(`
`);return e===-1?n:n.substring(0,e)}function Ku(t,n){return t==null||t===""?n===null?"":n:n==null||n===""?t:t+" "+n}var I_=Me({__forward_ref__:Me});function _t(t){return t.__forward_ref__=_t,t.toString=function(){return yt(this())},t}function vt(t){return rm(t)?t():t}function rm(t){return typeof t=="function"&&t.hasOwnProperty(I_)&&t.__forward_ref__===_t}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Lt(t){return{providers:t.providers||[],imports:t.imports||[]}}function sc(t){return hg(t,om)||hg(t,sm)}function im(t){return sc(t)!==null}function hg(t,n){return t.hasOwnProperty(n)?t[n]:null}function E_(t){let n=t&&(t[om]||t[sm]);return n||null}function pg(t){return t&&(t.hasOwnProperty(gg)||t.hasOwnProperty(x_))?t[gg]:null}var om=Me({\u0275prov:Me}),gg=Me({\u0275inj:Me}),sm=Me({ngInjectableDef:Me}),x_=Me({ngInjectorDef:Me}),j=class{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function am(t){return t&&!!t.\u0275providers}var M_=Me({\u0275cmp:Me}),T_=Me({\u0275dir:Me}),P_=Me({\u0275pipe:Me}),A_=Me({\u0275mod:Me}),Na=Me({\u0275fac:Me}),Ro=Me({__NG_ELEMENT_ID__:Me}),mg=Me({__NG_ENV_ID__:Me});function Ni(t){return typeof t=="string"?t:t==null?"":String(t)}function k_(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ni(t)}function O_(t,n){let e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new F(-200,t)}function Zd(t,n){throw new F(-201,!1)}var re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(re||{}),Zu;function cm(){return Zu}function It(t){let n=Zu;return Zu=t,n}function lm(t,n,e){let r=sc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&re.Optional)return null;if(n!==void 0)return n;Zd(t,"Injector")}var R_={},No=R_,Qu="__NG_DI_FLAG__",Fa="ngTempTokenPath",N_="ngTokenPath",F_=/\n/gm,L_="\u0275",vg="__source",Oi;function V_(){return Oi}function vr(t){let n=Oi;return Oi=t,n}function j_(t,n=re.Default){if(Oi===void 0)throw new F(-203,!1);return Oi===null?lm(t,void 0,n):Oi.get(t,n&re.Optional?null:void 0,n)}function N(t,n=re.Default){return(cm()||j_)(vt(t),n)}function g(t,n=re.Default){return N(t,ac(n))}function ac(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Yu(t){let n=[];for(let e=0;e<t.length;e++){let r=vt(t[e]);if(Array.isArray(r)){if(r.length===0)throw new F(900,!1);let i,o=re.Default;for(let s=0;s<r.length;s++){let a=r[s],c=U_(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}n.push(N(i,o))}else n.push(N(r))}return n}function um(t,n){return t[Qu]=n,t.prototype[Qu]=n,t}function U_(t){return t[Qu]}function B_(t,n,e,r){let i=t[Fa];throw n[vg]&&i.unshift(n[vg]),t.message=$_(`
`+t.message,i,e,r),t[N_]=i,t[Fa]=null,t}function $_(t,n,e,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==L_?t.slice(2):t;let i=yt(n);if(Array.isArray(n))i=n.map(yt).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):yt(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(F_,`
  `)}`}var $o=um(nm("Optional"),8);var cc=um(nm("SkipSelf"),4);function Jr(t,n){let e=t.hasOwnProperty(Na);return e?t[Na]:null}function Qd(t,n){t.forEach(e=>Array.isArray(e)?Qd(e,n):n(e))}function dm(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function La(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function H_(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(i===1)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;){let o=i-2;t[i]=t[o],i--}t[n]=e,t[n+1]=r}}function Yd(t,n,e){let r=Ho(t,n);return r>=0?t[r|1]=e:(r=~r,H_(t,r,n,e)),r}function Ru(t,n){let e=Ho(t,n);if(e>=0)return t[e|1]}function Ho(t,n){return z_(t,n,1)}function z_(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<e];if(n===s)return o<<e;s>n?i=o:r=o+1}return~(i<<e)}var Fi={},Et=[],Li=new j(""),fm=new j("",-1),hm=new j(""),Va=class{get(n,e=No){if(e===No){let r=new Error(`NullInjectorError: No provider for ${yt(n)}!`);throw r.name="NullInjectorError",r}return e}},pm=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(pm||{}),Dn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Dn||{}),Cr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Cr||{});function W_(t,n,e){let r=t.length;for(;;){let i=t.indexOf(n,e);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}e=i+1}}function Ju(t,n,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,o)}else{let o=i,s=e[++r];G_(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),r++}}return r}function gm(t){return t===3||t===4||t===6}function G_(t){return t.charCodeAt(0)===64}function Fo(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?yg(t,e,i,null,n[++r]):yg(t,e,i,null,null))}}return t}function yg(t,n,e,r,i){let o=0,s=t.length;if(n===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===e){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var mm="ng-template";function q_(t,n,e,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&W_(n[i+1].toLowerCase(),e,0)!==-1)return!0}else if(Jd(t))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function Jd(t){return t.type===4&&t.value!==mm}function K_(t,n,e){let r=t.type===4&&!e?mm:t.value;return n===r}function Z_(t,n,e){let r=4,i=t.attrs,o=i!==null?J_(i):0,s=!1;for(let a=0;a<n.length;a++){let c=n[a];if(typeof c=="number"){if(!s&&!ln(r)&&!ln(c))return!1;if(s&&ln(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!K_(t,c,e)||c===""&&n.length===1){if(ln(r))return!1;s=!0}}else if(r&8){if(i===null||!q_(t,i,c,e)){if(ln(r))return!1;s=!0}}else{let d=n[++a],p=Q_(c,i,Jd(t),e);if(p===-1){if(ln(r))return!1;s=!0;continue}if(d!==""){let m;if(p>o?m="":m=i[p+1].toLowerCase(),r&2&&d!==m){if(ln(r))return!1;s=!0}}}}return ln(r)||s}function ln(t){return(t&1)===0}function Q_(t,n,e,r){if(n===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<n.length;){let s=n[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return X_(n,t)}function Y_(t,n,e=!1){for(let r=0;r<n.length;r++)if(Z_(t,n[r],e))return!0;return!1}function J_(t){for(let n=0;n<t.length;n++){let e=t[n];if(gm(e))return n}return t.length}function X_(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let r=t[e];if(typeof r=="number")return-1;if(r===n)return e;e++}return-1}function bg(t,n){return t?":not("+n.trim()+")":n}function eS(t){let n=t[0],e=1,r=2,i="",o=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(r&2){let a=t[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ln(s)&&(n+=bg(o,i),i=""),r=s,o=o||!ln(r);e++}return i!==""&&(n+=bg(o,i)),n}function tS(t){return t.map(eS).join(",")}function nS(t){let n=[],e=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&n.push(o,t[++r]):i===8&&e.push(o);else{if(!ln(i))break;i=o}r++}return{attrs:n,classes:e}}function Q(t){return Bo(()=>{let n=_m(t),e=W(x({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===pm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Dn.Emulated,styles:t.styles||Et,_:null,schemas:t.schemas||null,tView:null,id:""});Sm(e);let r=t.dependencies;return e.directiveDefs=_g(r,!1),e.pipeDefs=_g(r,!0),e.id=oS(e),e})}function rS(t){return _r(t)||vm(t)}function iS(t){return t!==null}function Vt(t){return Bo(()=>({type:t.type,bootstrap:t.bootstrap||Et,declarations:t.declarations||Et,imports:t.imports||Et,exports:t.exports||Et,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Cg(t,n){if(t==null)return Fi;let e={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Cr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),n?(e[o]=a!==Cr.None?[r,a]:r,n[o]=s):e[o]=r}return e}function pe(t){return Bo(()=>{let n=_m(t);return Sm(n),n})}function zo(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function _r(t){return t[M_]||null}function vm(t){return t[T_]||null}function ym(t){return t[P_]||null}function bm(t){let n=_r(t)||vm(t)||ym(t);return n!==null?n.standalone:!1}function Cm(t,n){let e=t[A_]||null;if(!e&&n===!0)throw new Error(`Type ${yt(t)} does not have '\u0275mod' property.`);return e}function _m(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Fi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Et,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cg(t.inputs,n),outputs:Cg(t.outputs),debugInfo:null}}function Sm(t){t.features?.forEach(n=>n(t))}function _g(t,n){if(!t)return null;let e=n?ym:rS;return()=>(typeof t=="function"?t():t).map(r=>e(r)).filter(iS)}function oS(t){let n=0,e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of e)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function Er(t){return{\u0275providers:t}}function sS(...t){return{\u0275providers:wm(!0,t),\u0275fromNgModule:!0}}function wm(t,...n){let e=[],r=new Set,i,o=s=>{e.push(s)};return Qd(n,s=>{let a=s;Xu(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Dm(i,o),e}function Dm(t,n){for(let e=0;e<t.length;e++){let{ngModule:r,providers:i}=t[e];Xd(i,o=>{n(o,r)})}}function Xu(t,n,e,r){if(t=vt(t),!t)return!1;let i=null,o=pg(t),s=!o&&_r(t);if(!o&&!s){let c=t.ngModule;if(o=pg(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of c)Xu(d,n,e,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{Qd(o.imports,p=>{Xu(p,n,e,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&Dm(d,n)}if(!a){let d=Jr(i)||(()=>new i);n({provide:i,useFactory:d,deps:Et},i),n({provide:hm,useValue:i,multi:!0},i),n({provide:Li,useValue:()=>N(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let d=t;Xd(c,p=>{n(p,d)})}}else return!1;return i!==t&&t.providers!==void 0}function Xd(t,n){for(let e of t)am(e)&&(e=e.\u0275providers),Array.isArray(e)?Xd(e,n):n(e)}var aS=Me({provide:String,useValue:Me});function Im(t){return t!==null&&typeof t=="object"&&aS in t}function cS(t){return!!(t&&t.useExisting)}function lS(t){return!!(t&&t.useFactory)}function Vi(t){return typeof t=="function"}function uS(t){return!!t.useClass}var lc=new j(""),Pa={},dS={},Nu;function ef(){return Nu===void 0&&(Nu=new Va),Nu}var bt=class{},Lo=class extends bt{get destroyed(){return this._destroyed}constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,td(n,s=>this.processProvider(s)),this.records.set(fm,Ti(void 0,this)),i.has("environment")&&this.records.set(bt,Ti(void 0,this));let o=this.records.get(lc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(hm,Et,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let n=he(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();let e=vr(this),r=It(void 0),i;try{return n()}finally{vr(e),It(r)}}get(n,e=No,r=re.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(mg))return n[mg](this);r=ac(r);let i,o=vr(this),s=It(void 0);try{if(!(r&re.SkipSelf)){let c=this.records.get(n);if(c===void 0){let d=mS(n)&&sc(n);d&&this.injectableDefInScope(d)?c=Ti(ed(n),Pa):c=null,this.records.set(n,c)}if(c!=null)return this.hydrate(n,c)}let a=r&re.Self?ef():this.parent;return e=r&re.Optional&&e===No?null:e,a.get(n,e)}catch(a){if(a.name==="NullInjectorError"){if((a[Fa]=a[Fa]||[]).unshift(yt(n)),o)throw a;return B_(a,n,"R3InjectorError",this.source)}else throw a}finally{It(s),vr(o)}}resolveInjectorInitializers(){let n=he(null),e=vr(this),r=It(void 0),i;try{let o=this.get(Li,Et,re.Self);for(let s of o)s()}finally{vr(e),It(r),he(n)}}toString(){let n=[],e=this.records;for(let r of e.keys())n.push(yt(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new F(205,!1)}processProvider(n){n=vt(n);let e=Vi(n)?n:vt(n&&n.provide),r=hS(n);if(!Vi(n)&&n.multi===!0){let i=this.records.get(e);i||(i=Ti(void 0,Pa,!0),i.factory=()=>Yu(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e){let r=he(null);try{return e.value===Pa&&(e.value=dS,e.value=e.factory()),typeof e.value=="object"&&e.value&&gS(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{he(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=vt(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function ed(t){let n=sc(t),e=n!==null?n.factory:Jr(t);if(e!==null)return e;if(t instanceof j)throw new F(204,!1);if(t instanceof Function)return fS(t);throw new F(204,!1)}function fS(t){if(t.length>0)throw new F(204,!1);let e=E_(t);return e!==null?()=>e.factory(t):()=>new t}function hS(t){if(Im(t))return Ti(void 0,t.useValue);{let n=Em(t);return Ti(n,Pa)}}function Em(t,n,e){let r;if(Vi(t)){let i=vt(t);return Jr(i)||ed(i)}else if(Im(t))r=()=>vt(t.useValue);else if(lS(t))r=()=>t.useFactory(...Yu(t.deps||[]));else if(cS(t))r=()=>N(vt(t.useExisting));else{let i=vt(t&&(t.useClass||t.provide));if(pS(t))r=()=>new i(...Yu(t.deps));else return Jr(i)||ed(i)}return r}function Ti(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function pS(t){return!!t.deps}function gS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function mS(t){return typeof t=="function"||typeof t=="object"&&t instanceof j}function td(t,n){for(let e of t)Array.isArray(e)?td(e,n):e&&am(e)?td(e.\u0275providers,n):n(e)}function Kt(t,n){t instanceof Lo&&t.assertNotDestroyed();let e,r=vr(t),i=It(void 0);try{return n()}finally{vr(r),It(i)}}function xm(){return cm()!==void 0||V_()!=null}function tf(t){if(!xm())throw new F(-203,!1)}function vS(t){return typeof t=="function"}var Xn=0,oe=1,K=2,Ct=3,dn=4,hn=5,ja=6,Ua=7,fn=8,ji=9,In=10,He=11,Vo=12,Sg=13,Ki=14,En=15,Ui=16,Pi=17,Bi=18,uc=19,Mm=20,yr=21,Fu=22,Wt=23,Ft=25,Tm=1;var Xr=7,Ba=8,$a=9,Gt=10,Ha=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ha||{});function br(t){return Array.isArray(t)&&typeof t[Tm]=="object"}function er(t){return Array.isArray(t)&&t[Tm]===!0}function nf(t){return(t.flags&4)!==0}function dc(t){return t.componentOffset>-1}function fc(t){return(t.flags&1)===1}function Sr(t){return!!t.template}function nd(t){return(t[K]&512)!==0}var rd=class{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function Pm(t,n,e,r){n!==null?n.applyValueToInputSignal(n,r):t[e]=r}function pn(){return Am}function Am(t){return t.type.prototype.ngOnChanges&&(t.setInput=bS),yS}pn.ngInherit=!0;function yS(){let t=Om(this),n=t?.current;if(n){let e=t.previous;if(e===Fi)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function bS(t,n,e,r,i){let o=this.declaredInputs[r],s=Om(t)||CS(t,{previous:Fi,current:null}),a=s.current||(s.current={}),c=s.previous,d=c[o];a[o]=new rd(d&&d.currentValue,e,c===Fi),Pm(t,n,i,e)}var km="__ngSimpleChanges__";function Om(t){return t[km]||null}function CS(t,n){return t[km]=n}var wg=null;var Sn=function(t,n,e){wg?.(t,n,e)},Rm="svg",_S="math";function xn(t){for(;Array.isArray(t);)t=t[Xn];return t}function Nm(t,n){return xn(n[t])}function Zt(t,n){return xn(n[t.index])}function Fm(t,n){return t.data[n]}function rf(t,n){return t[n]}function xr(t,n){let e=n[t];return br(e)?e:e[Xn]}function of(t){return(t[K]&128)===128}function SS(t){return er(t[Ct])}function $i(t,n){return n==null?null:t[n]}function Lm(t){t[Pi]=0}function Vm(t){t[K]&1024||(t[K]|=1024,of(t)&&pc(t))}function wS(t,n){for(;t>0;)n=n[Ki],t--;return n}function hc(t){return!!(t[K]&9216||t[Wt]?.dirty)}function id(t){t[In].changeDetectionScheduler?.notify(8),t[K]&64&&(t[K]|=1024),hc(t)&&pc(t)}function pc(t){t[In].changeDetectionScheduler?.notify(0);let n=ei(t);for(;n!==null&&!(n[K]&8192||(n[K]|=8192,!of(n)));)n=ei(n)}function jm(t,n){if((t[K]&256)===256)throw new F(911,!1);t[yr]===null&&(t[yr]=[]),t[yr].push(n)}function DS(t,n){if(t[yr]===null)return;let e=t[yr].indexOf(n);e!==-1&&t[yr].splice(e,1)}function ei(t){let n=t[Ct];return er(n)?n[Ct]:n}var te={lFrame:Km(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Um=!1;function IS(){return te.lFrame.elementDepthCount}function ES(){te.lFrame.elementDepthCount++}function xS(){te.lFrame.elementDepthCount--}function Bm(){return te.bindingsEnabled}function MS(){return te.skipHydrationRootTNode!==null}function TS(t){return te.skipHydrationRootTNode===t}function PS(){te.skipHydrationRootTNode=null}function se(){return te.lFrame.lView}function nt(){return te.lFrame.tView}function M(t){return te.lFrame.contextLView=t,t[fn]}function T(t){return te.lFrame.contextLView=null,t}function pt(){let t=$m();for(;t!==null&&t.type===64;)t=t.parent;return t}function $m(){return te.lFrame.currentTNode}function AS(){let t=te.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function oi(t,n){let e=te.lFrame;e.currentTNode=t,e.isParent=n}function sf(){return te.lFrame.isParent}function Hm(){te.lFrame.isParent=!1}function kS(){return te.lFrame.contextLView}function zm(){return Um}function Dg(t){Um=t}function Zi(){let t=te.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function OS(){return te.lFrame.bindingIndex}function RS(t){return te.lFrame.bindingIndex=t}function gc(){return te.lFrame.bindingIndex++}function af(t){let n=te.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function NS(){return te.lFrame.inI18n}function FS(t,n){let e=te.lFrame;e.bindingIndex=e.bindingRootIndex=t,od(n)}function LS(){return te.lFrame.currentDirectiveIndex}function od(t){te.lFrame.currentDirectiveIndex=t}function VS(t){let n=te.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function Wm(t){te.lFrame.currentQueryIndex=t}function jS(t){let n=t[oe];return n.type===2?n.declTNode:n.type===1?t[hn]:null}function Gm(t,n,e){if(e&re.SkipSelf){let i=n,o=t;for(;i=i.parent,i===null&&!(e&re.Host);)if(i=jS(o),i===null||(o=o[Ki],i.type&10))break;if(i===null)return!1;n=i,t=o}let r=te.lFrame=qm();return r.currentTNode=n,r.lView=t,!0}function cf(t){let n=qm(),e=t[oe];te.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function qm(){let t=te.lFrame,n=t===null?null:t.child;return n===null?Km(t):n}function Km(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function Zm(){let t=te.lFrame;return te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Qm=Zm;function lf(){let t=Zm();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function US(t){return(te.lFrame.contextLView=wS(t,te.lFrame.contextLView))[fn]}function Mr(){return te.lFrame.selectedIndex}function ti(t){te.lFrame.selectedIndex=t}function mc(){let t=te.lFrame;return Fm(t.tView,t.selectedIndex)}function ge(){te.lFrame.currentNamespace=Rm}function rt(){BS()}function BS(){te.lFrame.currentNamespace=null}function $S(){return te.lFrame.currentNamespace}var Ym=!0;function vc(){return Ym}function yc(t){Ym=t}function HS(t,n,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=Am(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}i&&(e.preOrderHooks??=[]).push(0-t,i),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}function bc(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){let o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:p}=o;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),c&&(t.viewHooks??=[]).push(-e,c),d&&((t.viewHooks??=[]).push(e,d),(t.viewCheckHooks??=[]).push(e,d)),p!=null&&(t.destroyHooks??=[]).push(e,p)}}function Aa(t,n,e){Jm(t,n,3,e)}function ka(t,n,e,r){(t[K]&3)===e&&Jm(t,n,e,r)}function Lu(t,n){let e=t[K];(e&3)===n&&(e&=16383,e+=1,t[K]=e)}function Jm(t,n,e,r){let i=r!==void 0?t[Pi]&65535:0,o=r??-1,s=n.length-1,a=0;for(let c=i;c<s;c++)if(typeof n[c+1]=="number"){if(a=n[c],r!=null&&a>=r)break}else n[c]<0&&(t[Pi]+=65536),(a<o||o==-1)&&(zS(t,e,n,c),t[Pi]=(t[Pi]&4294901760)+c+2),c++}function Ig(t,n){Sn(4,t,n);let e=he(null);try{n.call(t)}finally{he(e),Sn(5,t,n)}}function zS(t,n,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],a=t[s];i?t[K]>>14<t[Pi]>>16&&(t[K]&3)===n&&(t[K]+=16384,Ig(a,o)):Ig(a,o)}var Ri=-1,ni=class{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}};function WS(t){return t instanceof ni}function GS(t){return(t.flags&8)!==0}function qS(t){return(t.flags&16)!==0}var Vu={},sd=class{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=ac(r);let i=this.injector.get(n,Vu,r);return i!==Vu||e===Vu?i:this.parentInjector.get(n,e,r)}};function Xm(t){return t!==Ri}function za(t){return t&32767}function KS(t){return t>>16}function Wa(t,n){let e=KS(t),r=n;for(;e>0;)r=r[Ki],e--;return r}var ad=!0;function Ga(t){let n=ad;return ad=t,n}var ZS=256,ev=ZS-1,tv=5,QS=0,wn={};function YS(t,n,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(Ro)&&(r=e[Ro]),r==null&&(r=e[Ro]=QS++);let i=r&ev,o=1<<i;n.data[t+(i>>tv)]|=o}function qa(t,n){let e=nv(t,n);if(e!==-1)return e;let r=n[oe];r.firstCreatePass&&(t.injectorIndex=n.length,ju(r.data,t),ju(n,null),ju(r.blueprint,null));let i=uf(t,n),o=t.injectorIndex;if(Xm(i)){let s=za(i),a=Wa(i,n),c=a[oe].data;for(let d=0;d<8;d++)n[o+d]=a[s+d]|c[s+d]}return n[o+8]=i,o}function ju(t,n){t.push(0,0,0,0,0,0,0,0,n)}function nv(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function uf(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;i!==null;){if(r=av(i),r===null)return Ri;if(e++,i=i[Ki],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return Ri}function cd(t,n,e){YS(t,n,e)}function JS(t,n){if(n==="class")return t.classes;if(n==="style")return t.styles;let e=t.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if(gm(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===n)return e[i+1];i=i+2}}}return null}function rv(t,n,e){if(e&re.Optional||t!==void 0)return t;Zd(n,"NodeInjector")}function iv(t,n,e,r){if(e&re.Optional&&r===void 0&&(r=null),!(e&(re.Self|re.Host))){let i=t[ji],o=It(void 0);try{return i?i.get(n,r,e&re.Optional):lm(n,r,e&re.Optional)}finally{It(o)}}return rv(r,n,e)}function ov(t,n,e,r=re.Default,i){if(t!==null){if(n[K]&2048&&!(r&re.Self)){let s=rw(t,n,e,r,wn);if(s!==wn)return s}let o=sv(t,n,e,r,wn);if(o!==wn)return o}return iv(n,e,r,i)}function sv(t,n,e,r,i){let o=tw(e);if(typeof o=="function"){if(!Gm(n,t,r))return r&re.Host?rv(i,e,r):iv(n,e,r,i);try{let s;if(s=o(r),s==null&&!(r&re.Optional))Zd(e);else return s}finally{Qm()}}else if(typeof o=="number"){let s=null,a=nv(t,n),c=Ri,d=r&re.Host?n[En][hn]:null;for((a===-1||r&re.SkipSelf)&&(c=a===-1?uf(t,n):n[a+8],c===Ri||!xg(r,!1)?a=-1:(s=n[oe],a=za(c),n=Wa(c,n)));a!==-1;){let p=n[oe];if(Eg(o,a,p.data)){let m=XS(a,n,e,s,r,d);if(m!==wn)return m}c=n[a+8],c!==Ri&&xg(r,n[oe].data[a+8]===d)&&Eg(o,a,n)?(s=p,a=za(c),n=Wa(c,n)):a=-1}}return i}function XS(t,n,e,r,i,o){let s=n[oe],a=s.data[t+8],c=r==null?dc(a)&&ad:r!=s&&(a.type&3)!==0,d=i&re.Host&&o===a,p=ew(a,s,e,c,d);return p!==null?Hi(n,s,p,a):wn}function ew(t,n,e,r,i){let o=t.providerIndexes,s=n.data,a=o&1048575,c=t.directiveStart,d=t.directiveEnd,p=o>>20,m=r?a:a+p,C=i?a+p:d;for(let b=m;b<C;b++){let _=s[b];if(b<c&&e===_||b>=c&&_.type===e)return b}if(i){let b=s[c];if(b&&Sr(b)&&b.type===e)return c}return null}function Hi(t,n,e,r){let i=t[e],o=n.data;if(WS(i)){let s=i;s.resolving&&O_(k_(o[e]));let a=Ga(s.canSeeViewProviders);s.resolving=!0;let c,d=s.injectImpl?It(s.injectImpl):null,p=Gm(t,r,re.Default);try{i=t[e]=s.factory(void 0,o,t,r),n.firstCreatePass&&e>=r.directiveStart&&HS(e,o[e],n)}finally{d!==null&&It(d),Ga(a),s.resolving=!1,Qm()}}return i}function tw(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(Ro)?t[Ro]:void 0;return typeof n=="number"?n>=0?n&ev:nw:n}function Eg(t,n,e){let r=1<<t;return!!(e[n+(t>>tv)]&r)}function xg(t,n){return!(t&re.Self)&&!(t&re.Host&&n)}var Yr=class{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return ov(this._tNode,this._lView,n,ac(r),e)}};function nw(){return new Yr(pt(),se())}function Qt(t){return Bo(()=>{let n=t.prototype.constructor,e=n[Na]||ld(n),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Na]||ld(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ld(t){return rm(t)?()=>{let n=ld(vt(t));return n&&n()}:Jr(t)}function rw(t,n,e,r,i){let o=t,s=n;for(;o!==null&&s!==null&&s[K]&2048&&!(s[K]&512);){let a=sv(o,s,e,r|re.Self,wn);if(a!==wn)return a;let c=o.parent;if(!c){let d=s[Mm];if(d){let p=d.get(e,wn,r);if(p!==wn)return p}c=av(s),s=s[Ki]}o=c}return i}function av(t){let n=t[oe],e=n.type;return e===2?n.declTNode:e===1?t[hn]:null}function df(t){return JS(pt(),t)}function Mg(t,n=null,e=null,r){let i=cv(t,n,e,r);return i.resolveInjectorInitializers(),i}function cv(t,n=null,e=null,r,i=new Set){let o=[e||Et,sS(t)];return r=r||(typeof t=="object"?void 0:yt(t)),new Lo(o,n||ef(),r||null,i)}var qt=class t{static{this.THROW_IF_NOT_FOUND=No}static{this.NULL=new Va}static create(n,e){if(Array.isArray(n))return Mg({name:""},e,n,"");{let r=n.name??"";return Mg({name:r},n.parent,n.providers,r)}}static{this.\u0275prov=S({token:t,providedIn:"any",factory:()=>N(fm)})}static{this.__NG_ELEMENT_ID__=-1}};var iw=new j("");iw.__NG_ELEMENT_ID__=t=>{let n=pt();if(n===null)throw new F(204,!1);if(n.type&2)return n.value;if(t&re.Optional)return null;throw new F(204,!1)};var ow="ngOriginalError";function Uu(t){return t[ow]}var lv=!0,Qi=(()=>{class t{static{this.__NG_ELEMENT_ID__=sw}static{this.__NG_ENV_ID__=e=>e}}return t})(),ud=class extends Qi{constructor(n){super(),this._lView=n}onDestroy(n){return jm(this._lView,n),()=>DS(this._lView,n)}};function sw(){return new ud(se())}var Tr=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ce(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t})}}return t})();var dd=class extends Pe{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,xm()&&(this.destroyRef=g(Qi,{optional:!0})??void 0,this.pendingTasks=g(Tr,{optional:!0})??void 0)}emit(n){let e=he(null);try{super.next(n)}finally{he(e)}}subscribe(n,e,r){let i=n,o=e||(()=>null),s=r;if(n&&typeof n=="object"){let c=n;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof $e&&n.add(a),a}wrapInTimeout(n){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{n(e),r!==void 0&&this.pendingTasks?.remove(r)})}}},Le=dd;function Ka(...t){}function uv(t){let n,e;function r(){t=Ka;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Tg(t){return queueMicrotask(()=>t()),()=>{t=Ka}}var ff="isAngularZone",Za=ff+"_ID",aw=0,xe=class t{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Le(!1),this.onMicrotaskEmpty=new Le(!1),this.onStable=new Le(!1),this.onError=new Le(!1);let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=lv}=n;if(typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,uw(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ff)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new F(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,cw,Ka,Ka);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}},cw={};function hf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function lw(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){uv(()=>{t.callbackScheduled=!1,fd(t),t.isCheckStableRunning=!0,hf(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),fd(t)}function uw(t){let n=()=>{lw(t)},e=aw++;t._inner=t._inner.fork({name:"angular",properties:{[ff]:!0,[Za]:e,[Za+e]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(dw(c))return r.invokeTask(o,s,a,c);try{return Pg(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),Ag(t)}},onInvoke:(r,i,o,s,a,c,d)=>{try{return Pg(t),r.invoke(o,s,a,c,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!fw(c)&&n(),Ag(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,fd(t),hf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function fd(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Pg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ag(t){t._nesting--,hf(t)}var hd=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Le,this.onMicrotaskEmpty=new Le,this.onStable=new Le,this.onError=new Le}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}};function dw(t){return dv(t,"__ignore_ng_zone__")}function fw(t){return dv(t,"__scheduler_tick__")}function dv(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var Yn=class{constructor(){this._console=console}handleError(n){let e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&Uu(n);for(;e&&Uu(e);)e=Uu(e);return e||null}},hw=new j("",{providedIn:"root",factory:()=>{let t=g(xe),n=g(Yn);return e=>t.runOutsideAngular(()=>n.handleError(e))}});function pw(){return Cc(pt(),se())}function Cc(t,n){return new Yt(Zt(t,n))}var Yt=(()=>{class t{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=pw}}return t})();function fv(t){return(t.flags&128)===128}var hv=new Map,gw=0;function mw(){return gw++}function vw(t){hv.set(t[uc],t)}function pd(t){hv.delete(t[uc])}var kg="__ngContext__";function wr(t,n){br(n)?(t[kg]=n[uc],vw(n)):t[kg]=n}function pv(t){return mv(t[Vo])}function gv(t){return mv(t[dn])}function mv(t){for(;t!==null&&!er(t);)t=t[dn];return t}var gd;function vv(t){gd=t}function yw(){if(gd!==void 0)return gd;if(typeof document<"u")return document;throw new F(210,!1)}var pf=new j("",{providedIn:"root",factory:()=>bw}),bw="ng",gf=new j(""),Jt=new j("",{providedIn:"platform",factory:()=>"unknown"});var mf=new j("",{providedIn:"root",factory:()=>yw().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Cw="h",_w="b";var Sw=()=>null;function vf(t,n,e=!1){return Sw(t,n,e)}var yv=!1,ww=new j("",{providedIn:"root",factory:()=>yv});var Da;function Dw(){if(Da===void 0&&(Da=null,Qn.trustedTypes))try{Da=Qn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Da}function _c(t){return Dw()?.createHTML(t)||t}var Ia;function Iw(){if(Ia===void 0&&(Ia=null,Qn.trustedTypes))try{Ia=Qn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ia}function Og(t){return Iw()?.createScriptURL(t)||t}var Jn=class{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tm})`}},md=class extends Jn{getTypeName(){return"HTML"}},vd=class extends Jn{getTypeName(){return"Style"}},yd=class extends Jn{getTypeName(){return"Script"}},bd=class extends Jn{getTypeName(){return"URL"}},Cd=class extends Jn{getTypeName(){return"ResourceURL"}};function gn(t){return t instanceof Jn?t.changingThisBreaksApplicationSecurity:t}function Pr(t,n){let e=Ew(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${tm})`)}return e===n}function Ew(t){return t instanceof Jn&&t.getTypeName()||null}function bv(t){return new md(t)}function Cv(t){return new vd(t)}function _v(t){return new yd(t)}function Sv(t){return new bd(t)}function wv(t){return new Cd(t)}function xw(t){let n=new Sd(t);return Mw()?new _d(n):n}var _d=class{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let e=new window.DOMParser().parseFromString(_c(n),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(n):(e.firstChild?.remove(),e)}catch{return null}}},Sd=class{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let e=this.inertDocument.createElement("template");return e.innerHTML=_c(n),e}};function Mw(){try{return!!new window.DOMParser().parseFromString(_c(""),"text/html")}catch{return!1}}var Tw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Sc(t){return t=String(t),t.match(Tw)?t:"unsafe:"+t}function tr(t){let n={};for(let e of t.split(","))n[e]=!0;return n}function Wo(...t){let n={};for(let e of t)for(let r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}var Dv=tr("area,br,col,hr,img,wbr"),Iv=tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ev=tr("rp,rt"),Pw=Wo(Ev,Iv),Aw=Wo(Iv,tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),kw=Wo(Ev,tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rg=Wo(Dv,Aw,kw,Pw),xv=tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ow=tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Rw=tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Nw=Wo(xv,Ow,Rw),Fw=tr("script,style,template"),wd=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0,i=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild){i.push(e),e=jw(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=Vw(e);if(o){e=o;break}e=i.pop()}}return this.buf.join("")}startElement(n){let e=Ng(n).toLowerCase();if(!Rg.hasOwnProperty(e))return this.sanitizedSomething=!0,!Fw.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let r=n.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!Nw.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;xv[a]&&(c=Sc(c)),this.buf.push(" ",s,'="',Fg(c),'"')}return this.buf.push(">"),!0}endElement(n){let e=Ng(n).toLowerCase();Rg.hasOwnProperty(e)&&!Dv.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(Fg(n))}};function Lw(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Vw(t){let n=t.nextSibling;if(n&&t!==n.previousSibling)throw Mv(n);return n}function jw(t){let n=t.firstChild;if(n&&Lw(t,n))throw Mv(n);return n}function Ng(t){let n=t.nodeName;return typeof n=="string"?n:"FORM"}function Mv(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var Uw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bw=/([^\#-~ |!])/g;function Fg(t){return t.replace(/&/g,"&amp;").replace(Uw,function(n){let e=n.charCodeAt(0),r=n.charCodeAt(1);return"&#"+((e-55296)*1024+(r-56320)+65536)+";"}).replace(Bw,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ea;function Tv(t,n){let e=null;try{Ea=Ea||xw(t);let r=n?String(n):"";e=Ea.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=Ea.getInertBodyElement(r)}while(r!==o);let a=new wd().sanitizeChildren(Lg(e)||e);return _c(a)}finally{if(e){let r=Lg(e)||e;for(;r.firstChild;)r.firstChild.remove()}}}function Lg(t){return"content"in t&&$w(t)?t.content:null}function $w(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Pn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Pn||{});function We(t){let n=Av();return n?n.sanitize(Pn.URL,t)||"":Pr(t,"URL")?gn(t):Sc(Ni(t))}function Hw(t){let n=Av();if(n)return Og(n.sanitize(Pn.RESOURCE_URL,t)||"");if(Pr(t,"ResourceURL"))return Og(gn(t));throw new F(904,!1)}function zw(t,n){return n==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||n==="href"&&(t==="base"||t==="link")?Hw:We}function Pv(t,n,e){return zw(n,e)(t)}function Av(){let t=se();return t&&t[In].sanitizer}var Ww=/^>|^->|<!--|-->|--!>|<!-$/g,Gw=/(<|>)/g,qw="\u200B$1\u200B";function Kw(t){return t.replace(Ww,n=>n.replace(Gw,qw))}function kv(t){return t instanceof Function?t():t}function Zw(t){return(t??g(qt)).get(Jt)==="browser"}var Mn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Mn||{}),Qw;function yf(t,n){return Qw(t,n)}function Ai(t,n,e,r,i){if(r!=null){let o,s=!1;er(r)?o=r:br(r)&&(s=!0,r=r[Xn]);let a=xn(r);t===0&&e!==null?i==null?Lv(n,e,a):Qa(n,e,a,i||null,!0):t===1&&e!==null?Qa(n,e,a,i||null,!0):t===2?fD(n,a,s):t===3&&n.destroyNode(a),o!=null&&pD(n,t,o,e,i)}}function Yw(t,n){return t.createText(n)}function Jw(t,n,e){t.setValue(n,e)}function Xw(t,n){return t.createComment(Kw(n))}function Ov(t,n,e){return t.createElement(n,e)}function eD(t,n){Rv(t,n),n[Xn]=null,n[hn]=null}function tD(t,n,e,r,i,o){r[Xn]=i,r[hn]=n,Dc(t,r,e,1,i,o)}function Rv(t,n){n[In].changeDetectionScheduler?.notify(9),Dc(t,n,n[He],2,null,null)}function nD(t){let n=t[Vo];if(!n)return Bu(t[oe],t);for(;n;){let e=null;if(br(n))e=n[Vo];else{let r=n[Gt];r&&(e=r)}if(!e){for(;n&&!n[dn]&&n!==t;)br(n)&&Bu(n[oe],n),n=n[Ct];n===null&&(n=t),br(n)&&Bu(n[oe],n),e=n&&n[dn]}n=e}}function rD(t,n,e,r){let i=Gt+r,o=e.length;r>0&&(e[i-1][dn]=n),r<o-Gt?(n[dn]=e[i],dm(e,Gt+r,n)):(e.push(n),n[dn]=null),n[Ct]=e;let s=n[Ui];s!==null&&e!==s&&Nv(s,n);let a=n[Bi];a!==null&&a.insertView(t),id(n),n[K]|=128}function Nv(t,n){let e=t[$a],r=n[Ct];if(br(r))t[K]|=Ha.HasTransplantedViews;else{let i=r[Ct][En];n[En]!==i&&(t[K]|=Ha.HasTransplantedViews)}e===null?t[$a]=[n]:e.push(n)}function bf(t,n){let e=t[$a],r=e.indexOf(n);e.splice(r,1)}function Dd(t,n){if(t.length<=Gt)return;let e=Gt+n,r=t[e];if(r){let i=r[Ui];i!==null&&i!==t&&bf(i,r),n>0&&(t[e-1][dn]=r[dn]);let o=La(t,Gt+n);eD(r[oe],r);let s=o[Bi];s!==null&&s.detachView(o[oe]),r[Ct]=null,r[dn]=null,r[K]&=-129}return r}function Fv(t,n){if(!(n[K]&256)){let e=n[He];e.destroyNode&&Dc(t,n,e,3,null,null),nD(n)}}function Bu(t,n){if(n[K]&256)return;let e=he(null);try{n[K]&=-129,n[K]|=256,n[Wt]&&pu(n[Wt]),oD(t,n),iD(t,n),n[oe].type===1&&n[He].destroy();let r=n[Ui];if(r!==null&&er(n[Ct])){r!==n[Ct]&&bf(r,n);let i=n[Bi];i!==null&&i.detachView(t)}pd(n)}finally{he(e)}}function iD(t,n){let e=t.cleanup,r=n[Ua];if(e!==null)for(let o=0;o<e.length-1;o+=2)if(typeof e[o]=="string"){let s=e[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[e[o+1]];e[o].call(s)}r!==null&&(n[Ua]=null);let i=n[yr];if(i!==null){n[yr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function oD(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=n[e[r]];if(!(i instanceof ni)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Sn(4,a,c);try{c.call(a)}finally{Sn(5,a,c)}}else{Sn(4,i,o);try{o.call(i)}finally{Sn(5,i,o)}}}}}function sD(t,n,e){return aD(t,n.parent,e)}function aD(t,n,e){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return e[Xn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Dn.None||o===Dn.Emulated)return null}return Zt(r,e)}}function Qa(t,n,e,r,i){t.insertBefore(n,e,r,i)}function Lv(t,n,e){t.appendChild(n,e)}function Vg(t,n,e,r,i){r!==null?Qa(t,n,e,r,i):Lv(t,n,e)}function Vv(t,n){return t.parentNode(n)}function cD(t,n){return t.nextSibling(n)}function lD(t,n,e){return dD(t,n,e)}function uD(t,n,e){return t.type&40?Zt(t,e):null}var dD=uD,jg;function wc(t,n,e,r){let i=sD(t,r,n),o=n[He],s=r.parent||n[hn],a=lD(s,r,n);if(i!=null)if(Array.isArray(e))for(let c=0;c<e.length;c++)Vg(o,i,e[c],a,!1);else Vg(o,i,e,a,!1);jg!==void 0&&jg(o,r,n,e,i)}function Oo(t,n){if(n!==null){let e=n.type;if(e&3)return Zt(n,t);if(e&4)return Id(-1,t[n.index]);if(e&8){let r=n.child;if(r!==null)return Oo(t,r);{let i=t[n.index];return er(i)?Id(-1,i):xn(i)}}else{if(e&128)return Oo(t,n.next);if(e&32)return yf(n,t)()||xn(t[n.index]);{let r=jv(t,n);if(r!==null){if(Array.isArray(r))return r[0];let i=ei(t[En]);return Oo(i,r)}else return Oo(t,n.next)}}}return null}function jv(t,n){if(n!==null){let r=t[En][hn],i=n.projection;return r.projection[i]}return null}function Id(t,n){let e=Gt+t+1;if(e<n.length){let r=n[e],i=r[oe].firstChild;if(i!==null)return Oo(r,i)}return n[Xr]}function fD(t,n,e){t.removeChild(null,n,e)}function Cf(t,n,e,r,i,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=r[e.index],c=e.type;if(s&&n===0&&(a&&wr(xn(a),r),e.flags|=2),(e.flags&32)!==32)if(c&8)Cf(t,n,e.child,r,i,o,!1),Ai(n,t,i,a,o);else if(c&32){let d=yf(e,r),p;for(;p=d();)Ai(n,t,i,p,o);Ai(n,t,i,a,o)}else c&16?hD(t,n,r,e,i,o):Ai(n,t,i,a,o);e=s?e.projectionNext:e.next}}function Dc(t,n,e,r,i,o){Cf(e,r,t.firstChild,n,i,o,!1)}function hD(t,n,e,r,i,o){let s=e[En],c=s[hn].projection[r.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++){let p=c[d];Ai(n,t,i,p,o)}else{let d=c,p=s[Ct];fv(r)&&(d.flags|=128),Cf(t,n,d,p,i,o,!0)}}function pD(t,n,e,r,i){let o=e[Xr],s=xn(e);o!==s&&Ai(n,t,r,o,i);for(let a=Gt;a<e.length;a++){let c=e[a];Dc(c[oe],c,t,n,r,o)}}function gD(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:Mn.DashCase;i==null?t.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Mn.Important),t.setStyle(e,r,i,o))}}function mD(t,n,e){t.setAttribute(n,"style",e)}function Uv(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function Bv(t,n,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&Ju(t,n,r),i!==null&&Uv(t,n,i),o!==null&&mD(t,n,o)}var jt={};function f(t=1){$v(nt(),se(),Mr()+t,!1)}function $v(t,n,e,r){if(!r)if((n[K]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Aa(n,o,e)}else{let o=t.preOrderHooks;o!==null&&ka(n,o,0,e)}ti(e)}function I(t,n=re.Default){let e=se();if(e===null)return N(t,n);let r=pt();return ov(r,e,vt(t),n)}function Hv(){let t="invalid";throw new Error(t)}function zv(t,n,e,r,i,o){let s=he(null);try{let a=null;i&Cr.SignalBased&&(a=n[r][Gn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Cr.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(n,o)),t.setInput!==null?t.setInput(n,a,o,e,r):Pm(n,a,r,o)}finally{he(s)}}function vD(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)ti(~i);else{let o=i,s=e[++r],a=e[++r];FS(s,o);let c=n[o];a(2,c)}}}finally{ti(-1)}}function Ic(t,n,e,r,i,o,s,a,c,d,p){let m=n.blueprint.slice();return m[Xn]=i,m[K]=r|4|128|8|64,(d!==null||t&&t[K]&2048)&&(m[K]|=2048),Lm(m),m[Ct]=m[Ki]=t,m[fn]=e,m[In]=s||t&&t[In],m[He]=a||t&&t[He],m[ji]=c||t&&t[ji]||null,m[hn]=o,m[uc]=mw(),m[ja]=p,m[Mm]=d,m[En]=n.type==2?t[En]:m,m}function Go(t,n,e,r,i){let o=t.data[n];if(o===null)o=yD(t,n,e,r,i),NS()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=AS();o.injectorIndex=s===null?-1:s.injectorIndex}return oi(o,!0),o}function yD(t,n,e,r,i){let o=$m(),s=sf(),a=s?o:o&&o.parent,c=t.data[n]=wD(t,a,e,n,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function Wv(t,n,e,r){if(e===0)return-1;let i=n.length;for(let o=0;o<e;o++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function Gv(t,n,e,r,i){let o=Mr(),s=r&2;try{ti(-1),s&&n.length>Ft&&$v(t,n,Ft,!1),Sn(s?2:0,i),e(r,i)}finally{ti(o),Sn(s?3:1,i)}}function _f(t,n,e){if(nf(n)){let r=he(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=e[s];a.contentQueries(1,c,s)}}}finally{he(r)}}}function Sf(t,n,e){Bm()&&(TD(t,n,e,Zt(e,n)),(e.flags&64)===64&&Zv(t,n,e))}function wf(t,n,e=Zt){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?e(n,t):t[s];t[i++]=a}}}function qv(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=Df(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Df(t,n,e,r,i,o,s,a,c,d,p){let m=Ft+r,C=m+i,b=bD(m,C),_=typeof d=="function"?d():d;return b[oe]={type:t,blueprint:b,template:e,queries:null,viewQuery:a,declTNode:n,data:b.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:C,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:p}}function bD(t,n){let e=[];for(let r=0;r<n;r++)e.push(r<t?null:jt);return e}function CD(t,n,e,r){let o=r.get(ww,yv)||e===Dn.ShadowDom,s=t.selectRootElement(n,o);return _D(s),s}function _D(t){SD(t)}var SD=()=>null;function wD(t,n,e,r,i,o){let s=n?n.injectorIndex:-1,a=0;return MS()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Ug(t,n,e,r,i){for(let o in n){if(!n.hasOwnProperty(o))continue;let s=n[o];if(s===void 0)continue;r??={};let a,c=Cr.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}t===0?Bg(r,e,d,a,c):Bg(r,e,d,a)}return r}function Bg(t,n,e,r,i){let o;t.hasOwnProperty(e)?(o=t[e]).push(n,r):o=t[e]=[n,r],i!==void 0&&o.push(i)}function DD(t,n,e){let r=n.directiveStart,i=n.directiveEnd,o=t.data,s=n.attrs,a=[],c=null,d=null;for(let p=r;p<i;p++){let m=o[p],C=e?e.get(m):null,b=C?C.inputs:null,_=C?C.outputs:null;c=Ug(0,m.inputs,p,c,b),d=Ug(1,m.outputs,p,d,_);let A=c!==null&&s!==null&&!Jd(n)?UD(c,p,s):null;a.push(A)}c!==null&&(c.hasOwnProperty("class")&&(n.flags|=8),c.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=c,n.outputs=d}function ID(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function If(t,n,e,r,i,o,s,a){let c=Zt(n,e),d=n.inputs,p;!a&&d!=null&&(p=d[r])?(xf(t,e,p,r,i),dc(n)&&ED(e,n.index)):n.type&3?(r=ID(r),i=s!=null?s(i,n.value||"",r):i,o.setProperty(c,r,i)):n.type&12}function ED(t,n){let e=xr(n,t);e[K]&16||(e[K]|=64)}function Ef(t,n,e,r){if(Bm()){let i=r===null?null:{"":-1},o=AD(t,e),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Kv(t,n,e,s,i,a),i&&kD(e,r,i)}e.mergedAttrs=Fo(e.mergedAttrs,e.attrs)}function Kv(t,n,e,r,i,o){for(let d=0;d<r.length;d++)cd(qa(e,n),t,r[d].type);RD(e,t.data.length,r.length);for(let d=0;d<r.length;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let s=!1,a=!1,c=Wv(t,n,r.length,null);for(let d=0;d<r.length;d++){let p=r[d];e.mergedAttrs=Fo(e.mergedAttrs,p.hostAttrs),ND(t,e,n,c,p),OD(c,p,i),p.contentQueries!==null&&(e.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(e.flags|=64);let m=p.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),c++}DD(t,e,o)}function xD(t,n,e,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~n.index;MD(s)!=a&&s.push(a),s.push(e,r,o)}}function MD(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function TD(t,n,e,r){let i=e.directiveStart,o=e.directiveEnd;dc(e)&&FD(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||qa(e,n),wr(r,n);let s=e.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],d=Hi(n,t,a,e);if(wr(d,n),s!==null&&jD(n,a-i,d,c,e,s),Sr(c)){let p=xr(e.index,n);p[fn]=Hi(n,t,a,e)}}}function Zv(t,n,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=LS();try{ti(o);for(let a=r;a<i;a++){let c=t.data[a],d=n[a];od(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&PD(c,d)}}finally{ti(-1),od(s)}}function PD(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function AD(t,n){let e=t.directiveRegistry,r=null,i=null;if(e)for(let o=0;o<e.length;o++){let s=e[o];if(Y_(n,s.selectors,!1))if(r||(r=[]),Sr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Ed(t,n,c)}else r.unshift(s),Ed(t,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Ed(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function kD(t,n,e){if(n){let r=t.localNames=[];for(let i=0;i<n.length;i+=2){let o=e[n[i+1]];if(o==null)throw new F(-301,!1);r.push(n[i],o)}}}function OD(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;Sr(n)&&(e[""]=t)}}function RD(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function ND(t,n,e,r,i){t.data[r]=i;let o=i.factory||(i.factory=Jr(i.type,!0)),s=new ni(o,Sr(i),I);t.blueprint[r]=s,e[r]=s,xD(t,n,r,Wv(t,e,i.hostVars,jt),i)}function FD(t,n,e){let r=Zt(n,t),i=qv(e),o=t[In].rendererFactory,s=16;e.signals?s=4096:e.onPush&&(s=64);let a=Ec(t,Ic(t,i,null,s,r,n,null,o.createRenderer(r,e),null,null,null));t[n.index]=a}function LD(t,n,e,r,i,o){let s=Zt(t,n);VD(n[He],s,o,t.value,e,r,i)}function VD(t,n,e,r,i,o,s){if(o==null)t.removeAttribute(n,i,e);else{let a=s==null?Ni(o):s(o,r||"",i);t.setAttribute(n,i,a,e)}}function jD(t,n,e,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],d=s[a++],p=s[a++],m=s[a++];zv(r,e,c,d,p,m)}}function UD(t,n,e){let r=null,i=0;for(;i<e.length;){let o=e[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){r.push(o,s[a+1],s[a+2],e[i+1]);break}}i+=2}return r}function Qv(t,n,e,r){return[t,!0,0,n,null,r,null,e,null,null]}function Yv(t,n){let e=t.contentQueries;if(e!==null){let r=he(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=t.data[s];Wm(o),a.contentQueries(2,n[s],s)}}}finally{he(r)}}}function Ec(t,n){return t[Vo]?t[Sg][dn]=n:t[Vo]=n,t[Sg]=n,n}function xd(t,n,e){Wm(0);let r=he(null);try{n(t,e)}finally{he(r)}}function BD(t){return t[Ua]??=[]}function $D(t){return t.cleanup??=[]}function Jv(t,n){let e=t[ji],r=e?e.get(Yn,null):null;r&&r.handleError(n)}function xf(t,n,e,r,i){for(let o=0;o<e.length;){let s=e[o++],a=e[o++],c=e[o++],d=n[s],p=t.data[s];zv(p,d,r,a,c,i)}}function Xv(t,n,e){let r=Nm(n,t);Jw(t[He],r,e)}function HD(t,n){let e=xr(n,t),r=e[oe];zD(r,e);let i=e[Xn];i!==null&&e[ja]===null&&(e[ja]=vf(i,e[ji])),Mf(r,e,e[fn])}function zD(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function Mf(t,n,e){cf(n);try{let r=t.viewQuery;r!==null&&xd(1,r,e);let i=t.template;i!==null&&Gv(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[Bi]?.finishViewCreation(t),t.staticContentQueries&&Yv(t,n),t.staticViewQueries&&xd(2,t.viewQuery,e);let o=t.components;o!==null&&WD(n,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[K]&=-5,lf()}}function WD(t,n){for(let e=0;e<n.length;e++)HD(t,n[e])}function GD(t,n,e,r){let i=he(null);try{let o=n.tView,a=t[K]&4096?4096:16,c=Ic(t,o,e,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[n.index];c[Ui]=d;let p=t[Bi];return p!==null&&(c[Bi]=p.createEmbeddedView(o)),Mf(o,c,e),c}finally{he(i)}}function $g(t,n){return!n||n.firstChild===null||fv(t)}function qD(t,n,e,r=!0){let i=n[oe];if(rD(i,n,t,e),r){let s=Id(e,t),a=n[He],c=Vv(a,t[Xr]);c!==null&&tD(i,t[hn],a,n,c,s)}let o=n[ja];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ya(t,n,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=n[e.index];o!==null&&r.push(xn(o)),er(o)&&KD(o,r);let s=e.type;if(s&8)Ya(t,n,e.child,r);else if(s&32){let a=yf(e,n),c;for(;c=a();)r.push(c)}else if(s&16){let a=jv(n,e);if(Array.isArray(a))r.push(...a);else{let c=ei(n[En]);Ya(c[oe],c,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function KD(t,n){for(let e=Gt;e<t.length;e++){let r=t[e],i=r[oe].firstChild;i!==null&&Ya(r[oe],r,i,n)}t[Xr]!==t[Xn]&&n.push(t[Xr])}var e0=[];function ZD(t){return t[Wt]??QD(t)}function QD(t){let n=e0.pop()??Object.create(JD);return n.lView=t,n}function YD(t){t.lView[Wt]!==t&&(t.lView=null,e0.push(t))}var JD=W(x({},Eo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{pc(t.lView)},consumerOnSignalRead(){this.lView[Wt]=this}});function XD(t){let n=t[Wt]??Object.create(eI);return n.lView=t,n}var eI=W(x({},Eo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=ei(t.lView);for(;n&&!t0(n[oe]);)n=ei(n);n&&Vm(n)},consumerOnSignalRead(){this.lView[Wt]=this}});function t0(t){return t.type!==2}var tI=100;function n0(t,n=!0,e=0){let r=t[In],i=r.rendererFactory,o=!1;o||i.begin?.();try{nI(t,e)}catch(s){throw n&&Jv(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function nI(t,n){let e=zm();try{Dg(!0),Md(t,n);let r=0;for(;hc(t);){if(r===tI)throw new F(103,!1);r++,Md(t,1)}}finally{Dg(e)}}function rI(t,n,e,r){let i=n[K];if((i&256)===256)return;let o=!1,s=!1;!o&&n[In].inlineEffectRunner?.flush(),cf(n);let a=!0,c=null,d=null;o||(t0(t)?(d=ZD(n),c=Ws(d)):Tp()===null?(a=!1,d=XD(n),c=Ws(d)):n[Wt]&&(pu(n[Wt]),n[Wt]=null));try{Lm(n),RS(t.bindingStartIndex),e!==null&&Gv(t,n,e,2,r);let p=(i&3)===3;if(!o)if(p){let b=t.preOrderCheckHooks;b!==null&&Aa(n,b,null)}else{let b=t.preOrderHooks;b!==null&&ka(n,b,0,null),Lu(n,0)}if(s||iI(n),r0(n,0),t.contentQueries!==null&&Yv(t,n),!o)if(p){let b=t.contentCheckHooks;b!==null&&Aa(n,b)}else{let b=t.contentHooks;b!==null&&ka(n,b,1),Lu(n,1)}vD(t,n);let m=t.components;m!==null&&o0(n,m,0);let C=t.viewQuery;if(C!==null&&xd(2,C,r),!o)if(p){let b=t.viewCheckHooks;b!==null&&Aa(n,b)}else{let b=t.viewHooks;b!==null&&ka(n,b,2),Lu(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[Fu]){for(let b of n[Fu])b();n[Fu]=null}o||(n[K]&=-73)}catch(p){throw o||pc(n),p}finally{d!==null&&(fu(d,c),a&&YD(d)),lf()}}function r0(t,n){for(let e=pv(t);e!==null;e=gv(e))for(let r=Gt;r<e.length;r++){let i=e[r];i0(i,n)}}function iI(t){for(let n=pv(t);n!==null;n=gv(n)){if(!(n[K]&Ha.HasTransplantedViews))continue;let e=n[$a];for(let r=0;r<e.length;r++){let i=e[r];Vm(i)}}}function oI(t,n,e){let r=xr(n,t);i0(r,e)}function i0(t,n){of(t)&&Md(t,n)}function Md(t,n){let r=t[oe],i=t[K],o=t[Wt],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&hu(o)),s||=!1,o&&(o.dirty=!1),t[K]&=-9217,s)rI(r,t,r.template,t[fn]);else if(i&8192){r0(t,1);let a=r.components;a!==null&&o0(t,a,1)}}function o0(t,n,e){for(let r=0;r<n.length;r++)oI(t,n[r],e)}function Tf(t,n){let e=zm()?64:1088;for(t[In].changeDetectionScheduler?.notify(n);t;){t[K]|=e;let r=ei(t);if(nd(t)&&!r)return t;t=r}return null}var ri=class{get rootNodes(){let n=this._lView,e=n[oe];return Ya(e,n,e.firstChild,[])}constructor(n,e,r=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fn]}set context(n){this._lView[fn]=n}get destroyed(){return(this._lView[K]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Ct];if(er(n)){let e=n[Ba],r=e?e.indexOf(this):-1;r>-1&&(Dd(n,r),La(e,r))}this._attachedToViewContainer=!1}Fv(this._lView[oe],this._lView)}onDestroy(n){jm(this._lView,n)}markForCheck(){Tf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[K]&=-129}reattach(){id(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,n0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=nd(this._lView),e=this._lView[Ui];e!==null&&!n&&bf(e,this._lView),Rv(this._lView[oe],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=n;let e=nd(this._lView),r=this._lView[Ui];r!==null&&!e&&Nv(r,this._lView),id(this._lView)}},qo=(()=>{class t{static{this.__NG_ELEMENT_ID__=cI}}return t})(),sI=qo,aI=class extends sI{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,r){let i=GD(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:r});return new ri(i)}};function cI(){return s0(pt(),se())}function s0(t,n){return t.type&4?new aI(n,t,Cc(t,n)):null}var Uj=new RegExp(`^(\\d+)*(${_w}|${Cw})*(.*)`);var lI=()=>null;function Hg(t,n){return lI(t,n)}var zi=class{},xc=new j("",{providedIn:"root",factory:()=>!1});var a0=new j(""),c0=new j(""),Td=class{},Ja=class{};function uI(t){let n=Error(`No component factory found for ${yt(t)}.`);return n[dI]=t,n}var dI="ngComponent";var Pd=class{resolveComponentFactory(n){throw uI(n)}},Wi=class{static{this.NULL=new Pd}},Dr=class{},mn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>fI()}}return t})();function fI(){let t=se(),n=pt(),e=xr(n.index,t);return(br(e)?e:t)[He]}var hI=(()=>{class t{static{this.\u0275prov=S({token:t,providedIn:"root",factory:()=>null})}}return t})();function Xa(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=Ku(i,a);else if(o==2){let c=a,d=n[++s];r=Ku(r,c+": "+d+";")}}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}var ec=class extends Wi{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=_r(n);return new Gi(e,this.ngModule)}};function zg(t,n){let e=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Cr.None;n?e.push({propName:s,templateName:r,isSignal:(a&Cr.SignalBased)!==0}):e.push({propName:s,templateName:r})}return e}function pI(t){let n=t.toLowerCase();return n==="svg"?Rm:n==="math"?_S:null}var Gi=class extends Ja{get inputs(){let n=this.componentDef,e=n.inputTransforms,r=zg(n.inputs,!0);if(e!==null)for(let i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return zg(this.componentDef.outputs,!1)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=tS(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,r,i){let o=he(null);try{i=i||this.ngModule;let s=i instanceof bt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new sd(n,s):n,c=a.get(Dr,null);if(c===null)throw new F(407,!1);let d=a.get(hI,null),p=a.get(zi,null),m={rendererFactory:c,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:p},C=c.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",_=r?CD(C,r,this.componentDef.encapsulation,a):Ov(C,b,pI(b)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let k=null;_!==null&&(k=vf(_,a,!0));let $=Df(0,null,null,1,0,null,null,null,null,null,null),fe=Ic(null,$,null,A,null,null,m,C,a,null,k);cf(fe);let U,Fe,at=null;try{let Xe=this.componentDef,Wn,cu=null;Xe.findHostDirectiveDefs?(Wn=[],cu=new Map,Xe.findHostDirectiveDefs(Xe,Wn,cu),Wn.push(Xe)):Wn=[Xe];let $C=gI(fe,_);at=mI($C,_,Xe,Wn,fe,m,C),Fe=Fm($,Ft),_&&bI(C,Xe,_,r),e!==void 0&&CI(Fe,this.ngContentSelectors,e),U=yI(at,Xe,Wn,cu,fe,[_I]),Mf($,fe,null)}catch(Xe){throw at!==null&&pd(at),pd(fe),Xe}finally{lf()}return new Ad(this.componentType,U,Cc(Fe,fe),fe,Fe)}finally{he(o)}}},Ad=class extends Td{constructor(n,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new ri(i,void 0,!1),this.componentType=n}setInput(n,e){let r=this._tNode.inputs,i;if(r!==null&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let o=this._rootLView;xf(o[oe],o,i,n,e),this.previousInputValues.set(n,e);let s=xr(this._tNode.index,o);Tf(s,1)}}get injector(){return new Yr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function gI(t,n){let e=t[oe],r=Ft;return t[r]=n,Go(e,r,2,"#host",null)}function mI(t,n,e,r,i,o,s){let a=i[oe];vI(r,t,n,s);let c=null;n!==null&&(c=vf(n,i[ji]));let d=o.rendererFactory.createRenderer(n,e),p=16;e.signals?p=4096:e.onPush&&(p=64);let m=Ic(i,qv(e),null,p,i[t.index],t,o,d,null,null,c);return a.firstCreatePass&&Ed(a,t,r.length-1),Ec(i,m),i[t.index]=m}function vI(t,n,e,r){for(let i of t)n.mergedAttrs=Fo(n.mergedAttrs,i.hostAttrs);n.mergedAttrs!==null&&(Xa(n,n.mergedAttrs,!0),e!==null&&Bv(r,e,n))}function yI(t,n,e,r,i,o){let s=pt(),a=i[oe],c=Zt(s,i);Kv(a,i,s,e,null,r);for(let p=0;p<e.length;p++){let m=s.directiveStart+p,C=Hi(i,a,m,s);wr(C,i)}Zv(a,i,s),c&&wr(c,i);let d=Hi(i,a,s.directiveStart+s.componentOffset,s);if(t[fn]=i[fn]=d,o!==null)for(let p of o)p(d,n);return _f(a,s,i),d}function bI(t,n,e,r){if(r)Ju(t,e,["ng-version","18.2.6"]);else{let{attrs:i,classes:o}=nS(n.selectors[0]);i&&Ju(t,e,i),o&&o.length>0&&Uv(t,e,o.join(" "))}}function CI(t,n,e){let r=t.projection=[];for(let i=0;i<n.length;i++){let o=e[i];r.push(o!=null?Array.from(o):null)}}function _I(){let t=pt();bc(se()[oe],t)}var si=(()=>{class t{static{this.__NG_ELEMENT_ID__=SI}}return t})();function SI(){let t=pt();return DI(t,se())}var wI=si,l0=class extends wI{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return Cc(this._hostTNode,this._hostLView)}get injector(){return new Yr(this._hostTNode,this._hostLView)}get parentInjector(){let n=uf(this._hostTNode,this._hostLView);if(Xm(n)){let e=Wa(n,this._hostLView),r=za(n),i=e[oe].data[r+8];return new Yr(i,e)}else return new Yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=Wg(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-Gt}createEmbeddedView(n,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Hg(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,$g(this._hostTNode,s)),a}createComponent(n,e,r,i,o){let s=n&&!vS(n),a;if(s)a=e;else{let _=e||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let c=s?n:new Gi(_r(n)),d=r||this.parentInjector;if(!o&&c.ngModule==null){let A=(s?d:this.parentInjector).get(bt,null);A&&(o=A)}let p=_r(c.componentType??{}),m=Hg(this._lContainer,p?.id??null),C=m?.firstChild??null,b=c.create(d,i,C,o);return this.insertImpl(b.hostView,a,$g(this._hostTNode,m)),b}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,r){let i=n._lView;if(SS(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let c=i[Ct],d=new l0(c,c[hn],c[Ct]);d.detach(d.indexOf(n))}}let o=this._adjustIndex(e),s=this._lContainer;return qD(s,i,o,r),n.attachToViewContainerRef(),dm($u(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=Wg(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),r=Dd(this._lContainer,e);r&&(La($u(this._lContainer),e),Fv(r[oe],r))}detach(n){let e=this._adjustIndex(n,-1),r=Dd(this._lContainer,e);return r&&La($u(this._lContainer),e)!=null?new ri(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function Wg(t){return t[Ba]}function $u(t){return t[Ba]||(t[Ba]=[])}function DI(t,n){let e,r=n[t.index];return er(r)?e=r:(e=Qv(r,n,null,t),n[t.index]=e,Ec(n,e)),EI(e,n,t,r),new l0(e,t,n)}function II(t,n){let e=t[He],r=e.createComment(""),i=Zt(n,t),o=Vv(e,i);return Qa(e,o,r,cD(e,i),!1),r}var EI=TI,xI=()=>!1;function MI(t,n,e){return xI(t,n,e)}function TI(t,n,e,r){if(t[Xr])return;let i;e.type&8?i=xn(r):i=II(n,e),t[Xr]=i}var Gg=new Set;function ai(t){Gg.has(t)||(Gg.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function PI(t){return typeof t=="function"&&t[Gn]!==void 0}function nr(t,n){ai("NgSignals");let e=Up(t),r=e[Gn];return n?.equal&&(r.equal=n.equal),e.set=i=>gu(r,i),e.update=i=>Bp(r,i),e.asReadonly=AI.bind(e),e}function AI(){let t=this[Gn];if(t.readonlyFn===void 0){let n=()=>this();n[Gn]=t,t.readonlyFn=n}return t.readonlyFn}function u0(t){return PI(t)&&typeof t.set=="function"}function kI(t){return Object.getPrototypeOf(t.prototype).constructor}function ut(t){let n=kI(t.type),e=!0,r=[t];for(;n;){let i;if(Sr(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new F(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);let s=t;s.inputs=xa(t.inputs),s.inputTransforms=xa(t.inputTransforms),s.declaredInputs=xa(t.declaredInputs),s.outputs=xa(t.outputs);let a=i.hostBindings;a&&LI(t,a);let c=i.viewQuery,d=i.contentQueries;if(c&&NI(t,c),d&&FI(t,d),OI(t,i),D_(t.outputs,i.outputs),Sr(i)&&i.data.animation){let p=t.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===ut&&(e=!1)}}n=Object.getPrototypeOf(n)}RI(r)}function OI(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let r=n.inputs[e];if(r!==void 0&&(t.inputs[e]=r,t.declaredInputs[e]=n.declaredInputs[e],n.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!n.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=n.inputTransforms[i]}}}function RI(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Fo(i.hostAttrs,e=Fo(e,i.hostAttrs))}}function xa(t){return t===Fi?{}:t===Et?[]:t}function NI(t,n){let e=t.viewQuery;e?t.viewQuery=(r,i)=>{n(r,i),e(r,i)}:t.viewQuery=n}function FI(t,n){let e=t.contentQueries;e?t.contentQueries=(r,i,o)=>{n(r,i,o),e(r,i,o)}:t.contentQueries=n}function LI(t,n){let e=t.hostBindings;e?t.hostBindings=(r,i)=>{n(r,i),e(r,i)}:t.hostBindings=n}function Pf(t){let n=t.inputConfig,e={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r];Array.isArray(i)&&i[3]&&(e[r]=i[3])}t.inputTransforms=e}var Ir=class{},jo=class{};var kd=class extends Ir{constructor(n,e,r,i=!0){super(),this.ngModuleType=n,this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ec(this);let o=Cm(n);this._bootstrapComponents=kv(o.bootstrap),this._r3Injector=cv(n,e,[{provide:Ir,useValue:this},{provide:Wi,useValue:this.componentFactoryResolver},...r],yt(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Od=class extends jo{constructor(n){super(),this.moduleType=n}create(n){return new kd(this.moduleType,n,[])}};var tc=class extends Ir{constructor(n){super(),this.componentFactoryResolver=new ec(this),this.instance=null;let e=new Lo([...n.providers,{provide:Ir,useValue:this},{provide:Wi,useValue:this.componentFactoryResolver}],n.parent||ef(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Mc(t,n,e=null){return new tc({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}function d0(t){return Af(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function VI(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),r;for(;!(r=e.next()).done;)n(r.value)}}function Af(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Tc(t,n,e){return t[n]=e}function jI(t,n){return t[n]}function Tn(t,n,e){let r=t[n];return Object.is(r,e)?!1:(t[n]=e,!0)}function kf(t,n,e,r){let i=Tn(t,n,e);return Tn(t,n+1,r)||i}function UI(t,n,e,r,i){let o=kf(t,n,e,r);return Tn(t,n+2,i)||o}function BI(t){return(t.flags&32)===32}function $I(t,n,e,r,i,o,s,a,c){let d=n.consts,p=Go(n,t,4,s||null,a||null);Ef(n,e,p,$i(d,c)),bc(n,p);let m=p.tView=Df(2,p,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,d,null);return n.queries!==null&&(n.queries.template(n,p),m.queries=n.queries.embeddedTView(p)),p}function HI(t,n,e,r,i,o,s,a,c,d){let p=e+Ft,m=n.firstCreatePass?$I(p,n,t,r,i,o,s,a,c):n.data[p];oi(m,!1);let C=zI(n,t,m,e);vc()&&wc(n,t,C,m),wr(C,t);let b=Qv(C,t,C,m);return t[p]=b,Ec(t,b),MI(b,m,t),fc(m)&&Sf(n,t,m),c!=null&&wf(t,m,d),m}function w(t,n,e,r,i,o,s,a){let c=se(),d=nt(),p=$i(d.consts,o);return HI(c,d,t,n,e,r,i,p,s,a),w}var zI=WI;function WI(t,n,e,r){return yc(!0),n[He].createComment("")}var ki=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ki||{}),f0=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t})}}return t})(),Rd=class t{constructor(){this.ngZone=g(xe),this.scheduler=g(zi),this.errorHandler=g(Yn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ki.EarlyRead,ki.Write,ki.MixedReadWrite,ki.Read]}execute(){this.executing=!0;for(let n of t.PHASES)for(let e of this.sequences)if(!(e.erroredOrDestroyed||!e.hooks[n]))try{e.pipelinedValue=this.ngZone.runOutsideAngular(()=>e.hooks[n](e.pipelinedValue))}catch(r){e.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let n of this.sequences)n.afterRun(),n.once&&this.sequences.delete(n);for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t})}},Nd=class{constructor(n,e,r,i){this.impl=n,this.hooks=e,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Of(t,n){!n?.injector&&tf(Of);let e=n?.injector??g(qt);return Zw(e)?(ai("NgAfterNextRender"),qI(t,e,n,!0)):KI}function GI(t,n){if(t instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[n]=t,e}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function qI(t,n,e,r){let i=n.get(f0);i.impl??=n.get(Rd);let o=e?.phase??ki.MixedReadWrite,s=new Nd(i.impl,GI(t,o),r,n.get(Qi));return i.impl.register(s),s}var KI={destroy(){}};function Ar(t,n,e,r){let i=se(),o=gc();if(Tn(i,o,n)){let s=nt(),a=mc();LD(a,i,t,n,e,r)}return Ar}function Rf(t,n,e,r){return Tn(t,gc(),e)?n+Ni(e)+r:jt}function ZI(t,n,e,r,i,o){let s=OS(),a=kf(t,s,e,i);return af(2),a?n+Ni(e)+r+Ni(i)+o:jt}function Ma(t,n){return t<<17|n<<2}function ii(t){return t>>17&32767}function QI(t){return(t&2)==2}function YI(t,n){return t&131071|n<<17}function Fd(t){return t|2}function qi(t){return(t&131068)>>2}function Hu(t,n){return t&-131069|n<<2}function JI(t){return(t&1)===1}function Ld(t){return t|1}function XI(t,n,e,r,i,o){let s=o?n.classBindings:n.styleBindings,a=ii(s),c=qi(s);t[r]=e;let d=!1,p;if(Array.isArray(e)){let m=e;p=m[1],(p===null||Ho(m,p)>0)&&(d=!0)}else p=e;if(i)if(c!==0){let C=ii(t[a+1]);t[r+1]=Ma(C,a),C!==0&&(t[C+1]=Hu(t[C+1],r)),t[a+1]=YI(t[a+1],r)}else t[r+1]=Ma(a,0),a!==0&&(t[a+1]=Hu(t[a+1],r)),a=r;else t[r+1]=Ma(c,0),a===0?a=r:t[c+1]=Hu(t[c+1],r),c=r;d&&(t[r+1]=Fd(t[r+1])),qg(t,p,r,!0),qg(t,p,r,!1),eE(n,p,t,r,o),s=Ma(a,c),o?n.classBindings=s:n.styleBindings=s}function eE(t,n,e,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof n=="string"&&Ho(o,n)>=0&&(e[r+1]=Ld(e[r+1]))}function qg(t,n,e,r){let i=t[e+1],o=n===null,s=r?ii(i):qi(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],d=t[s+1];tE(c,n)&&(a=!0,t[s+1]=r?Ld(d):Fd(d)),s=r?ii(d):qi(d)}a&&(t[e+1]=r?Fd(i):Ld(i))}function tE(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?Ho(t,n)>=0:!1}var un={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function nE(t){return t.substring(un.key,un.keyEnd)}function rE(t){return iE(t),h0(t,p0(t,0,un.textEnd))}function h0(t,n){let e=un.textEnd;return e===n?-1:(n=un.keyEnd=oE(t,un.key=n,e),p0(t,n,e))}function iE(t){un.key=0,un.keyEnd=0,un.value=0,un.valueEnd=0,un.textEnd=t.length}function p0(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function oE(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}function v(t,n,e){let r=se(),i=gc();if(Tn(r,i,n)){let o=nt(),s=mc();If(o,s,r,t,n,r[He],e,!1)}return v}function Vd(t,n,e,r,i){let o=n.inputs,s=i?"class":"style";xf(t,e,o[s],s,r)}function rr(t,n){return aE(t,n,null,!0),rr}function sE(t,n){for(let e=rE(n);e>=0;e=h0(n,e))Yd(t,nE(n),!0)}function aE(t,n,e,r){let i=se(),o=nt(),s=af(2);if(o.firstUpdatePass&&m0(o,t,s,r),n!==jt&&Tn(i,s,n)){let a=o.data[Mr()];v0(o,a,i,i[He],t,i[s+1]=gE(n,e),r,s)}}function cE(t,n,e,r){let i=nt(),o=af(2);i.firstUpdatePass&&m0(i,null,o,r);let s=se();if(e!==jt&&Tn(s,o,e)){let a=i.data[Mr()];if(y0(a,r)&&!g0(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(e=Ku(c,e||"")),Vd(i,a,s,e,r)}else pE(i,a,s,s[He],s[o+1],s[o+1]=hE(t,n,e),r,o)}}function g0(t,n){return n>=t.expandoStartIndex}function m0(t,n,e,r){let i=t.data;if(i[e+1]===null){let o=i[Mr()],s=g0(t,e);y0(o,r)&&n===null&&!s&&(n=!1),n=lE(i,o,n,r),XI(i,o,n,e,s,r)}}function lE(t,n,e,r){let i=VS(t),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(e=zu(null,t,n,e,r),e=Uo(e,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||t[s]!==i)if(e=zu(i,t,n,e,r),o===null){let c=uE(t,n,r);c!==void 0&&Array.isArray(c)&&(c=zu(null,t,n,c[1],r),c=Uo(c,n.attrs,r),dE(t,n,r,c))}else o=fE(t,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),e}function uE(t,n,e){let r=e?n.classBindings:n.styleBindings;if(qi(r)!==0)return t[ii(r)]}function dE(t,n,e,r){let i=e?n.classBindings:n.styleBindings;t[ii(i)]=r}function fE(t,n,e){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Uo(r,s,e)}return Uo(r,n.attrs,e)}function zu(t,n,e,r,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=n[a],r=Uo(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(e.directiveStylingLast=a),r}function Uo(t,n,e){let r=e?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Yd(t,s,e?!0:n[++o]))}return t===void 0?null:t}function hE(t,n,e){if(e==null||e==="")return Et;let r=[],i=gn(e);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&n(r,i);return r}function pE(t,n,e,r,i,o,s,a){i===jt&&(i=Et);let c=0,d=0,p=0<i.length?i[0]:null,m=0<o.length?o[0]:null;for(;p!==null||m!==null;){let C=c<i.length?i[c+1]:void 0,b=d<o.length?o[d+1]:void 0,_=null,A;p===m?(c+=2,d+=2,C!==b&&(_=m,A=b)):m===null||p!==null&&p<m?(c+=2,_=p):(d+=2,_=m,A=b),_!==null&&v0(t,n,e,r,_,A,s,a),p=c<i.length?i[c]:null,m=d<o.length?o[d]:null}}function v0(t,n,e,r,i,o,s,a){if(!(n.type&3))return;let c=t.data,d=c[a+1],p=JI(d)?Kg(c,n,e,i,qi(d),s):void 0;if(!nc(p)){nc(o)||QI(d)&&(o=Kg(c,null,e,i,a,s));let m=Nm(Mr(),e);gD(r,s,m,i,o)}}function Kg(t,n,e,r,i,o){let s=n===null,a;for(;i>0;){let c=t[i],d=Array.isArray(c),p=d?c[1]:c,m=p===null,C=e[i+1];C===jt&&(C=m?Et:void 0);let b=m?Ru(C,r):p===r?C:void 0;if(d&&!nc(b)&&(b=Ru(c,r)),nc(b)&&(a=b,s))return a;let _=t[i+1];i=s?ii(_):qi(_)}if(n!==null){let c=o?n.residualClasses:n.residualStyles;c!=null&&(a=Ru(c,r))}return a}function nc(t){return t!==void 0}function gE(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=yt(gn(t)))),t}function y0(t,n){return(t.flags&(n?8:16))!==0}function b0(t,n,e){let r=se(),i=Rf(r,t,n,e);cE(Yd,sE,i,!0)}function mE(t,n,e,r,i,o){let s=n.consts,a=$i(s,i),c=Go(n,t,2,r,a);return Ef(n,e,c,$i(s,o)),c.attrs!==null&&Xa(c,c.attrs,!1),c.mergedAttrs!==null&&Xa(c,c.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,c),c}function l(t,n,e,r){let i=se(),o=nt(),s=Ft+t,a=i[He],c=o.firstCreatePass?mE(s,o,i,n,e,r):o.data[s],d=vE(o,i,c,a,n,t);i[s]=d;let p=fc(c);return oi(c,!0),Bv(a,d,c),!BI(c)&&vc()&&wc(o,i,d,c),IS()===0&&wr(d,i),ES(),p&&(Sf(o,i,c),_f(o,c,i)),r!==null&&wf(i,c),l}function u(){let t=pt();sf()?Hm():(t=t.parent,oi(t,!1));let n=t;TS(n)&&PS(),xS();let e=nt();return e.firstCreatePass&&(bc(e,t),nf(t)&&e.queries.elementEnd(t)),n.classesWithoutHost!=null&&GS(n)&&Vd(e,n,se(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&qS(n)&&Vd(e,n,se(),n.stylesWithoutHost,!1),u}function P(t,n,e,r){return l(t,n,e,r),u(),P}var vE=(t,n,e,r,i,o)=>(yc(!0),Ov(r,i,$S()));function yE(t,n,e,r,i){let o=n.consts,s=$i(o,r),a=Go(n,t,8,"ng-container",s);s!==null&&Xa(a,s,!0);let c=$i(o,i);return Ef(n,e,a,c),n.queries!==null&&n.queries.elementStart(n,a),a}function dt(t,n,e){let r=se(),i=nt(),o=t+Ft,s=i.firstCreatePass?yE(o,i,r,n,e):i.data[o];oi(s,!0);let a=bE(i,r,s,t);return r[o]=a,vc()&&wc(i,r,a,s),wr(a,r),fc(s)&&(Sf(i,r,s),_f(i,s,r)),e!=null&&wf(r,s),dt}function ft(){let t=pt(),n=nt();return sf()?Hm():(t=t.parent,oi(t,!1)),n.firstCreatePass&&(bc(n,t),nf(t)&&n.queries.elementEnd(t)),ft}function Nf(t,n,e){return dt(t,n,e),ft(),Nf}var bE=(t,n,e,r)=>(yc(!0),Xw(n[He],""));function R(){return se()}var Qr=void 0;function CE(t){let n=t,e=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&r===0?1:5}var _E=["en",[["a","p"],["AM","PM"],Qr],[["AM","PM"],Qr,Qr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qr,"{1} 'at' {0}",Qr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",CE],Wu={};function xt(t){let n=SE(t),e=Zg(n);if(e)return e;let r=n.split("-")[0];if(e=Zg(r),e)return e;if(r==="en")return _E;throw new F(701,!1)}function Zg(t){return t in Wu||(Wu[t]=Qn.ng&&Qn.ng.common&&Qn.ng.common.locales&&Qn.ng.common.locales[t]),Wu[t]}var je=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(je||{});function SE(t){return t.toLowerCase().replace(/_/g,"-")}var rc="en-US",wE="USD";var DE=rc;function IE(t){typeof t=="string"&&(DE=t.toLowerCase().replace(/_/g,"-"))}var EE=(t,n,e)=>{};function D(t,n,e,r){let i=se(),o=nt(),s=pt();return C0(o,i,i[He],s,t,n,r),D}function xE(t,n,e,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let a=n[Ua],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function C0(t,n,e,r,i,o,s){let a=fc(r),d=t.firstCreatePass&&$D(t),p=n[fn],m=BD(n),C=!0;if(r.type&3||s){let A=Zt(r,n),k=s?s(A):A,$=m.length,fe=s?Fe=>s(xn(Fe[r.index])):r.index,U=null;if(!s&&a&&(U=xE(t,n,i,r.index)),U!==null){let Fe=U.__ngLastListenerFn__||U;Fe.__ngNextListenerFn__=o,U.__ngLastListenerFn__=o,C=!1}else{o=Yg(r,n,p,o),EE(A,i,o);let Fe=e.listen(k,i,o);m.push(o,Fe),d&&d.push(i,fe,$,$+1)}}else o=Yg(r,n,p,o);let b=r.outputs,_;if(C&&b!==null&&(_=b[i])){let A=_.length;if(A)for(let k=0;k<A;k+=2){let $=_[k],fe=_[k+1],at=n[$][fe].subscribe(o),Xe=m.length;m.push(o,at),d&&d.push(i,r.index,Xe,-(Xe+1))}}}function Qg(t,n,e,r){let i=he(null);try{return Sn(6,n,e),e(r)!==!1}catch(o){return Jv(t,o),!1}finally{Sn(7,n,e),he(i)}}function Yg(t,n,e,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?xr(t.index,n):n;Tf(s,5);let a=Qg(n,e,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Qg(n,e,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function y(t=1){return US(t)}function Ke(t,n,e){return Yi(t,"",n,"",e),Ke}function Yi(t,n,e,r,i){let o=se(),s=Rf(o,n,e,r);if(s!==jt){let a=nt(),c=mc();If(a,c,o,t,s,o[He],i,!1)}return Yi}function ME(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}function Ge(t){let n=kS();return rf(n,Ft+t)}function h(t,n=""){let e=se(),r=nt(),i=t+Ft,o=r.firstCreatePass?Go(r,i,1,n,null):r.data[i],s=TE(r,e,o,n,t);e[i]=s,vc()&&wc(r,e,s,o),oi(o,!1)}var TE=(t,n,e,r,i)=>(yc(!0),Yw(n[He],r));function L(t){return V("",t,""),L}function V(t,n,e){let r=se(),i=Rf(r,t,n,e);return i!==jt&&Xv(r,Mr(),i),V}function Xt(t,n,e,r,i){let o=se(),s=ZI(o,t,n,e,r,i);return s!==jt&&Xv(o,Mr(),s),Xt}function H(t,n,e){u0(n)&&(n=n());let r=se(),i=gc();if(Tn(r,i,n)){let o=nt(),s=mc();If(o,s,r,t,n,r[He],e,!1)}return H}function q(t,n){let e=u0(t);return e&&t.set(n),e}function z(t,n){let e=se(),r=nt(),i=pt();return C0(r,e,e[He],i,t,n),z}function PE(t,n,e){let r=nt();if(r.firstCreatePass){let i=Sr(t);jd(e,r.data,r.blueprint,i,!0),jd(n,r.data,r.blueprint,i,!1)}}function jd(t,n,e,r,i){if(t=vt(t),Array.isArray(t))for(let o=0;o<t.length;o++)jd(t[o],n,e,r,i);else{let o=nt(),s=se(),a=pt(),c=Vi(t)?t:vt(t.provide),d=Em(t),p=a.providerIndexes&1048575,m=a.directiveStart,C=a.providerIndexes>>20;if(Vi(t)||!t.multi){let b=new ni(d,i,I),_=qu(c,n,i?p:p+C,m);_===-1?(cd(qa(a,s),o,c),Gu(o,t,n.length),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(b),s.push(b)):(e[_]=b,s[_]=b)}else{let b=qu(c,n,p+C,m),_=qu(c,n,p,p+C),A=b>=0&&e[b],k=_>=0&&e[_];if(i&&!k||!i&&!A){cd(qa(a,s),o,c);let $=OE(i?kE:AE,e.length,i,r,d);!i&&k&&(e[_].providerFactory=$),Gu(o,t,n.length,0),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push($),s.push($)}else{let $=_0(e[i?_:b],d,!i&&r);Gu(o,t,b>-1?b:_,$)}!i&&r&&k&&e[_].componentProviders++}}}function Gu(t,n,e,r){let i=Vi(n),o=uS(n);if(i||o){let c=(o?vt(n.useClass):n).prototype.ngOnDestroy;if(c){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){let p=d.indexOf(e);p===-1?d.push(e,[r,c]):d[p+1].push(r,c)}else d.push(e,c)}}}function _0(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function qu(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function AE(t,n,e,r){return Ud(this.multi,[])}function kE(t,n,e,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Hi(e,e[oe],this.providerFactory.index,r);o=a.slice(0,s),Ud(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Ud(i,o);return o}function Ud(t,n){for(let e=0;e<t.length;e++){let r=t[e];n.push(r())}return n}function OE(t,n,e,r,i){let o=new ni(t,e,I);return o.multi=[],o.index=n,o.componentProviders=0,_0(o,i,r&&!e),o}function Ut(t,n=[]){return e=>{e.providersResolver=(r,i)=>PE(r,i?i(t):t,n)}}var RE=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=wm(!1,e.type),i=r.length>0?Mc([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=S({token:t,providedIn:"environment",factory:()=>new t(N(bt))})}}return t})();function J(t){ai("NgStandalone"),t.getStandaloneInjector=n=>n.get(RE).getOrCreateStandaloneInjector(t)}function vn(t,n,e){let r=Zi()+t,i=se();return i[r]===jt?Tc(i,r,e?n.call(e):n()):jI(i,r)}function en(t,n,e,r){return w0(se(),Zi(),t,n,e,r)}function tn(t,n,e,r,i){return D0(se(),Zi(),t,n,e,r,i)}function S0(t,n,e,r,i,o){return NE(se(),Zi(),t,n,e,r,i,o)}function Ff(t,n){let e=t[n];return e===jt?void 0:e}function w0(t,n,e,r,i,o){let s=n+e;return Tn(t,s,i)?Tc(t,s+1,o?r.call(o,i):r(i)):Ff(t,s+1)}function D0(t,n,e,r,i,o,s){let a=n+e;return kf(t,a,i,o)?Tc(t,a+2,s?r.call(s,i,o):r(i,o)):Ff(t,a+2)}function NE(t,n,e,r,i,o,s,a){let c=n+e;return UI(t,c,i,o,s)?Tc(t,c+3,a?r.call(a,i,o,s):r(i,o,s)):Ff(t,c+3)}function Re(t,n){let e=nt(),r,i=t+Ft;e.firstCreatePass?(r=FE(n,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let o=r.factory||(r.factory=Jr(r.type,!0)),s,a=It(I);try{let c=Ga(!1),d=o();return Ga(c),ME(e,se(),i,d),d}finally{It(a)}}function FE(t,n){if(n)for(let e=n.length-1;e>=0;e--){let r=n[e];if(t===r.name)return r}}function Ko(t,n,e){let r=t+Ft,i=se(),o=rf(i,r);return I0(i,r)?w0(i,Zi(),n,o.transform,e,o):o.transform(e)}function Ze(t,n,e,r){let i=t+Ft,o=se(),s=rf(o,i);return I0(o,i)?D0(o,Zi(),n,s.transform,e,r,s):s.transform(e,r)}function I0(t,n){return t[oe].data[n].pure}function Ji(t,n){return s0(t,n)}var Pc=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var E0=new j("");function ci(t){return!!t&&typeof t.then=="function"}function x0(t){return!!t&&typeof t.subscribe=="function"}var Zo=new j(""),M0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=g(Zo,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=i();if(ci(o))e.push(o);else if(x0(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Qo=new j("");function LE(){jp(()=>{throw new F(600,!1)})}function VE(t){return t.isBoundToModule}var jE=10;function UE(t,n,e){try{let r=e();return ci(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}var kr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=g(hw),this.afterRenderManager=g(f0),this.zonelessEnabled=g(xc),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Pe,this.afterTick=new Pe,this.componentTypes=[],this.components=[],this.isStable=g(Tr).hasPendingTasks.pipe(O(e=>!e)),this._injector=g(bt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}get injector(){return this._injector}bootstrap(e,r){let i=e instanceof Ja;if(!this._injector.get(M0).done){let C=!i&&bm(e),b=!1;throw new F(405,b)}let s;i?s=e:s=this._injector.get(Wi).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=VE(s)?void 0:this._injector.get(Ir),c=r||s.selector,d=s.create(qt.NULL,[],c,a),p=d.location.nativeElement,m=d.injector.get(E0,null);return m?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),Oa(this.components,d),m?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new F(101,!1);let e=he(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,he(e),this.afterTick.next()}}synchronize(){let e=null;this._injector.destroyed||(e=this._injector.get(Dr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<jE;)this.synchronizeOnce(e)}synchronizeOnce(e){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)BE(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else e?.begin?.(),e?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>hc(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;Oa(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let r=this._injector.get(Qo,[]);[...this._bootstrapListeners,...r].forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Oa(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new F(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Oa(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function BE(t,n,e,r){if(!e&&!hc(t))return;n0(t,n,e&&!r?0:1)}var Bd=class{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},Ac=(()=>{class t{compileModuleSync(e){return new Od(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=Cm(e),o=kv(i.declarations).reduce((s,a)=>{let c=_r(a);return c&&s.push(new Gi(c)),s},[]);return new Bd(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var $E=(()=>{class t{constructor(){this.zone=g(xe),this.changeDetectionScheduler=g(zi),this.applicationRef=g(kr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),HE=new j("",{factory:()=>!1});function T0({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new xe(W(x({},A0()),{scheduleInRootZone:e})),[{provide:xe,useFactory:t},{provide:Li,multi:!0,useFactory:()=>{let r=g($E,{optional:!0});return()=>r.initialize()}},{provide:Li,multi:!0,useFactory:()=>{let r=g(zE);return()=>{r.initialize()}}},n===!0?{provide:a0,useValue:!0}:[],{provide:c0,useValue:e??lv}]}function P0(t){let n=t?.ignoreChangesOutsideZone,e=t?.scheduleInRootZone,r=T0({ngZoneFactory:()=>{let i=A0(t);return i.scheduleInRootZone=e,i.shouldCoalesceEventChangeDetection&&ai("NgZone_CoalesceEvent"),new xe(i)},ignoreChangesOutsideZone:n,scheduleInRootZone:e});return Er([{provide:HE,useValue:!0},{provide:xc,useValue:!1},r])}function A0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var zE=(()=>{class t{constructor(){this.subscription=new $e,this.initialized=!1,this.zone=g(xe),this.pendingTasks=g(Tr)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xe.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{xe.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var WE=(()=>{class t{constructor(){this.appRef=g(kr),this.taskService=g(Tr),this.ngZone=g(xe),this.zonelessEnabled=g(xc),this.disableScheduling=g(a0,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new $e,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Za):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(g(c0,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof hd||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Tg:uv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Za+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Tg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function GE(){return typeof $localize<"u"&&$localize.locale||rc}var Xi=new j("",{providedIn:"root",factory:()=>g(Xi,re.Optional|re.SkipSelf)||GE()}),k0=new j("",{providedIn:"root",factory:()=>wE});var O0=new j("");function Ta(t){return!!t.platformInjector}function qE(t){let n=Ta(t)?t.r3Injector:t.moduleRef.injector,e=n.get(xe);return e.run(()=>{Ta(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=n.get(Yn,null),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:o=>{r.handleError(o)}})}),Ta(t)){let o=()=>n.destroy(),s=t.platformInjector.get(O0);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{Oa(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return UE(r,e,()=>{let o=n.get(M0);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(Xi,rc);if(IE(s||rc),Ta(t)){let a=n.get(kr);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return KE(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function KE(t,n){let e=t.injector.get(kr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(e);else throw new F(-403,!1);n.push(t)}var Ra=null;function ZE(t=[],n){return qt.create({name:n,providers:[{provide:lc,useValue:"platform"},{provide:O0,useValue:new Set([()=>Ra=null])},...t]})}function QE(t=[]){if(Ra)return Ra;let n=ZE(t);return Ra=n,LE(),YE(n),n}function YE(t){t.get(gf,null)?.forEach(e=>e())}function R0(){return!1}var Or=(()=>{class t{static{this.__NG_ELEMENT_ID__=JE}}return t})();function JE(t){return XE(pt(),se(),(t&16)===16)}function XE(t,n,e){if(dc(t)&&!e){let r=xr(t.index,n);return new ri(r,r)}else if(t.type&175){let r=n[En];return new ri(r,n)}return null}var $d=class{constructor(){}supports(n){return d0(n)}create(n){return new Hd(n)}},ex=(t,n)=>n,Hd=class{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||ex}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<Jg(r,i,o)?e:r,a=Jg(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let d=a-i,p=c-i;if(d!=p){for(let C=0;C<d;C++){let b=C<o.length?o[C]:o[C]=0,_=b+C;p<=_&&_<d&&(o[C]=b+1)}let m=s.previousIndex;o[m]=p-d}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!d0(n))throw new F(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,VI(n,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,i)):n=this._addAfter(new zd(e,r),o,i)),n}_verifyReinsertion(n,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){let i=e===null?this._itHead:e._next;return n._next=i,n._prev=e,i===null?this._itTail=n:i._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new ic),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,r=n._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ic),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},zd=class{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Wd=class{constructor(){this._head=null,this._tail=null}add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let e=n._prevDup,r=n._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},ic=class{constructor(){this.map=new Map}put(n){let e=n.trackById,r=this.map.get(e);r||(r=new Wd,this.map.set(e,r)),r.add(n)}get(n,e){let r=n,i=this.map.get(r);return i?i.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Jg(t,n,e){let r=t.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}var Gd=class{constructor(){}supports(n){return n instanceof Map||Af(n)}create(){return new qd}},qd=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(n){let e;for(e=this._mapHead;e!==null;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}diff(n){if(!n)n=new Map;else if(!(n instanceof Map||Af(n)))throw new F(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){let r=n._prev;return e._next=n,e._prev=r,n._prev=e,r&&(r._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){let i=this._records.get(n);this._maybeAddToChanges(i,e);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new Kd(n);return this._records.set(n,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;n!==null;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;n!=null;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){this._additionsHead===null?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){this._changesHead===null?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(r=>e(n[r],r))}},Kd=class{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Xg(){return new Lf([new $d])}var Lf=(()=>{class t{static{this.\u0275prov=S({token:t,providedIn:"root",factory:Xg})}constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||Xg()),deps:[[t,new cc,new $o]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new F(901,!1)}}return t})();function em(){return new Vf([new Gd])}var Vf=(()=>{class t{static{this.\u0275prov=S({token:t,providedIn:"root",factory:em})}constructor(e){this.factories=e}static create(e,r){if(r){let i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||em()),deps:[[t,new cc,new $o]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r)return r;throw new F(901,!1)}}return t})();function N0(t){try{let{rootComponent:n,appProviders:e,platformProviders:r}=t,i=QE(r),o=[T0({}),{provide:zi,useExisting:WE},...e||[]],s=new tc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return qE({r3Injector:s.injector,platformInjector:i,rootComponent:n})}catch(n){return Promise.reject(n)}}var F0=new j("");function ir(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Rr(t,n){ai("NgSignals");let e=Fp(t);return n?.equal&&(e[Gn].equal=n.equal),e}function yn(t){let n=he(null);try{return t()}finally{he(n)}}function L0(t){let n=_r(t);if(!n)return null;let e=new Gi(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var G0=null;function cr(){return G0}function q0(t){G0??=t}var Uc=class{};var be=new j(""),Yf=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:()=>g(nx),providedIn:"platform"})}}return t})(),K0=new j(""),nx=(()=>{class t extends Yf{constructor(){super(),this._doc=g(be),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cr().getBaseHref(this._doc)}onPopState(e){let r=cr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=cr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Jf(t,n){if(t.length==0)return n;if(n.length==0)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,e==2?t+n.substring(1):e==1?t+n:t+"/"+n}function V0(t){let n=t.match(/#|\?|$/),e=n&&n.index||t.length,r=e-(t[e-1]==="/"?1:0);return t.slice(0,r)+t.slice(e)}function sr(t){return t&&t[0]!=="?"?"?"+t:t}var lr=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:()=>g(Xf),providedIn:"root"})}}return t})(),Z0=new j(""),Xf=(()=>{class t extends lr{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??g(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Jf(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+sr(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+sr(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+sr(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(r){return new(r||t)(N(Yf),N(Z0,8))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Q0=(()=>{class t extends lr{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=Jf(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+sr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+sr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(r){return new(r||t)(N(Yf),N(Z0,8))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})(),to=(()=>{class t{constructor(e){this._subject=new Le,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=ox(V0(j0(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+sr(r))}normalize(e){return t.stripTrailingSlash(ix(this._basePath,j0(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+sr(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+sr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}static{this.normalizeQueryParams=sr}static{this.joinWithSlash=Jf}static{this.stripTrailingSlash=V0}static{this.\u0275fac=function(r){return new(r||t)(N(lr))}}static{this.\u0275prov=S({token:t,factory:()=>rx(),providedIn:"root"})}}return t})();function rx(){return new to(N(lr))}function ix(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function j0(t){return t.replace(/\/index.html$/,"")}function ox(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var Y0={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},eh=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(eh||{});var St=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(St||{}),Te=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Te||{}),Bt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Bt||{}),gt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function sx(t){return xt(t)[je.LocaleId]}function ax(t,n,e){let r=xt(t),i=[r[je.DayPeriodsFormat],r[je.DayPeriodsStandalone]],o=nn(i,n);return nn(o,e)}function cx(t,n,e){let r=xt(t),i=[r[je.DaysFormat],r[je.DaysStandalone]],o=nn(i,n);return nn(o,e)}function lx(t,n,e){let r=xt(t),i=[r[je.MonthsFormat],r[je.MonthsStandalone]],o=nn(i,n);return nn(o,e)}function ux(t,n){let r=xt(t)[je.Eras];return nn(r,n)}function kc(t,n){let e=xt(t);return nn(e[je.DateFormat],n)}function Oc(t,n){let e=xt(t);return nn(e[je.TimeFormat],n)}function Rc(t,n){let r=xt(t)[je.DateTimeFormat];return nn(r,n)}function An(t,n){let e=xt(t),r=e[je.NumberSymbols][n];if(typeof r>"u"){if(n===gt.CurrencyDecimal)return e[je.NumberSymbols][gt.Decimal];if(n===gt.CurrencyGroup)return e[je.NumberSymbols][gt.Group]}return r}function J0(t,n){return xt(t)[je.NumberFormats][n]}function dx(t){return xt(t)[je.Currencies]}function X0(t){if(!t[je.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[je.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function fx(t){let n=xt(t);return X0(n),(n[je.ExtraData][2]||[]).map(r=>typeof r=="string"?jf(r):[jf(r[0]),jf(r[1])])}function hx(t,n,e){let r=xt(t);X0(r);let i=[r[je.ExtraData][0],r[je.ExtraData][1]],o=nn(i,n)||[];return nn(o,e)||[]}function nn(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function jf(t){let[n,e]=t.split(":");return{hours:+n,minutes:+e}}function px(t,n,e="en"){let r=dx(e)[t]||Y0[t]||[],i=r[1];return n==="narrow"&&typeof i=="string"?i:r[0]||t}var gx=2;function mx(t){let n,e=Y0[t];return e&&(n=e[2]),typeof n=="number"?n:gx}var vx=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Nc={},yx=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,ar=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(ar||{}),ye=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ye||{}),ve=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ve||{});function bx(t,n,e,r){let i=Mx(t);n=or(e,n)||n;let s=[],a;for(;n;)if(a=yx.exec(n),a){s=s.concat(a.slice(1));let p=s.pop();if(!p)break;n=p}else{s.push(n);break}let c=i.getTimezoneOffset();r&&(c=ty(r,c),i=xx(i,r,!0));let d="";return s.forEach(p=>{let m=Ix(p);d+=m?m(i,e,c):p==="''"?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function Bc(t,n,e){let r=new Date(0);return r.setFullYear(t,n,e),r.setHours(0,0,0),r}function or(t,n){let e=sx(t);if(Nc[e]??={},Nc[e][n])return Nc[e][n];let r="";switch(n){case"shortDate":r=kc(t,Bt.Short);break;case"mediumDate":r=kc(t,Bt.Medium);break;case"longDate":r=kc(t,Bt.Long);break;case"fullDate":r=kc(t,Bt.Full);break;case"shortTime":r=Oc(t,Bt.Short);break;case"mediumTime":r=Oc(t,Bt.Medium);break;case"longTime":r=Oc(t,Bt.Long);break;case"fullTime":r=Oc(t,Bt.Full);break;case"short":let i=or(t,"shortTime"),o=or(t,"shortDate");r=Fc(Rc(t,Bt.Short),[i,o]);break;case"medium":let s=or(t,"mediumTime"),a=or(t,"mediumDate");r=Fc(Rc(t,Bt.Medium),[s,a]);break;case"long":let c=or(t,"longTime"),d=or(t,"longDate");r=Fc(Rc(t,Bt.Long),[c,d]);break;case"full":let p=or(t,"fullTime"),m=or(t,"fullDate");r=Fc(Rc(t,Bt.Full),[p,m]);break}return r&&(Nc[e][n]=r),r}function Fc(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,r){return n!=null&&r in n?n[r]:e})),t}function bn(t,n,e="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=e));let s=String(t);for(;s.length<n;)s="0"+s;return r&&(s=s.slice(s.length-n)),o+s}function Cx(t,n){return bn(t,3).substring(0,n)}function Qe(t,n,e=0,r=!1,i=!1){return function(o,s){let a=_x(t,o);if((e>0||a>-e)&&(a+=e),t===ye.Hours)a===0&&e===-12&&(a=12);else if(t===ye.FractionalSeconds)return Cx(a,n);let c=An(s,gt.MinusSign);return bn(a,n,c,r,i)}}function _x(t,n){switch(t){case ye.FullYear:return n.getFullYear();case ye.Month:return n.getMonth();case ye.Date:return n.getDate();case ye.Hours:return n.getHours();case ye.Minutes:return n.getMinutes();case ye.Seconds:return n.getSeconds();case ye.FractionalSeconds:return n.getMilliseconds();case ye.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function ke(t,n,e=St.Format,r=!1){return function(i,o){return Sx(i,o,t,n,e,r)}}function Sx(t,n,e,r,i,o){switch(e){case ve.Months:return lx(n,i,r)[t.getMonth()];case ve.Days:return cx(n,i,r)[t.getDay()];case ve.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let d=fx(n),p=hx(n,i,r),m=d.findIndex(C=>{if(Array.isArray(C)){let[b,_]=C,A=s>=b.hours&&a>=b.minutes,k=s<_.hours||s===_.hours&&a<_.minutes;if(b.hours<_.hours){if(A&&k)return!0}else if(A||k)return!0}else if(C.hours===s&&C.minutes===a)return!0;return!1});if(m!==-1)return p[m]}return ax(n,i,r)[s<12?0:1];case ve.Eras:return ux(n,r)[t.getFullYear()<=0?0:1];default:let c=e;throw new Error(`unexpected translation type ${c}`)}}function Lc(t){return function(n,e,r){let i=-1*r,o=An(e,gt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case ar.Short:return(i>=0?"+":"")+bn(s,2,o)+bn(Math.abs(i%60),2,o);case ar.ShortGMT:return"GMT"+(i>=0?"+":"")+bn(s,1,o);case ar.Long:return"GMT"+(i>=0?"+":"")+bn(s,2,o)+":"+bn(Math.abs(i%60),2,o);case ar.Extended:return r===0?"Z":(i>=0?"+":"")+bn(s,2,o)+":"+bn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var wx=0,jc=4;function Dx(t){let n=Bc(t,wx,1).getDay();return Bc(t,0,1+(n<=jc?jc:jc+7)-n)}function ey(t){let n=t.getDay(),e=n===0?-3:jc-n;return Bc(t.getFullYear(),t.getMonth(),t.getDate()+e)}function Uf(t,n=!1){return function(e,r){let i;if(n){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+o)/7)}else{let o=ey(e),s=Dx(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return bn(i,t,An(r,gt.MinusSign))}}function Vc(t,n=!1){return function(e,r){let o=ey(e).getFullYear();return bn(o,t,An(r,gt.MinusSign),n)}}var Bf={};function Ix(t){if(Bf[t])return Bf[t];let n;switch(t){case"G":case"GG":case"GGG":n=ke(ve.Eras,Te.Abbreviated);break;case"GGGG":n=ke(ve.Eras,Te.Wide);break;case"GGGGG":n=ke(ve.Eras,Te.Narrow);break;case"y":n=Qe(ye.FullYear,1,0,!1,!0);break;case"yy":n=Qe(ye.FullYear,2,0,!0,!0);break;case"yyy":n=Qe(ye.FullYear,3,0,!1,!0);break;case"yyyy":n=Qe(ye.FullYear,4,0,!1,!0);break;case"Y":n=Vc(1);break;case"YY":n=Vc(2,!0);break;case"YYY":n=Vc(3);break;case"YYYY":n=Vc(4);break;case"M":case"L":n=Qe(ye.Month,1,1);break;case"MM":case"LL":n=Qe(ye.Month,2,1);break;case"MMM":n=ke(ve.Months,Te.Abbreviated);break;case"MMMM":n=ke(ve.Months,Te.Wide);break;case"MMMMM":n=ke(ve.Months,Te.Narrow);break;case"LLL":n=ke(ve.Months,Te.Abbreviated,St.Standalone);break;case"LLLL":n=ke(ve.Months,Te.Wide,St.Standalone);break;case"LLLLL":n=ke(ve.Months,Te.Narrow,St.Standalone);break;case"w":n=Uf(1);break;case"ww":n=Uf(2);break;case"W":n=Uf(1,!0);break;case"d":n=Qe(ye.Date,1);break;case"dd":n=Qe(ye.Date,2);break;case"c":case"cc":n=Qe(ye.Day,1);break;case"ccc":n=ke(ve.Days,Te.Abbreviated,St.Standalone);break;case"cccc":n=ke(ve.Days,Te.Wide,St.Standalone);break;case"ccccc":n=ke(ve.Days,Te.Narrow,St.Standalone);break;case"cccccc":n=ke(ve.Days,Te.Short,St.Standalone);break;case"E":case"EE":case"EEE":n=ke(ve.Days,Te.Abbreviated);break;case"EEEE":n=ke(ve.Days,Te.Wide);break;case"EEEEE":n=ke(ve.Days,Te.Narrow);break;case"EEEEEE":n=ke(ve.Days,Te.Short);break;case"a":case"aa":case"aaa":n=ke(ve.DayPeriods,Te.Abbreviated);break;case"aaaa":n=ke(ve.DayPeriods,Te.Wide);break;case"aaaaa":n=ke(ve.DayPeriods,Te.Narrow);break;case"b":case"bb":case"bbb":n=ke(ve.DayPeriods,Te.Abbreviated,St.Standalone,!0);break;case"bbbb":n=ke(ve.DayPeriods,Te.Wide,St.Standalone,!0);break;case"bbbbb":n=ke(ve.DayPeriods,Te.Narrow,St.Standalone,!0);break;case"B":case"BB":case"BBB":n=ke(ve.DayPeriods,Te.Abbreviated,St.Format,!0);break;case"BBBB":n=ke(ve.DayPeriods,Te.Wide,St.Format,!0);break;case"BBBBB":n=ke(ve.DayPeriods,Te.Narrow,St.Format,!0);break;case"h":n=Qe(ye.Hours,1,-12);break;case"hh":n=Qe(ye.Hours,2,-12);break;case"H":n=Qe(ye.Hours,1);break;case"HH":n=Qe(ye.Hours,2);break;case"m":n=Qe(ye.Minutes,1);break;case"mm":n=Qe(ye.Minutes,2);break;case"s":n=Qe(ye.Seconds,1);break;case"ss":n=Qe(ye.Seconds,2);break;case"S":n=Qe(ye.FractionalSeconds,1);break;case"SS":n=Qe(ye.FractionalSeconds,2);break;case"SSS":n=Qe(ye.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=Lc(ar.Short);break;case"ZZZZZ":n=Lc(ar.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Lc(ar.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=Lc(ar.Long);break;default:return null}return Bf[t]=n,n}function ty(t,n){t=t.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function Ex(t,n){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+n),t}function xx(t,n,e){let r=e?-1:1,i=t.getTimezoneOffset(),o=ty(n,i);return Ex(t,r*(o-i))}function Mx(t){if(U0(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Bc(i,o-1,s)}let e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let r;if(r=t.match(vx))return Tx(r)}let n=new Date(t);if(!U0(n))throw new Error(`Unable to convert "${t}" into a date`);return n}function Tx(t){let n=new Date(0),e=0,r=0,i=t[8]?n.setUTCFullYear:n.setFullYear,o=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-e,a=Number(t[5]||0)-r,c=Number(t[6]||0),d=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(n,s,a,c,d),n}function U0(t){return t instanceof Date&&!isNaN(t.valueOf())}var Px=/^(\d+)?\.((\d+)(-(\d+))?)?$/,B0=22,$c=".",Yo="0",Ax=";",kx=",",$f="#",$0="\xA4";function ny(t,n,e,r,i,o,s=!1){let a="",c=!1;if(!isFinite(t))a=An(e,gt.Infinity);else{let d=Fx(t);s&&(d=Nx(d));let p=n.minInt,m=n.minFrac,C=n.maxFrac;if(o){let fe=o.match(Px);if(fe===null)throw new Error(`${o} is not a valid digit info`);let U=fe[1],Fe=fe[3],at=fe[5];U!=null&&(p=Hf(U)),Fe!=null&&(m=Hf(Fe)),at!=null?C=Hf(at):Fe!=null&&m>C&&(C=m)}Lx(d,m,C);let b=d.digits,_=d.integerLen,A=d.exponent,k=[];for(c=b.every(fe=>!fe);_<p;_++)b.unshift(0);for(;_<0;_++)b.unshift(0);_>0?k=b.splice(_,b.length):(k=b,b=[0]);let $=[];for(b.length>=n.lgSize&&$.unshift(b.splice(-n.lgSize,b.length).join(""));b.length>n.gSize;)$.unshift(b.splice(-n.gSize,b.length).join(""));b.length&&$.unshift(b.join("")),a=$.join(An(e,r)),k.length&&(a+=An(e,i)+k.join("")),A&&(a+=An(e,gt.Exponential)+"+"+A)}return t<0&&!c?a=n.negPre+a+n.negSuf:a=n.posPre+a+n.posSuf,a}function Ox(t,n,e,r,i){let o=J0(n,eh.Currency),s=ry(o,An(n,gt.MinusSign));return s.minFrac=mx(r),s.maxFrac=s.minFrac,ny(t,s,n,gt.CurrencyGroup,gt.CurrencyDecimal,i).replace($0,e).replace($0,"").trim()}function Rx(t,n,e){let r=J0(n,eh.Decimal),i=ry(r,An(n,gt.MinusSign));return ny(t,i,n,gt.Group,gt.Decimal,e)}function ry(t,n="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(Ax),i=r[0],o=r[1],s=i.indexOf($c)!==-1?i.split($c):[i.substring(0,i.lastIndexOf(Yo)+1),i.substring(i.lastIndexOf(Yo)+1)],a=s[0],c=s[1]||"";e.posPre=a.substring(0,a.indexOf($f));for(let p=0;p<c.length;p++){let m=c.charAt(p);m===Yo?e.minFrac=e.maxFrac=p+1:m===$f?e.maxFrac=p+1:e.posSuf+=m}let d=a.split(kx);if(e.gSize=d[1]?d[1].length:0,e.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,o){let p=i.length-e.posPre.length-e.posSuf.length,m=o.indexOf($f);e.negPre=o.substring(0,m).replace(/'/g,""),e.negSuf=o.slice(m+p).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}function Nx(t){if(t.digits[0]===0)return t;let n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(n===0?t.digits.push(0,0):n===1&&t.digits.push(0),t.integerLen+=2),t}function Fx(t){let n=Math.abs(t)+"",e=0,r,i,o,s,a;for((i=n.indexOf($c))>-1&&(n=n.replace($c,"")),(o=n.search(/e/i))>0?(i<0&&(i=o),i+=+n.slice(o+1),n=n.substring(0,o)):i<0&&(i=n.length),o=0;n.charAt(o)===Yo;o++);if(o===(a=n.length))r=[0],i=1;else{for(a--;n.charAt(a)===Yo;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(n.charAt(o))}return i>B0&&(r=r.splice(0,B0-1),e=i-1,i=1),{digits:r,exponent:e,integerLen:i}}function Lx(t,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(n,i),e),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let m=s;m<r.length;m++)r[m]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let m=1;m<s;m++)r[m]=0}if(a>=5)if(s-1<0){for(let m=0;m>s;m--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,d=n+t.integerLen,p=r.reduceRight(function(m,C,b,_){return C=C+m,_[b]=C<10?C:C-10,c&&(_[b]===0&&b>=d?_.pop():c=!1),C>=10?1:0},0);p&&(r.unshift(p),t.integerLen++)}function Hf(t){let n=parseInt(t);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+t);return n}function Hc(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var zf=/\s+/,H0=[],it=(()=>{class t{constructor(e,r){this._ngEl=e,this._renderer=r,this.initialClasses=H0,this.stateMap=new Map}set klass(e){this.initialClasses=e!=null?e.trim().split(zf):H0}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(zf):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(zf).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(I(Yt),I(mn))}}static{this.\u0275dir=pe({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var Wf=class{constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ie=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Wf(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),z0(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);z0(o,i)})}static ngTemplateContextGuard(e,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(I(si),I(qo),I(Lf))}}static{this.\u0275dir=pe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function z0(t,n){t.context.$implicit=n.item}var ce=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new Gf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){W0("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){W0("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(I(si),I(qo))}}static{this.\u0275dir=pe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Gf=class{constructor(){this.$implicit=null,this.ngIf=null}};function W0(t,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${yt(n)}'.`)}var qf=class{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}},th=(()=>{class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){let r=e===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(let r of this._defaultViews)r.enforceState(e)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=pe({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return t})(),iy=(()=>{class t{constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new qf(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(r){return new(r||t)(I(si),I(qo),I(th,9))}}static{this.\u0275dir=pe({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return t})();var oy=(()=>{class t{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){let[i,o]=e.split("."),s=i.indexOf("-")===-1?void 0:Mn.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||t)(I(Yt),I(Vf),I(mn))}}static{this.\u0275dir=pe({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return t})();function nh(t,n){return new F(2100,!1)}var Vx="mediumDate",jx=new j(""),Ux=new j(""),kn=(()=>{class t{constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,o){if(e==null||e===""||e!==e)return null;try{let s=r??this.defaultOptions?.dateFormat??Vx,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return bx(e,s,o||this.locale,a)}catch(s){throw nh(t,s.message)}}static{this.\u0275fac=function(r){return new(r||t)(I(Xi,16),I(jx,24),I(Ux,24))}}static{this.\u0275pipe=zo({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var no=(()=>{class t{constructor(e){this._locale=e}transform(e,r,i){if(!ay(e))return null;i||=this._locale;try{let o=cy(e);return Rx(o,i,r)}catch(o){throw nh(t,o.message)}}static{this.\u0275fac=function(r){return new(r||t)(I(Xi,16))}}static{this.\u0275pipe=zo({name:"number",type:t,pure:!0,standalone:!0})}}return t})();var sy=(()=>{class t{constructor(e,r="USD"){this._locale=e,this._defaultCurrencyCode=r}transform(e,r=this._defaultCurrencyCode,i="symbol",o,s){if(!ay(e))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=px(a,i==="symbol"?"wide":"narrow",s):a=i);try{let c=cy(e);return Ox(c,s,a,r,o)}catch(c){throw nh(t,c.message)}}static{this.\u0275fac=function(r){return new(r||t)(I(Xi,16),I(k0,16))}}static{this.\u0275pipe=zo({name:"currency",type:t,pure:!0,standalone:!0})}}return t})();function ay(t){return!(t==null||t===""||t!==t)}function cy(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var X=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Vt({type:t})}static{this.\u0275inj=Lt({})}}return t})(),rh="browser",Bx="server";function ih(t){return t===rh}function zc(t){return t===Bx}var ly=(()=>{class t{static{this.\u0275prov=S({token:t,providedIn:"root",factory:()=>ih(g(Jt))?new Kf(g(be),window):new Zf})}}return t})(),Kf=class{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let e=$x(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function $x(t,n){let e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}var Zf=class{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}},eo=class{};var Xo=class{},Gc=class{},wt=class t{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let i=e.slice(0,r),o=i.toLowerCase(),s=e.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,e);let i=(n.op==="a"?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":let o=n.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}setHeaderEntries(n,e){let r=(Array.isArray(e)?e:[e]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var sh=class{encodeKey(n){return uy(n)}encodeValue(n){return uy(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function Hx(t,n){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}var zx=/%(\d[a-f0-9])/gi,Wx={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function uy(t){return encodeURIComponent(t).replace(zx,(n,e)=>Wx[e]??n)}function Wc(t){return`${t}`}var rn=class t{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new sh,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Hx(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let r=n.fromObject[e],i=Array.isArray(r)?r.map(Wc):[Wc(r)];this.map.set(e,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(r=>{let i=n[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(Wc(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],i=r.indexOf(Wc(n.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var ah=class{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function Gx(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function dy(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function fy(t){return typeof Blob<"u"&&t instanceof Blob}function hy(t){return typeof FormData<"u"&&t instanceof FormData}function qx(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Jo=class t{constructor(n,e,r,i){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase();let o;if(Gx(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new wt,this.context??=new ah,!this.params)this.params=new rn,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),c=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||dy(this.body)||fy(this.body)||hy(this.body)||qx(this.body)?this.body:this.body instanceof rn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||hy(this.body)?null:fy(this.body)?this.body.type||null:dy(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof rn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(n={}){let e=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,c=n.reportProgress??this.reportProgress,d=n.headers||this.headers,p=n.params||this.params,m=n.context??this.context;return n.setHeaders!==void 0&&(d=Object.keys(n.setHeaders).reduce((C,b)=>C.set(b,n.setHeaders[b]),d)),n.setParams&&(p=Object.keys(n.setParams).reduce((C,b)=>C.set(b,n.setParams[b]),p)),new t(e,r,s,{params:p,headers:d,context:m,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},Nr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Nr||{}),es=class{constructor(n,e=200,r="OK"){this.headers=n.headers||new wt,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},qc=class t extends es{constructor(n={}){super(n),this.type=Nr.ResponseHeader}clone(n={}){return new t({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},li=class t extends es{constructor(n={}){super(n),this.type=Nr.Response,this.body=n.body!==void 0?n.body:null}clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},On=class extends es{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},vy=200,Kx=204;function oh(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Ue=(()=>{class t{constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof Jo)o=e;else{let c;i.headers instanceof wt?c=i.headers:c=new wt(i.headers);let d;i.params&&(i.params instanceof rn?d=i.params:d=new rn({fromObject:i.params})),o=new Jo(e,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=E(o).pipe(ie(c=>this.handler.handle(c)));if(e instanceof Jo||i.observe==="events")return s;let a=s.pipe(lt(c=>c instanceof li));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(O(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(O(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(O(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(O(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new rn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,oh(i,r))}post(e,r,i={}){return this.request("POST",e,oh(i,r))}put(e,r,i={}){return this.request("PUT",e,oh(i,r))}static{this.\u0275fac=function(r){return new(r||t)(N(Xo))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})(),Zx=/^\)\]\}',?\n/,Qx="X-Request-URL";function py(t){if(t.url)return t.url;let n=Qx.toLocaleLowerCase();return t.headers.get(n)}var Yx=(()=>{class t{constructor(){this.fetchImpl=g(ch,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=g(xe)}handle(e){return new ee(r=>{let i=new AbortController;return this.doRequest(e,i.signal,r).then(lh,o=>r.error(new On({error:o}))),()=>i.abort()})}doRequest(e,r,i){return hr(this,null,function*(){let o=this.createRequestInit(e),s;try{let b=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,x({signal:r},o)));Jx(b),i.next({type:Nr.Sent}),s=yield b}catch(b){i.error(new On({error:b,status:b.status??0,statusText:b.statusText,url:e.urlWithParams,headers:b.headers}));return}let a=new wt(s.headers),c=s.statusText,d=py(s)??e.urlWithParams,p=s.status,m=null;if(e.reportProgress&&i.next(new qc({headers:a,status:p,statusText:c,url:d})),s.body){let b=s.headers.get("content-length"),_=[],A=s.body.getReader(),k=0,$,fe,U=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>hr(this,null,function*(){for(;;){let{done:at,value:Xe}=yield A.read();if(at)break;if(_.push(Xe),k+=Xe.length,e.reportProgress){fe=e.responseType==="text"?(fe??"")+($??=new TextDecoder).decode(Xe,{stream:!0}):void 0;let Wn=()=>i.next({type:Nr.DownloadProgress,total:b?+b:void 0,loaded:k,partialText:fe});U?U.run(Wn):Wn()}}}));let Fe=this.concatChunks(_,k);try{let at=s.headers.get("Content-Type")??"";m=this.parseBody(e,Fe,at)}catch(at){i.error(new On({error:at,headers:new wt(s.headers),status:s.status,statusText:s.statusText,url:py(s)??e.urlWithParams}));return}}p===0&&(p=m?vy:0),p>=200&&p<300?(i.next(new li({body:m,headers:a,status:p,statusText:c,url:d})),i.complete()):i.error(new On({error:m,headers:a,status:p,statusText:c,url:d}))})}parseBody(e,r,i){switch(e.responseType){case"json":let o=new TextDecoder().decode(r).replace(Zx,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(e){let r={},i=e.withCredentials?"include":void 0;if(e.headers.forEach((o,s)=>r[o]=s.join(",")),e.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let o=e.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:e.serializeBody(),method:e.method,headers:r,credentials:i}}concatChunks(e,r){let i=new Uint8Array(r),o=0;for(let s of e)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})(),ch=class{};function lh(){}function Jx(t){t.then(lh,lh)}function Xx(t,n){return n(t)}function e1(t,n,e){return(r,i)=>Kt(e,()=>n(r,o=>t(o,i)))}var uh=new j(""),t1=new j(""),n1=new j("",{providedIn:"root",factory:()=>!0});var gy=(()=>{class t extends Xo{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null,this.pendingTasks=g(Tr),this.contributeToStability=g(n1)}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(uh),...this.injector.get(t1,[])]));this.chain=r.reduceRight((i,o)=>e1(i,o,this.injector),Xx)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(Zn(()=>this.pendingTasks.remove(r)))}else return this.chain(e,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(N(Gc),N(bt))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})();var r1=/^\)\]\}',?\n/;function i1(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var my=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new F(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Se(r.\u0275loadImpl()):E(null)).pipe(ue(()=>new ee(o=>{let s=r.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((A,k)=>s.setRequestHeader(A,k.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let A=e.detectContentTypeHeader();A!==null&&s.setRequestHeader("Content-Type",A)}if(e.responseType){let A=e.responseType.toLowerCase();s.responseType=A!=="json"?A:"text"}let a=e.serializeBody(),c=null,d=()=>{if(c!==null)return c;let A=s.statusText||"OK",k=new wt(s.getAllResponseHeaders()),$=i1(s)||e.url;return c=new qc({headers:k,status:s.status,statusText:A,url:$}),c},p=()=>{let{headers:A,status:k,statusText:$,url:fe}=d(),U=null;k!==Kx&&(U=typeof s.response>"u"?s.responseText:s.response),k===0&&(k=U?vy:0);let Fe=k>=200&&k<300;if(e.responseType==="json"&&typeof U=="string"){let at=U;U=U.replace(r1,"");try{U=U!==""?JSON.parse(U):null}catch(Xe){U=at,Fe&&(Fe=!1,U={error:Xe,text:U})}}Fe?(o.next(new li({body:U,headers:A,status:k,statusText:$,url:fe||void 0})),o.complete()):o.error(new On({error:U,headers:A,status:k,statusText:$,url:fe||void 0}))},m=A=>{let{url:k}=d(),$=new On({error:A,status:s.status||0,statusText:s.statusText||"Unknown Error",url:k||void 0});o.error($)},C=!1,b=A=>{C||(o.next(d()),C=!0);let k={type:Nr.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(k.total=A.total),e.responseType==="text"&&s.responseText&&(k.partialText=s.responseText),o.next(k)},_=A=>{let k={type:Nr.UploadProgress,loaded:A.loaded};A.lengthComputable&&(k.total=A.total),o.next(k)};return s.addEventListener("load",p),s.addEventListener("error",m),s.addEventListener("timeout",m),s.addEventListener("abort",m),e.reportProgress&&(s.addEventListener("progress",b),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:Nr.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",p),s.removeEventListener("timeout",m),e.reportProgress&&(s.removeEventListener("progress",b),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(N(eo))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})(),yy=new j(""),o1="XSRF-TOKEN",s1=new j("",{providedIn:"root",factory:()=>o1}),a1="X-XSRF-TOKEN",c1=new j("",{providedIn:"root",factory:()=>a1}),Kc=class{},l1=(()=>{class t{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Hc(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(N(be),N(Jt),N(s1))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})();function u1(t,n){let e=t.url.toLowerCase();if(!g(yy)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return n(t);let r=g(Kc).getToken(),i=g(c1);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),n(t)}var by=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(by||{});function d1(t,n){return{\u0275kind:t,\u0275providers:n}}function dh(...t){let n=[Ue,my,gy,{provide:Xo,useExisting:gy},{provide:Gc,useFactory:()=>g(Yx,{optional:!0})??g(my)},{provide:uh,useValue:u1,multi:!0},{provide:yy,useValue:!0},{provide:Kc,useClass:l1}];for(let e of t)n.push(...e.\u0275providers);return Er(n)}function Cy(t){return d1(by.Interceptors,t.map(n=>({provide:uh,useValue:n,multi:!0})))}var ph=class extends Uc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},gh=class t extends ph{static makeCurrent(){q0(new t)}onAndCancel(n,e,r){return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=f1();return e==null?null:h1(e)}resetBaseElement(){ts=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Hc(document.cookie,n)}},ts=null;function f1(){return ts=ts||document.querySelector("base"),ts?ts.getAttribute("href"):null}function h1(t){return new URL(t,document.baseURI).pathname}var p1=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})(),Zc=new j(""),Dy=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new F(5101,!1);return this._eventNameToPlugin.set(e,r),r}static{this.\u0275fac=function(r){return new(r||t)(N(Zc),N(xe))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})(),ns=class{constructor(n){this._doc=n}},fh="ng-app-id",Iy=(()=>{class t{constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=zc(o),this.resetHostNodes()}addStyles(e){for(let r of e)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(e){for(let r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){let r=this.styleRef;r.get(e)?.elements?.forEach(i=>i.remove()),r.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${fh}="${this.appId}"]`);if(e?.length){let r=new Map;return e.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(e,r){let i=this.styleRef;if(i.has(e)){let o=i.get(e);return o.usage+=r,o.usage}return i.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===e)return i.delete(r),o.removeAttribute(fh),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(fh,this.appId),e.appendChild(s),s}}addStyleToHost(e,r){let i=this.getStyleElement(e,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(N(be),N(pf),N(mf,8),N(Jt))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})(),hh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},vh=/%COMP%/g,Ey="%COMP%",g1=`_nghost-${Ey}`,m1=`_ngcontent-${Ey}`,v1=!0,y1=new j("",{providedIn:"root",factory:()=>v1});function b1(t){return m1.replace(vh,t)}function C1(t){return g1.replace(vh,t)}function xy(t,n){return n.map(e=>e.replace(vh,t))}var _y=(()=>{class t{constructor(e,r,i,o,s,a,c,d=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=zc(a),this.defaultRenderer=new rs(e,s,c,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Dn.ShadowDom&&(r=W(x({},r),{encapsulation:Dn.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof Qc?i.applyToHost(e):i instanceof is&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Dn.Emulated:o=new Qc(c,d,r,this.appId,p,s,a,m);break;case Dn.ShadowDom:return new mh(c,d,e,r,s,a,this.nonce,m);default:o=new is(c,d,r,p,s,a,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(N(Dy),N(Iy),N(pf),N(y1),N(be),N(Jt),N(xe),N(mf))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})(),rs=class{constructor(n,e,r,i){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(hh[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(Sy(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(Sy(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){e.remove()}selectRootElement(n,e){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new F(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;let o=hh[i];o?n.setAttributeNS(o,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){let i=hh[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(Mn.DashCase|Mn.Important)?n.style.setProperty(e,r,i&Mn.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Mn.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n!=null&&(n[e]=r)}setValue(n,e){n.nodeValue=e}listen(n,e,r){if(typeof n=="string"&&(n=cr().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(r))}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function Sy(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var mh=class extends rs{constructor(n,e,r,i,o,s,a,c){super(n,o,s,c),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=xy(i.id,i.styles);for(let p of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=p,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},is=class extends rs{constructor(n,e,r,i,o,s,a,c){super(n,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=c?xy(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Qc=class extends is{constructor(n,e,r,i,o,s,a,c){let d=i+"-"+r.id;super(n,e,r,o,s,a,c,d),this.contentAttr=b1(d),this.hostAttr=C1(d)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}},_1=(()=>{class t extends ns{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(N(be))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})(),S1=(()=>{class t extends ns{constructor(e){super(e),this.delegate=g(F0,{optional:!0})}supports(e){return this.delegate?this.delegate.supports(e):!1}addEventListener(e,r,i){return this.delegate.addEventListener(e,r,i)}removeEventListener(e,r,i){return this.delegate.removeEventListener(e,r,i)}static{this.\u0275fac=function(r){return new(r||t)(N(be))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})(),wy=["alt","control","meta","shift"],w1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},D1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},I1=(()=>{class t extends ns{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cr().onAndCancel(e,o.domEventName,s))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),wy.forEach(d=>{let p=r.indexOf(d);p>-1&&(r.splice(p,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(e,r){let i=w1[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),wy.forEach(s=>{if(s!==i){let a=D1[s];a(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{t.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(r){return new(r||t)(N(be))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})();function My(t,n){return N0(x({rootComponent:t},E1(n)))}function E1(t){return{appProviders:[...A1,...t?.providers??[]],platformProviders:P1}}function x1(){gh.makeCurrent()}function M1(){return new Yn}function T1(){return vv(document),document}var P1=[{provide:Jt,useValue:rh},{provide:gf,useValue:x1,multi:!0},{provide:be,useFactory:T1,deps:[]}];var A1=[{provide:lc,useValue:"root"},{provide:Yn,useFactory:M1,deps:[]},{provide:Zc,useClass:_1,multi:!0,deps:[be,xe,Jt]},{provide:Zc,useClass:I1,multi:!0,deps:[be]},{provide:Zc,useClass:S1,multi:!0},_y,Iy,Dy,{provide:Dr,useExisting:_y},{provide:eo,useClass:p1,deps:[]},[]];var Ty=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(r){return new(r||t)(N(be))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var yh=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=N(k1),i},providedIn:"root"})}}return t})(),k1=(()=>{class t extends yh{constructor(e){super(),this._doc=e}sanitize(e,r){if(r==null)return null;switch(e){case Pn.NONE:return r;case Pn.HTML:return Pr(r,"HTML")?gn(r):Tv(this._doc,String(r)).toString();case Pn.STYLE:return Pr(r,"Style")?gn(r):r;case Pn.SCRIPT:if(Pr(r,"Script"))return gn(r);throw new F(5200,!1);case Pn.URL:return Pr(r,"URL")?gn(r):Sc(String(r));case Pn.RESOURCE_URL:if(Pr(r,"ResourceURL"))return gn(r);throw new F(5201,!1);default:throw new F(5202,!1)}}bypassSecurityTrustHtml(e){return bv(e)}bypassSecurityTrustStyle(e){return Cv(e)}bypassSecurityTrustScript(e){return _v(e)}bypassSecurityTrustUrl(e){return Sv(e)}bypassSecurityTrustResourceUrl(e){return wv(e)}static{this.\u0275fac=function(r){return new(r||t)(N(be))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ne="primary",bs=Symbol("RouteTitle"),wh=class{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function co(t){return new wh(t)}function O1(t,n,e){let r=e.path.split("/");if(r.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function R1(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Nn(t[e],n[e]))return!1;return!0}function Nn(t,n){let e=t?Dh(t):void 0,r=n?Dh(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!By(t[i],n[i]))return!1;return!0}function Dh(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function By(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),r=[...n].sort();return e.every((i,o)=>r[o]===i)}else return t===n}function $y(t){return t.length>0?t[t.length-1]:null}function Lr(t){return Eu(t)?t:ci(t)?Se(Promise.resolve(t)):E(t)}var N1={exact:zy,subset:Wy},Hy={exact:F1,subset:L1,ignored:()=>!0};function Ay(t,n,e){return N1[e.paths](t.root,n.root,e.matrixParams)&&Hy[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function F1(t,n){return Nn(t,n)}function zy(t,n,e){if(!di(t.segments,n.segments)||!Xc(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!t.children[r]||!zy(t.children[r],n.children[r],e))return!1;return!0}function L1(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>By(t[e],n[e]))}function Wy(t,n,e){return Gy(t,n,n.segments,e)}function Gy(t,n,e,r){if(t.segments.length>e.length){let i=t.segments.slice(0,e.length);return!(!di(i,e)||n.hasChildren()||!Xc(i,e,r))}else if(t.segments.length===e.length){if(!di(t.segments,e)||!Xc(t.segments,e,r))return!1;for(let i in n.children)if(!t.children[i]||!Wy(t.children[i],n.children[i],r))return!1;return!0}else{let i=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!di(t.segments,i)||!Xc(t.segments,i,r)||!t.children[ne]?!1:Gy(t.children[ne],n,o,r)}}function Xc(t,n,e){return n.every((r,i)=>Hy[e](t[i].parameters,r.parameters))}var dr=class{constructor(n=new _e([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=co(this.queryParams),this._queryParamMap}toString(){return U1.serialize(this)}},_e=class{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return el(this)}},ui=class{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=co(this.parameters),this._parameterMap}toString(){return Ky(this)}};function V1(t,n){return di(t,n)&&t.every((e,r)=>Nn(e.parameters,n[r].parameters))}function di(t,n){return t.length!==n.length?!1:t.every((e,r)=>e.path===n[r].path)}function j1(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===ne&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ne&&(e=e.concat(n(i,r)))}),e}var Cs=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:()=>new lo,providedIn:"root"})}}return t})(),lo=class{parse(n){let e=new Eh(n);return new dr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${os(n.root,!0)}`,r=H1(n.queryParams),i=typeof n.fragment=="string"?`#${B1(n.fragment)}`:"";return`${e}${r}${i}`}},U1=new lo;function el(t){return t.segments.map(n=>Ky(n)).join("/")}function os(t,n){if(!t.hasChildren())return el(t);if(n){let e=t.children[ne]?os(t.children[ne],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ne&&r.push(`${i}:${os(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=j1(t,(r,i)=>i===ne?[os(t.children[ne],!1)]:[`${i}:${os(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ne]!=null?`${el(t)}/${e[0]}`:`${el(t)}/(${e.join("//")})`}}function qy(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yc(t){return qy(t).replace(/%3B/gi,";")}function B1(t){return encodeURI(t)}function Ih(t){return qy(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tl(t){return decodeURIComponent(t)}function ky(t){return tl(t.replace(/\+/g,"%20"))}function Ky(t){return`${Ih(t.path)}${$1(t.parameters)}`}function $1(t){return Object.entries(t).map(([n,e])=>`;${Ih(n)}=${Ih(e)}`).join("")}function H1(t){let n=Object.entries(t).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Yc(e)}=${Yc(i)}`).join("&"):`${Yc(e)}=${Yc(r)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var z1=/^[^\/()?;#]+/;function bh(t){let n=t.match(z1);return n?n[0]:""}var W1=/^[^\/()?;=#]+/;function G1(t){let n=t.match(W1);return n?n[0]:""}var q1=/^[^=?&#]+/;function K1(t){let n=t.match(q1);return n?n[0]:""}var Z1=/^[^&#]+/;function Q1(t){let n=t.match(Z1);return n?n[0]:""}var Eh=class{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[ne]=new _e(n,e)),r}parseSegment(){let n=bh(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(n),new ui(tl(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=G1(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=bh(this.remaining);i&&(r=i,this.capture(r))}n[tl(e)]=tl(r)}parseQueryParam(n){let e=K1(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=Q1(this.remaining);s&&(r=s,this.capture(r))}let i=ky(e),o=ky(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=bh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new F(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=ne);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[ne]:new _e([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new F(4011,!1)}};function Zy(t){return t.segments.length>0?new _e([],{[ne]:t}):t}function Qy(t){let n={};for(let[r,i]of Object.entries(t.children)){let o=Qy(i);if(r===ne&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let e=new _e(t.segments,n);return Y1(e)}function Y1(t){if(t.numberOfChildren===1&&t.children[ne]){let n=t.children[ne];return new _e(t.segments.concat(n.segments),n.children)}return t}function fi(t){return t instanceof dr}function J1(t,n,e=null,r=null){let i=Yy(t);return Jy(i,n,e,r)}function Yy(t){let n;function e(o){let s={};for(let c of o.children){let d=e(c);s[c.outlet]=d}let a=new _e(o.url,s);return o===t&&(n=a),a}let r=e(t.root),i=Zy(r);return n??i}function Jy(t,n,e,r){let i=t;for(;i.parent;)i=i.parent;if(n.length===0)return Ch(i,i,i,e,r);let o=X1(n);if(o.toRoot())return Ch(i,i,new _e([],{}),e,r);let s=eM(o,i,t),a=s.processChildren?cs(s.segmentGroup,s.index,o.commands):eb(s.segmentGroup,s.index,o.commands);return Ch(i,s.segmentGroup,a,e,r)}function nl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ds(t){return typeof t=="object"&&t!=null&&t.outlets}function Ch(t,n,e,r,i){let o={};r&&Object.entries(r).forEach(([c,d])=>{o[c]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let s;t===n?s=e:s=Xy(t,n,e);let a=Zy(Qy(s));return new dr(a,o,i)}function Xy(t,n,e){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===n?r[i]=e:r[i]=Xy(o,n,e)}),new _e(t.segments,r)}var rl=class{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&nl(r[0]))throw new F(4003,!1);let i=r.find(ds);if(i&&i!==$y(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function X1(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new rl(!0,0,t);let n=0,e=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,d])=>{a[c]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?e=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new rl(e,n,r)}var oo=class{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}};function eM(t,n,e){if(t.isAbsolute)return new oo(n,!0,0);if(!e)return new oo(n,!1,NaN);if(e.parent===null)return new oo(e,!0,0);let r=nl(t.commands[0])?0:1,i=e.segments.length-1+r;return tM(e,i,t.numberOfDoubleDots)}function tM(t,n,e){let r=t,i=n,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new F(4005,!1);i=r.segments.length}return new oo(r,!1,i-o)}function nM(t){return ds(t[0])?t[0].outlets:{[ne]:t}}function eb(t,n,e){if(t??=new _e([],{}),t.segments.length===0&&t.hasChildren())return cs(t,n,e);let r=rM(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new _e(t.segments.slice(0,r.pathIndex),{});return o.children[ne]=new _e(t.segments.slice(r.pathIndex),t.children),cs(o,0,i)}else return r.match&&i.length===0?new _e(t.segments,{}):r.match&&!t.hasChildren()?xh(t,n,e):r.match?cs(t,0,i):xh(t,n,e)}function cs(t,n,e){if(e.length===0)return new _e(t.segments,{});{let r=nM(e),i={};if(Object.keys(r).some(o=>o!==ne)&&t.children[ne]&&t.numberOfChildren===1&&t.children[ne].segments.length===0){let o=cs(t.children[ne],n,e);return new _e(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=eb(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new _e(t.segments,i)}}function rM(t,n,e){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return o;let s=t.segments[i],a=e[r];if(ds(a))break;let c=`${a}`,d=r<e.length-1?e[r+1]:null;if(i>0&&c===void 0)break;if(c&&d&&typeof d=="object"&&d.outlets===void 0){if(!Ry(c,d,s))return o;r+=2}else{if(!Ry(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function xh(t,n,e){let r=t.segments.slice(0,n),i=0;for(;i<e.length;){let o=e[i];if(ds(o)){let c=iM(o.outlets);return new _e(r,c)}if(i===0&&nl(e[0])){let c=t.segments[n];r.push(new ui(c.path,Oy(e[0]))),i++;continue}let s=ds(o)?o.outlets[ne]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&nl(a)?(r.push(new ui(s,Oy(a))),i+=2):(r.push(new ui(s,{})),i++)}return new _e(r,{})}function iM(t){let n={};return Object.entries(t).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[e]=xh(new _e([],{}),0,r))}),n}function Oy(t){let n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function Ry(t,n,e){return t==e.path&&Nn(n,e.parameters)}var ls="imperative",st=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(st||{}),on=class{constructor(n,e){this.id=n,this.url=e}},uo=class extends on{constructor(n,e,r="imperative",i=null){super(n,e),this.type=st.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},sn=class extends on{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=st.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ht=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ht||{}),il=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(il||{}),ur=class extends on{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=st.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Fr=class extends on{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=st.NavigationSkipped}},fs=class extends on{constructor(n,e,r,i){super(n,e),this.error=r,this.target=i,this.type=st.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ol=class extends on{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=st.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mh=class extends on{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=st.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Th=class extends on{constructor(n,e,r,i,o){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=st.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ph=class extends on{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=st.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ah=class extends on{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=st.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kh=class{constructor(n){this.route=n,this.type=st.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Oh=class{constructor(n){this.route=n,this.type=st.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Rh=class{constructor(n){this.snapshot=n,this.type=st.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nh=class{constructor(n){this.snapshot=n,this.type=st.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fh=class{constructor(n){this.snapshot=n,this.type=st.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lh=class{constructor(n){this.snapshot=n,this.type=st.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sl=class{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=st.Scroll}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},hs=class{},fo=class{constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function oM(t,n){return t.providers&&!t._injector&&(t._injector=Mc(t.providers,n,`Route: ${t.path}`)),t._injector??n}function Cn(t){return t.outlet||ne}function sM(t,n){let e=t.filter(r=>Cn(r)===n);return e.push(...t.filter(r=>Cn(r)!==n)),e}function _s(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Vh=class{get injector(){return _s(this.route?.snapshot)??this.rootInjector}set injector(n){}constructor(n){this.rootInjector=n,this.outlet=null,this.route=null,this.children=new Ss(this.rootInjector),this.attachRef=null}},Ss=(()=>{class t{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Vh(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(r){return new(r||t)(N(bt))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),al=class{constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=jh(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){let e=jh(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=Uh(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Uh(n,this._root).map(e=>e.value)}};function jh(t,n){if(t===n.value)return n;for(let e of n.children){let r=jh(t,e);if(r)return r}return null}function Uh(t,n){if(t===n.value)return[n];for(let e of n.children){let r=Uh(t,e);if(r.length)return r.unshift(n),r}return[]}var $t=class{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function io(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var cl=class extends al{constructor(n,e){super(n),this.snapshot=e,Zh(this,n)}toString(){return this.snapshot.toString()}};function tb(t){let n=aM(t),e=new Ce([new ui("",{})]),r=new Ce({}),i=new Ce({}),o=new Ce({}),s=new Ce(""),a=new ot(e,r,o,s,i,ne,t,n.root);return a.snapshot=n.root,new cl(new $t(a,[]),n)}function aM(t){let n={},e={},r={},i="",o=new so([],n,r,i,e,ne,t,null,{});return new ul("",new $t(o,[]))}var ot=class{constructor(n,e,r,i,o,s,a,c){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(O(d=>d[bs]))??E(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(O(n=>co(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(O(n=>co(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ll(t,n,e="emptyOnly"){let r,{routeConfig:i}=t;return n!==null&&(e==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:x(x({},n.params),t.params),data:x(x({},n.data),t.data),resolve:x(x(x(x({},t.data),n.data),i?.data),t._resolvedData)}:r={params:x({},t.params),data:x({},t.data),resolve:x(x({},t.data),t._resolvedData??{})},i&&rb(i)&&(r.resolve[bs]=i.title),r}var so=class{get title(){return this.data?.[bs]}constructor(n,e,r,i,o,s,a,c,d){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=co(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=co(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},ul=class extends al{constructor(n,e){super(e),this.url=n,Zh(this,e)}toString(){return nb(this._root)}};function Zh(t,n){n.value._routerState=t,n.children.forEach(e=>Zh(t,e))}function nb(t){let n=t.children.length>0?` { ${t.children.map(nb).join(", ")} } `:"";return`${t.value}${n}`}function _h(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Nn(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Nn(n.params,e.params)||t.paramsSubject.next(e.params),R1(n.url,e.url)||t.urlSubject.next(e.url),Nn(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Bh(t,n){let e=Nn(t.params,n.params)&&V1(t.url,n.url),r=!t.parent!=!n.parent;return e&&!r&&(!t.parent||Bh(t.parent,n.parent))}function rb(t){return typeof t.title=="string"||t.title===null}var ws=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new Le,this.deactivateEvents=new Le,this.attachEvents=new Le,this.detachEvents=new Le,this.parentContexts=g(Ss),this.location=g(si),this.changeDetector=g(Or),this.inputBinder=g(pl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new $h(e,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=pe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[pn]})}}return t})(),$h=class t{__ngOutletInjector(n){return new t(this.route,this.childContexts,n)}constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===ot?this.route:n===Ss?this.childContexts:this.parent.get(n,e)}},pl=new j(""),Ny=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,i=Ao([r.queryParams,r.params,r.data]).pipe(ue(([o,s,a],c)=>(a=x(x(x({},o),s),a),c===0?E(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let s=L0(r.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})();function cM(t,n,e){let r=ps(t,n._root,e?e._root:void 0);return new cl(r,n)}function ps(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=n.value;let i=lM(t,n,e);return new $t(r,i)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>ps(t,a)),s}}let r=uM(n.value),i=n.children.map(o=>ps(t,o));return new $t(r,i)}}function lM(t,n,e){return n.children.map(r=>{for(let i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ps(t,r,i);return ps(t,r)})}function uM(t){return new ot(new Ce(t.url),new Ce(t.params),new Ce(t.queryParams),new Ce(t.fragment),new Ce(t.data),t.outlet,t.component,t)}var gs=class{constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},ib="ngNavigationCancelingError";function dl(t,n){let{redirectTo:e,navigationBehaviorOptions:r}=fi(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=ob(!1,Ht.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function ob(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[ib]=!0,e.cancellationCode=n,e}function dM(t){return sb(t)&&fi(t.url)}function sb(t){return!!t&&t[ib]}var fM=(t,n,e,r)=>O(i=>(new Hh(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)),Hh=class{constructor(n,e,r,i,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),_h(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){let i=io(e);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=io(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=io(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){let i=io(e);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Lh(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Nh(n.value.snapshot))}activateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(_h(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),_h(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},fl=class{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},ao=class{constructor(n,e){this.component=n,this.route=e}};function hM(t,n,e){let r=t._root,i=n?n._root:null;return ss(r,i,e,[r.value])}function pM(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function po(t,n){let e=Symbol(),r=n.get(t,e);return r===e?typeof t=="function"&&!im(t)?t:n.get(t):r}function ss(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=io(n);return t.children.forEach(s=>{gM(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>us(a,e.getContext(s),i)),i}function gM(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=mM(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new fl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ss(t,n,a?a.children:null,r,i):ss(t,n,e,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ao(a.outlet.component,s))}else s&&us(n,a,i),i.canActivateChecks.push(new fl(r)),o.component?ss(t,null,a?a.children:null,r,i):ss(t,null,e,r,i);return i}function mM(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!di(t.url,n.url);case"pathParamsOrQueryParamsChange":return!di(t.url,n.url)||!Nn(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bh(t,n)||!Nn(t.queryParams,n.queryParams);case"paramsChange":default:return!Bh(t,n)}}function us(t,n,e){let r=io(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?n?us(s,n.children.getContext(o),e):us(s,null,e):us(s,n,e)}),i.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new ao(n.outlet.component,i)):e.canDeactivateChecks.push(new ao(null,i)):e.canDeactivateChecks.push(new ao(null,i))}function Ds(t){return typeof t=="function"}function vM(t){return typeof t=="boolean"}function yM(t){return t&&Ds(t.canLoad)}function bM(t){return t&&Ds(t.canActivate)}function CM(t){return t&&Ds(t.canActivateChild)}function _M(t){return t&&Ds(t.canDeactivate)}function SM(t){return t&&Ds(t.canMatch)}function ab(t){return t instanceof qn||t?.name==="EmptyError"}var Jc=Symbol("INITIAL_VALUE");function ho(){return ue(t=>Ao(t.map(n=>n.pipe(Dt(1),ku(Jc)))).pipe(O(n=>{for(let e of n)if(e!==!0){if(e===Jc)return Jc;if(e===!1||wM(e))return e}return!0}),lt(n=>n!==Jc),Dt(1)))}function wM(t){return fi(t)||t instanceof gs}function DM(t,n){return Ee(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?E(W(x({},e),{guardsResult:!0})):IM(s,r,i,t).pipe(Ee(a=>a&&vM(a)?EM(r,o,t,n):E(a)),O(a=>W(x({},e),{guardsResult:a})))})}function IM(t,n,e,r){return Se(t).pipe(Ee(i=>AM(i.component,i.route,e,n,r)),_n(i=>i!==!0,!0))}function EM(t,n,e,r){return Se(n).pipe(ie(i=>xi(MM(i.route.parent,r),xM(i.route,r),PM(t,i.path,e),TM(t,i.route,e))),_n(i=>i!==!0,!0))}function xM(t,n){return t!==null&&n&&n(new Fh(t)),E(!0)}function MM(t,n){return t!==null&&n&&n(new Rh(t)),E(!0)}function TM(t,n,e){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return E(!0);let i=r.map(o=>_a(()=>{let s=_s(n)??e,a=po(o,s),c=bM(a)?a.canActivate(n,t):Kt(s,()=>a(n,t));return Lr(c).pipe(_n())}));return E(i).pipe(ho())}function PM(t,n,e){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>pM(s)).filter(s=>s!==null).map(s=>_a(()=>{let a=s.guards.map(c=>{let d=_s(s.node)??e,p=po(c,d),m=CM(p)?p.canActivateChild(r,t):Kt(d,()=>p(r,t));return Lr(m).pipe(_n())});return E(a).pipe(ho())}));return E(o).pipe(ho())}function AM(t,n,e,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return E(!0);let s=o.map(a=>{let c=_s(n)??i,d=po(a,c),p=_M(d)?d.canDeactivate(t,n,e,r):Kt(c,()=>d(t,n,e,r));return Lr(p).pipe(_n())});return E(s).pipe(ho())}function kM(t,n,e,r){let i=n.canLoad;if(i===void 0||i.length===0)return E(!0);let o=i.map(s=>{let a=po(s,t),c=yM(a)?a.canLoad(n,e):Kt(t,()=>a(n,e));return Lr(c)});return E(o).pipe(ho(),cb(r))}function cb(t){return _u(De(n=>{if(typeof n!="boolean")throw dl(t,n)}),O(n=>n===!0))}function OM(t,n,e,r){let i=n.canMatch;if(!i||i.length===0)return E(!0);let o=i.map(s=>{let a=po(s,t),c=SM(a)?a.canMatch(n,e):Kt(t,()=>a(n,e));return Lr(c)});return E(o).pipe(ho(),cb(r))}var ms=class{constructor(n){this.segmentGroup=n||null}},vs=class extends Error{constructor(n){super(),this.urlTree=n}};function ro(t){return B(new ms(t))}function RM(t){return B(new F(4e3,!1))}function NM(t){return B(ob(!1,Ht.GuardRejected))}var zh=class{constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return E(r);if(i.numberOfChildren>1||!i.children[ne])return RM(`${n.redirectTo}`);i=i.children[ne]}}applyRedirectCommands(n,e,r,i,o){if(typeof e!="string"){let a=e,{queryParams:c,fragment:d,routeConfig:p,url:m,outlet:C,params:b,data:_,title:A}=i,k=Kt(o,()=>a({params:b,data:_,queryParams:c,fragment:d,routeConfig:p,url:m,outlet:C,title:A}));if(k instanceof dr)throw new vs(k);e=k}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r);if(e[0]==="/")throw new vs(s);return s}applyRedirectCreateUrlTree(n,e,r,i){let o=this.createSegmentGroup(n,e.root,r,i);return new dr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(n,e,r,i){let o=this.createSegments(n,e.segments,r,i),s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,r,i)}),new _e(o,s)}createSegments(n,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,e,r){let i=r[e.path.substring(1)];if(!i)throw new F(4001,!1);return i}findOrReturn(n,e){let r=0;for(let i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}},Wh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function FM(t,n,e,r,i){let o=lb(t,n,e);return o.matched?(r=oM(n,r),OM(r,n,e,i).pipe(O(s=>s===!0?o:x({},Wh)))):E(o)}function lb(t,n,e){if(n.path==="**")return LM(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?x({},Wh):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(n.matcher||O1)(e,t,n);if(!i)return x({},Wh);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?x(x({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function LM(t){return{matched:!0,parameters:t.length>0?$y(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Fy(t,n,e,r){return e.length>0&&UM(t,e,r)?{segmentGroup:new _e(n,jM(r,new _e(e,t.children))),slicedSegments:[]}:e.length===0&&BM(t,e,r)?{segmentGroup:new _e(t.segments,VM(t,e,r,t.children)),slicedSegments:e}:{segmentGroup:new _e(t.segments,t.children),slicedSegments:e}}function VM(t,n,e,r){let i={};for(let o of e)if(gl(t,n,o)&&!r[Cn(o)]){let s=new _e([],{});i[Cn(o)]=s}return x(x({},r),i)}function jM(t,n){let e={};e[ne]=n;for(let r of t)if(r.path===""&&Cn(r)!==ne){let i=new _e([],{});e[Cn(r)]=i}return e}function UM(t,n,e){return e.some(r=>gl(t,n,r)&&Cn(r)!==ne)}function BM(t,n,e){return e.some(r=>gl(t,n,r))}function gl(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function $M(t,n,e){return n.length===0&&!t.children[e]}var Gh=class{};function HM(t,n,e,r,i,o,s="emptyOnly"){return new qh(t,n,e,r,i,s,o).recognize()}var zM=31,qh=class{constructor(n,e,r,i,o,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new zh(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new F(4002,`'${n.segmentGroup}'`)}recognize(){let n=Fy(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(O(({children:e,rootSnapshot:r})=>{let i=new $t(r,e),o=new ul("",i),s=J1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let e=new so([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,ne,e).pipe(O(r=>({children:r,rootSnapshot:e})),we(r=>{if(r instanceof vs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ms?this.noMatchError(r):r}))}processSegmentGroup(n,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,e,r,o):this.processSegment(n,e,r,r.segments,i,!0,o).pipe(O(s=>s instanceof $t?[s]:[]))}processChildren(n,e,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Se(o).pipe(ie(s=>{let a=r.children[s],c=sM(e,s);return this.processSegmentGroup(n,c,a,s,i)}),Au((s,a)=>(s.push(...a),s)),mr(null),Pu(),Ee(s=>{if(s===null)return ro(r);let a=ub(s);return WM(a),E(a)}))}processSegment(n,e,r,i,o,s,a){return Se(e).pipe(ie(c=>this.processSegmentAgainstRoute(c._injector??n,e,c,r,i,o,s,a).pipe(we(d=>{if(d instanceof ms)return E(null);throw d}))),_n(c=>!!c),we(c=>{if(ab(c))return $M(r,i,o)?E(new Gh):ro(r);throw c}))}processSegmentAgainstRoute(n,e,r,i,o,s,a,c){return Cn(r)!==s&&(s===ne||!gl(i,o,r))?ro(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,o,s,c):ro(i)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,o,s,a){let{matched:c,parameters:d,consumedSegments:p,positionalParamSegments:m,remainingSegments:C}=lb(e,i,o);if(!c)return ro(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>zM&&(this.allowRedirects=!1));let b=new so(o,d,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Ly(i),Cn(i),i.component??i._loadedComponent??null,i,Vy(i)),_=ll(b,a,this.paramsInheritanceStrategy);b.params=Object.freeze(_.params),b.data=Object.freeze(_.data);let A=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,m,b,n);return this.applyRedirects.lineralizeSegments(i,A).pipe(Ee(k=>this.processSegment(n,r,e,k.concat(C),s,!1,a)))}matchSegmentAgainstRoute(n,e,r,i,o,s){let a=FM(e,r,i,n,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(ue(c=>c.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(ue(({routes:d})=>{let p=r._loadedInjector??n,{parameters:m,consumedSegments:C,remainingSegments:b}=c,_=new so(C,m,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Ly(r),Cn(r),r.component??r._loadedComponent??null,r,Vy(r)),A=ll(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(A.params),_.data=Object.freeze(A.data);let{segmentGroup:k,slicedSegments:$}=Fy(e,C,b,d);if($.length===0&&k.hasChildren())return this.processChildren(p,d,k,_).pipe(O(U=>new $t(_,U)));if(d.length===0&&$.length===0)return E(new $t(_,[]));let fe=Cn(r)===o;return this.processSegment(p,d,k,$,fe?ne:o,!0,_).pipe(O(U=>new $t(_,U instanceof $t?[U]:[])))}))):ro(e)))}getChildConfig(n,e,r){return e.children?E({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?E({routes:e._loadedRoutes,injector:e._loadedInjector}):kM(n,e,r,this.urlSerializer).pipe(Ee(i=>i?this.configLoader.loadChildren(n,e).pipe(De(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):NM(e))):E({routes:[],injector:n})}};function WM(t){t.sort((n,e)=>n.value.outlet===ne?-1:e.value.outlet===ne?1:n.value.outlet.localeCompare(e.value.outlet))}function GM(t){let n=t.value.routeConfig;return n&&n.path===""}function ub(t){let n=[],e=new Set;for(let r of t){if(!GM(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):n.push(r)}for(let r of e){let i=ub(r.children);n.push(new $t(r.value,i))}return n.filter(r=>!e.has(r))}function Ly(t){return t.data||{}}function Vy(t){return t.resolve||{}}function qM(t,n,e,r,i,o){return Ee(s=>HM(t,n,e,r,s.extractedUrl,i,o).pipe(O(({state:a,tree:c})=>W(x({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function KM(t,n){return Ee(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return E(e);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let d of db(c))s.add(d);let a=0;return Se(s).pipe(ie(c=>o.has(c)?ZM(c,r,t,n):(c.data=ll(c,c.parent,t).resolve,E(void 0))),De(()=>a++),Mi(1),Ee(c=>a===s.size?E(e):Nt))})}function db(t){let n=t.children.map(e=>db(e)).flat();return[t,...n]}function ZM(t,n,e,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!rb(i)&&(o[bs]=i.title),QM(o,t,n,r).pipe(O(s=>(t._resolvedData=s,t.data=ll(t,t.parent,e).resolve,null)))}function QM(t,n,e,r){let i=Dh(t);if(i.length===0)return E({});let o={};return Se(i).pipe(Ee(s=>YM(t[s],n,e,r).pipe(_n(),De(a=>{if(a instanceof gs)throw dl(new lo,a);o[s]=a}))),Mi(1),Mu(o),we(s=>ab(s)?Nt:B(s)))}function YM(t,n,e,r){let i=_s(n)??r,o=po(t,i),s=o.resolve?o.resolve(n,e):Kt(i,()=>o(n,e));return Lr(s)}function Sh(t){return ue(n=>{let e=t(n);return e?Se(e).pipe(O(()=>n)):E(n)})}var fb=(()=>{class t{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ne);return r}getResolvedTitleForRoute(e){return e.data[bs]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:()=>g(JM),providedIn:"root"})}}return t})(),JM=(()=>{class t extends fb{constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(N(Ty))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Is=new j("",{providedIn:"root",factory:()=>({})}),XM=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Q({type:t,selectors:[["ng-component"]],standalone:!0,features:[J],decls:1,vars:0,template:function(r,i){r&1&&P(0,"router-outlet")},dependencies:[ws],encapsulation:2})}}return t})();function Qh(t){let n=t.children&&t.children.map(Qh),e=n?W(x({},t),{children:n}):x({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==ne&&(e.component=XM),e}var ys=new j(""),Yh=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g(Ac)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return E(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=Lr(e.loadComponent()).pipe(O(hb),De(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Zn(()=>{this.componentLoaders.delete(e)})),i=new Di(r,()=>new Pe).pipe(wi());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return E({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=eT(r,this.compiler,e,this.onLoadEndListener).pipe(Zn(()=>{this.childrenLoaders.delete(r)})),s=new Di(o,()=>new Pe).pipe(wi());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function eT(t,n,e,r){return Lr(t.loadChildren()).pipe(O(hb),Ee(i=>i instanceof jo||Array.isArray(i)?E(i):Se(n.compileModuleAsync(i))),O(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(ys,[],{optional:!0,self:!0}).flat()),{routes:s.map(Qh),injector:o}}))}function tT(t){return t&&typeof t=="object"&&"default"in t}function hb(t){return tT(t)?t.default:t}var Jh=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:()=>g(nT),providedIn:"root"})}}return t})(),nT=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),pb=new j(""),gb=new j("");function rT(t,n,e){let r=t.get(gb),i=t.get(be);return t.get(xe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),a=i.startViewTransition(()=>(o(),iT(t))),{onViewTransitionCreated:c}=r;return c&&Kt(t,()=>c({transition:a,from:n,to:e})),s})}function iT(t){return new Promise(n=>{Of({read:()=>setTimeout(n)},{injector:t})})}var oT=new j(""),Xh=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Pe,this.transitionAbortSubject=new Pe,this.configLoader=g(Yh),this.environmentInjector=g(bt),this.urlSerializer=g(Cs),this.rootContexts=g(Ss),this.location=g(to),this.inputBindingEnabled=g(pl,{optional:!0})!==null,this.titleStrategy=g(fb),this.options=g(Is,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=g(Jh),this.createViewTransition=g(pb,{optional:!0}),this.navigationErrorHandler=g(oT,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>E(void 0),this.rootComponentType=null;let e=i=>this.events.next(new kh(i)),r=i=>this.events.next(new Oh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(W(x(x({},this.transitions.value),e),{id:r}))}setupNavigations(e,r,i){return this.transitions=new Ce({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ls,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(lt(o=>o.id!==0),O(o=>W(x({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ue(o=>{let s=!1,a=!1;return E(o).pipe(ue(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ht.SupersededByNewNavigation),Nt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?W(x({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=c.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!d&&p!=="reload"){let m="";return this.events.next(new Fr(c.id,this.urlSerializer.serialize(c.rawUrl),m,il.IgnoredSameUrlNavigation)),c.resolve(!1),Nt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return E(c).pipe(ue(m=>{let C=this.transitions?.getValue();return this.events.next(new uo(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),C!==this.transitions?.getValue()?Nt:Promise.resolve(m)}),qM(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),De(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=W(x({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let C=new ol(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(C)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:m,extractedUrl:C,source:b,restoredState:_,extras:A}=c,k=new uo(m,this.urlSerializer.serialize(C),b,_);this.events.next(k);let $=tb(this.rootComponentType).snapshot;return this.currentTransition=o=W(x({},c),{targetSnapshot:$,urlAfterRedirects:C,extras:W(x({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=C,E(o)}else{let m="";return this.events.next(new Fr(c.id,this.urlSerializer.serialize(c.extractedUrl),m,il.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Nt}}),De(c=>{let d=new Mh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),O(c=>(this.currentTransition=o=W(x({},c),{guards:hM(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),DM(this.environmentInjector,c=>this.events.next(c)),De(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw dl(this.urlSerializer,c.guardsResult);let d=new Th(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),lt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Ht.GuardRejected),!1)),Sh(c=>{if(c.guards.canActivateChecks.length)return E(c).pipe(De(d=>{let p=new Ph(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),ue(d=>{let p=!1;return E(d).pipe(KM(this.paramsInheritanceStrategy,this.environmentInjector),De({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",Ht.NoDataFromResolver)}}))}),De(d=>{let p=new Ah(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),Sh(c=>{let d=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(De(C=>{p.component=C}),O(()=>{})));for(let C of p.children)m.push(...d(C));return m};return Ao(d(c.targetSnapshot.root)).pipe(mr(null),Dt(1))}),Sh(()=>this.afterPreactivation()),ue(()=>{let{currentSnapshot:c,targetSnapshot:d}=o,p=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return p?Se(p).pipe(O(()=>o)):E(o)}),O(c=>{let d=cM(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=W(x({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),De(()=>{this.events.next(new hs)}),fM(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Dt(1),De({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Ou(this.transitionAbortSubject.pipe(De(c=>{throw c}))),Zn(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Ht.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),we(c=>{if(a=!0,sb(c))this.events.next(new ur(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),dM(c)?this.events.next(new fo(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let d=new fs(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let p=Kt(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(p instanceof gs){let{message:m,cancellationCode:C}=dl(this.urlSerializer,p);this.events.next(new ur(o.id,this.urlSerializer.serialize(o.extractedUrl),m,C)),this.events.next(new fo(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(d);let m=e.errorHandler(c);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return Nt}))}))}cancelNavigationTransition(e,r,i){let o=new ur(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function sT(t){return t!==ls}var aT=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:()=>g(cT),providedIn:"root"})}}return t})(),Kh=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},cT=(()=>{class t extends Kh{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Qt(t)))(i||t)}})()}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),mb=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:()=>g(lT),providedIn:"root"})}}return t})(),lT=(()=>{class t extends mb{constructor(){super(...arguments),this.location=g(to),this.urlSerializer=g(Cs),this.options=g(Is,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=g(Jh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new dr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=tb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof uo)this.stateMemento=this.createStateMemento();else if(e instanceof Fr)this.rawUrlTree=r.initialUrl;else if(e instanceof ol){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else e instanceof hs?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):e instanceof ur&&(e.code===Ht.GuardRejected||e.code===Ht.NoDataFromResolver)?this.restoreHistory(r):e instanceof fs?this.restoreHistory(r,!0):e instanceof sn&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){let i=e instanceof dr?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=x(x({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=x(x({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Qt(t)))(i||t)}})()}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),as=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(as||{});function vb(t,n){t.events.pipe(lt(e=>e instanceof sn||e instanceof ur||e instanceof fs||e instanceof Fr),O(e=>e instanceof sn||e instanceof Fr?as.COMPLETE:(e instanceof ur?e.code===Ht.Redirect||e.code===Ht.SupersededByNewNavigation:!1)?as.REDIRECTING:as.FAILED),lt(e=>e!==as.REDIRECTING),Dt(1)).subscribe(()=>{n()})}function uT(t){throw t}var dT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ae=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=g(Pc),this.stateManager=g(mb),this.options=g(Is,{optional:!0})||{},this.pendingTasks=g(Tr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=g(Xh),this.urlSerializer=g(Cs),this.location=g(to),this.urlHandlingStrategy=g(Jh),this._events=new Pe,this.errorHandler=this.options.errorHandler||uT,this.navigated=!1,this.routeReuseStrategy=g(aT),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=g(ys,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!g(pl,{optional:!0}),this.eventsSubscription=new $e,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ur&&r.code!==Ht.Redirect&&r.code!==Ht.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof sn)this.navigated=!0;else if(r instanceof fo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=x({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||sT(i.source)},s);this.scheduleNavigation(a,ls,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}pT(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ls,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=x({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Qh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:s,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=x(x({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let C=i?i.snapshot:this.routerState.snapshot.root;m=Yy(C)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),m=this.currentUrlTree.root}return Jy(m,e,p,d??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=fi(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ls,null,r)}navigate(e,r={skipLocationChange:!1}){return hT(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=x({},dT):r===!1?i=x({},fT):i=r,fi(e))return Ay(this.currentUrlTree,e,i);let o=this.parseUrl(e);return Ay(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,d;s?(a=s.resolve,c=s.reject,d=s.promise):d=new Promise((m,C)=>{a=m,c=C});let p=this.pendingTasks.add();return vb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function hT(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new F(4008,!1)}function pT(t){return!(t instanceof hs)&&!(t instanceof fo)}var Fn=(()=>{class t{constructor(e,r,i,o,s,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Pe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=e.events.subscribe(d=>{d instanceof sn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(fi(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:Pv(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:fi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(I(ae),I(ot),df("tabindex"),I(mn),I(Yt),I(lr))}}static{this.\u0275dir=pe({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&D("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ar("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ir],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ir],replaceUrl:[2,"replaceUrl","replaceUrl",ir],routerLink:"routerLink"},standalone:!0,features:[Pf,pn]})}}return t})();var hl=class{};var gT=(()=>{class t{constructor(e,r,i,o,s){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(lt(e=>e instanceof sn),ie(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Mc(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Se(i).pipe(Ei())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(e,r):i=E(null);let o=i.pipe(Ee(s=>s===null?E(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Se([o,s]).pipe(Ei())}else return o})}static{this.\u0275fac=function(r){return new(r||t)(N(ae),N(Ac),N(bt),N(hl),N(Yh))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),yb=new j(""),mT=(()=>{class t{constructor(e,r,i,o,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof uo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof sn?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Fr&&e.code===il.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof sl&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new sl(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){Hv()}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})();function bb(t,...n){return Er([{provide:ys,multi:!0,useValue:t},[],{provide:ot,useFactory:Cb,deps:[ae]},{provide:Qo,multi:!0,useFactory:_b},n.map(e=>e.\u0275providers)])}function Cb(t){return t.routerState.root}function Es(t,n){return{\u0275kind:t,\u0275providers:n}}function _b(){let t=g(qt);return n=>{let e=t.get(kr);if(n!==e.components[0])return;let r=t.get(ae),i=t.get(Sb);t.get(ep)===1&&r.initialNavigation(),t.get(wb,null,re.Optional)?.setUpPreloading(),t.get(yb,null,re.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Sb=new j("",{factory:()=>new Pe}),ep=new j("",{providedIn:"root",factory:()=>1});function vT(){return Es(2,[{provide:ep,useValue:0},{provide:Zo,multi:!0,deps:[qt],useFactory:n=>{let e=n.get(K0,Promise.resolve());return()=>e.then(()=>new Promise(r=>{let i=n.get(ae),o=n.get(Sb);vb(i,()=>{r(!0)}),n.get(Xh).afterPreactivation=()=>(r(!0),o.closed?E(void 0):o),i.initialNavigation()}))}}])}function yT(){return Es(3,[{provide:Zo,multi:!0,useFactory:()=>{let n=g(ae);return()=>{n.setUpLocationChangeListener()}}},{provide:ep,useValue:2}])}var wb=new j("");function bT(t){return Es(0,[{provide:wb,useExisting:gT},{provide:hl,useExisting:t}])}function CT(){return Es(8,[Ny,{provide:pl,useExisting:Ny}])}function _T(t){let n=[{provide:pb,useValue:rT},{provide:gb,useValue:x({skipNextTransition:!!t?.skipInitialTransition},t)}];return Es(9,n)}var jy=new j("ROUTER_FORROOT_GUARD"),ST=[to,{provide:Cs,useClass:lo},ae,Ss,{provide:ot,useFactory:Cb,deps:[ae]},Yh,[]],Mt=(()=>{class t{constructor(e){}static forRoot(e,r){return{ngModule:t,providers:[ST,[],{provide:ys,multi:!0,useValue:e},{provide:jy,useFactory:ET,deps:[[ae,new $o,new cc]]},{provide:Is,useValue:r||{}},r?.useHash?DT():IT(),wT(),r?.preloadingStrategy?bT(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?xT(r):[],r?.bindToComponentInputs?CT().\u0275providers:[],r?.enableViewTransitions?_T().\u0275providers:[],MT()]}}static forChild(e){return{ngModule:t,providers:[{provide:ys,multi:!0,useValue:e}]}}static{this.\u0275fac=function(r){return new(r||t)(N(jy,8))}}static{this.\u0275mod=Vt({type:t})}static{this.\u0275inj=Lt({})}}return t})();function wT(){return{provide:yb,useFactory:()=>{let t=g(ly),n=g(xe),e=g(Is),r=g(Xh),i=g(Cs);return e.scrollOffset&&t.setOffset(e.scrollOffset),new mT(i,r,t,n,e)}}}function DT(){return{provide:lr,useClass:Q0}}function IT(){return{provide:lr,useClass:Xf}}function ET(t){return"guarded"}function xT(t){return[t.initialNavigation==="disabled"?yT().\u0275providers:[],t.initialNavigation==="enabledBlocking"?vT().\u0275providers:[]]}var Uy=new j("");function MT(){return[{provide:Uy,useFactory:_b},{provide:Qo,multi:!0,useExisting:Uy}]}function TT(t,n,e){var r;if(e===void 0&&(e={}),!n.codes){n.codes={};for(var i=0;i<n.chars.length;++i)n.codes[n.chars[i]]=i}if(!e.loose&&t.length*n.bits&7)throw new SyntaxError("Invalid padding");for(var o=t.length;t[o-1]==="=";)if(--o,!e.loose&&!((t.length-o)*n.bits&7))throw new SyntaxError("Invalid padding");for(var s=new((r=e.out)!=null?r:Uint8Array)(o*n.bits/8|0),a=0,c=0,d=0,p=0;p<o;++p){var m=n.codes[t[p]];if(m===void 0)throw new SyntaxError("Invalid character "+t[p]);c=c<<n.bits|m,a+=n.bits,a>=8&&(a-=8,s[d++]=255&c>>a)}if(a>=n.bits||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s}function PT(t,n,e){e===void 0&&(e={});for(var r=e,i=r.pad,o=i===void 0?!0:i,s=(1<<n.bits)-1,a="",c=0,d=0,p=0;p<t.length;++p)for(d=d<<8|255&t[p],c+=8;c>n.bits;)c-=n.bits,a+=n.chars[s&d>>c];if(c&&(a+=n.chars[s&d<<n.bits-c]),o)for(;a.length*n.bits&7;)a+="=";return a}var Db={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6};var Ib={parse:function(n,e){return TT(n,Db,e)},stringify:function(n,e){return PT(n,Db,e)}};function ml(t,n){let e=!n?.manualCleanup;e&&!n?.injector&&tf(ml);let r=e?n?.injector?.get(Qi)??g(Qi):null,i=AT(n?.equal),o;n?.requireSync?o=nr({kind:0},{equal:i}):o=nr({kind:1,value:n?.initialValue},{equal:i});let s=t.subscribe({next:a=>o.set({kind:1,value:a}),error:a=>{if(n?.rejectErrors)throw a;o.set({kind:2,error:a})}});if(n?.requireSync&&o().kind===0)throw new F(601,!1);return r?.onDestroy(s.unsubscribe.bind(s)),Rr(()=>{let a=o();switch(a.kind){case 1:return a.value;case 2:throw a.error;case 0:throw new F(601,!1)}},{equal:n?.equal})}function AT(t=Object.is){return(n,e)=>n.kind===1&&e.kind===1&&t(n.value,e.value)}var vl=class{},np=class{constructor(n){this.passedConfigs=n}loadConfigs(){return Array.isArray(this.passedConfigs)?E(this.passedConfigs):E([this.passedConfigs])}};function kT(t){if(!t?.config)throw new Error("No config provided!");return new np(t.config)}var Eb=new j("PASSED_CONFIG"),Ab=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),OT=(()=>{class t{logError(e,...r){console.error(e,...r)}logWarning(e,...r){console.warn(e,...r)}logDebug(e,...r){console.debug(e,...r)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xs=function(t){return t[t.None=0]="None",t[t.Debug=1]="Debug",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t}(xs||{}),le=(()=>{class t{constructor(){this.abstractLoggerService=g(Ab)}logError(e,r,...i){if(this.loggingIsTurnedOff(e))return;let{configId:o}=e,s=this.isObject(r)?JSON.stringify(r):r;i&&i.length?this.abstractLoggerService.logError(`[ERROR] ${o} - ${s}`,...i):this.abstractLoggerService.logError(`[ERROR] ${o} - ${s}`)}logWarning(e,r,...i){if(!this.logLevelIsSet(e)||this.loggingIsTurnedOff(e)||!this.currentLogLevelIsEqualOrSmallerThan(e,xs.Warn))return;let{configId:o}=e,s=this.isObject(r)?JSON.stringify(r):r;i&&i.length?this.abstractLoggerService.logWarning(`[WARN] ${o} - ${s}`,...i):this.abstractLoggerService.logWarning(`[WARN] ${o} - ${s}`)}logDebug(e,r,...i){if(!e||!this.logLevelIsSet(e)||this.loggingIsTurnedOff(e)||!this.currentLogLevelIsEqualOrSmallerThan(e,xs.Debug))return;let{configId:o}=e,s=this.isObject(r)?JSON.stringify(r):r;i&&i.length?this.abstractLoggerService.logDebug(`[DEBUG] ${o} - ${s}`,...i):this.abstractLoggerService.logDebug(`[DEBUG] ${o} - ${s}`)}currentLogLevelIsEqualOrSmallerThan(e,r){let{logLevel:i}=e||{};return i?i<=r:!1}logLevelIsSet(e){let{logLevel:r}=e||{};return r===null?!1:r!==void 0}loggingIsTurnedOff(e){let{logLevel:r}=e||{};return r===xs.None}isObject(e){return Object.prototype.toString.call(e)==="[object Object]"}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Pt=function(t){return t[t.ConfigLoaded=0]="ConfigLoaded",t[t.CheckingAuth=1]="CheckingAuth",t[t.CheckingAuthFinished=2]="CheckingAuthFinished",t[t.CheckingAuthFinishedWithError=3]="CheckingAuthFinishedWithError",t[t.ConfigLoadingFailed=4]="ConfigLoadingFailed",t[t.CheckSessionReceived=5]="CheckSessionReceived",t[t.UserDataChanged=6]="UserDataChanged",t[t.NewAuthenticationResult=7]="NewAuthenticationResult",t[t.TokenExpired=8]="TokenExpired",t[t.IdTokenExpired=9]="IdTokenExpired",t[t.SilentRenewStarted=10]="SilentRenewStarted",t[t.SilentRenewFailed=11]="SilentRenewFailed",t}(Pt||{}),hi=(()=>{class t{constructor(){this.notify=new To(1)}fireEvent(e,r){this.notify.next({type:e,value:r})}registerForEvents(){return this.notify.asObservable()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),kb=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),RT=(()=>{class t{constructor(){this.loggerService=g(le),this.abstractSecurityStorage=g(kb)}read(e,r){let{configId:i}=r;if(!i)return this.loggerService.logDebug(r,`Wanted to read '${e}' but configId was '${i}'`),null;if(!this.hasStorage())return this.loggerService.logDebug(r,`Wanted to read '${e}' but Storage was undefined`),null;let o=this.abstractSecurityStorage.read(i);return o?JSON.parse(o):null}write(e,r){let{configId:i}=r;return i?this.hasStorage()?(e=e||null,this.abstractSecurityStorage.write(i,JSON.stringify(e)),!0):(this.loggerService.logDebug(r,"Wanted to write but Storage was falsy"),!1):(this.loggerService.logDebug(r,`Wanted to write but configId was '${i}'`),!1)}remove(e,r){return this.hasStorage()?(this.abstractSecurityStorage.remove(e),!0):(this.loggerService.logDebug(r,`Wanted to remove '${e}' but Storage was falsy`),!1)}clear(e){return this.hasStorage()?(this.abstractSecurityStorage.clear(),!0):(this.loggerService.logDebug(e,"Wanted to clear storage but Storage was falsy"),!1)}hasStorage(){return typeof Storage<"u"}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Je=(()=>{class t{constructor(){this.browserStorageService=g(RT)}read(e,r){return(this.browserStorageService.read(e,r)||{})[e]}write(e,r,i){let o=this.browserStorageService.read(e,i)||{};return o[e]=r,this.browserStorageService.write(o,i)}remove(e,r){let i=this.browserStorageService.read(e,r)||{};delete i[e],this.browserStorageService.write(i,r)}clear(e){this.browserStorageService.clear(e)}resetStorageFlowData(e){this.remove("session_state",e),this.remove("storageSilentRenewRunning",e),this.remove("storageCodeFlowInProgress",e),this.remove("codeVerifier",e),this.remove("userData",e),this.remove("storageCustomParamsAuthRequest",e),this.remove("access_token_expires_at",e),this.remove("storageCustomParamsRefresh",e),this.remove("storageCustomParamsEndSession",e),this.remove("reusable_refresh_token",e)}resetAuthStateInStorage(e){this.remove("authzData",e),this.remove("reusable_refresh_token",e),this.remove("authnResult",e)}getAccessToken(e){return this.read("authzData",e)}getIdToken(e){return this.read("authnResult",e)?.id_token}getRefreshToken(e){let r=this.read("authnResult",e)?.refresh_token;return!r&&e.allowUnsafeReuseRefreshToken?this.read("reusable_refresh_token",e):r}getAuthenticationResult(e){return this.read("authnResult",e)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ob=(()=>{class t{extractJwk(e,r,i=!0){if(e.length===0)throw NT;let o=e.filter(s=>r?.kid?s.kid===r.kid:!0).filter(s=>r?.use?s.use===r.use:!0).filter(s=>r?.kty?s.kty===r.kty:!0);if(o.length===0&&i)throw FT;if(o.length>1&&r==null)throw LT;return o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ip(t){return Ob.name+": "+t}var NT={name:ip("InvalidArgumentError"),message:"Array of keys was empty. Unable to extract"},FT={name:ip("NoMatchingKeysError"),message:"No key found matching the spec"},LT={name:ip("SeveralMatchingKeysError"),message:"More than one key found. Please use spec to filter"},xb=3,bl=(()=>{class t{constructor(){this.loggerService=g(le),this.document=g(be)}getTokenExpirationDate(e){if(!Object.prototype.hasOwnProperty.call(e,"exp"))return new Date(new Date().toUTCString());let r=new Date(0);return r.setUTCSeconds(e.exp),r}getSigningInputFromToken(e,r,i){if(!this.tokenIsValid(e,i))return"";let o=this.getHeaderFromToken(e,r,i),s=this.getPayloadFromToken(e,r,i);return[o,s].join(".")}getHeaderFromToken(e,r,i){return this.tokenIsValid(e,i)?this.getPartOfToken(e,0,r):{}}getPayloadFromToken(e,r,i){return i?this.tokenIsValid(e,i)?this.getPartOfToken(e,1,r):{}:{}}getSignatureFromToken(e,r,i){return this.tokenIsValid(e,i)?this.getPartOfToken(e,2,r):{}}getPartOfToken(e,r,i){let o=this.extractPartOfToken(e,r);if(i)return o;let s=this.urlBase64Decode(o);return JSON.parse(s)}urlBase64Decode(e){let r=e.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw Error("Illegal base64url string!")}let i=typeof this.document.defaultView<"u"?this.document.defaultView?.atob(r):Buffer.from(r,"base64").toString("binary");if(!i)return"";try{return decodeURIComponent(i.split("").map(o=>"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)).join(""))}catch{return i}}tokenIsValid(e,r){return e?e.includes(".")?e.split(".").length!==xb?(this.loggerService.logError(r,`token '${e}' is not valid --> token has to have exactly ${xb-1} dots`),!1):!0:(this.loggerService.logError(r,`token '${e}' is not valid --> no dots included`),!1):(this.loggerService.logError(r,`token '${e}' is not valid --> token falsy`),!1)}extractPartOfToken(e,r){return e.split(".")[r]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),op=(()=>{class t{constructor(){this.document=g(be)}getCrypto(){return this.document.defaultView?.crypto||this.document.defaultView?.msCrypto}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),VT=(()=>{class t{constructor(){this.cryptoService=g(op)}importVerificationKey(e,r){return this.cryptoService.getCrypto().subtle.importKey("jwk",e,r,!1,["verify"])}verifyKey(e,r,i,o){return this.cryptoService.getCrypto().subtle.verify(e,r,i,new TextEncoder().encode(o))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Rb=(()=>{class t{constructor(){this.cryptoService=g(op)}generateCodeChallenge(e){return this.calcHash(e).pipe(O(r=>this.base64UrlEncode(r)))}generateAtHash(e,r){return this.calcHash(e,r).pipe(O(i=>{let o=i.substr(0,i.length/2);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}))}calcHash(e,r="SHA-256"){let i=new TextEncoder().encode(e);return Se(this.cryptoService.getCrypto().subtle.digest(r,i)).pipe(O(o=>{let s=o,a=Array.from(new Uint8Array(s));return this.toHashString(a)}))}toHashString(e){let r="";for(let i of e)r+=String.fromCharCode(i);return r}base64UrlEncode(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function jT(t){switch(t.charAt(0)){case"R":return{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"};case"E":return t.includes("256")?{name:"ECDSA",hash:"SHA-256"}:t.includes("384")?{name:"ECDSA",hash:"SHA-384"}:null;default:return null}}function UT(t){switch(t.charAt(0)){case"R":return"RSA";case"E":return"EC";default:throw new Error("Cannot infer kty from alg: "+t)}}function BT(t){switch(t.charAt(0)){case"R":return t.includes("256")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"}:t.includes("384")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-384"}:t.includes("512")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-512"}:null;case"E":return t.includes("256")?{name:"ECDSA",namedCurve:"P-256"}:t.includes("384")?{name:"ECDSA",namedCurve:"P-384"}:null;default:return null}}var Cl=(()=>{class t{constructor(){this.keyAlgorithms=["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","PS256","PS384","PS512"],this.tokenHelperService=g(bl),this.loggerService=g(le),this.jwkExtractor=g(Ob),this.jwkWindowCryptoService=g(VT),this.jwtWindowCryptoService=g(Rb)}static{this.refreshTokenNoncePlaceholder="--RefreshToken--"}hasIdTokenExpired(e,r,i){let o=this.tokenHelperService.getPayloadFromToken(e,!1,r);return!this.validateIdTokenExpNotExpired(o,r,i)}validateIdTokenExpNotExpired(e,r,i){let o=this.tokenHelperService.getTokenExpirationDate(e);if(i=i||0,!o)return!1;let s=o.valueOf(),a=this.calculateNowWithOffset(i),c=s>a;return this.loggerService.logDebug(r,`Has idToken expired: ${!c} --> expires in ${this.millisToMinutesAndSeconds(s-a)} , ${new Date(s).toLocaleTimeString()} > ${new Date(a).toLocaleTimeString()}`),c}validateAccessTokenNotExpired(e,r,i){if(!e)return!0;i=i||0;let o=e.valueOf(),s=this.calculateNowWithOffset(i),a=o>s;return this.loggerService.logDebug(r,`Has accessToken expired: ${!a} --> expires in ${this.millisToMinutesAndSeconds(o-s)} , ${new Date(o).toLocaleTimeString()} > ${new Date(s).toLocaleTimeString()}`),a}validateRequiredIdToken(e,r){let i=!0;return Object.prototype.hasOwnProperty.call(e,"iss")||(i=!1,this.loggerService.logWarning(r,"iss is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"sub")||(i=!1,this.loggerService.logWarning(r,"sub is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"aud")||(i=!1,this.loggerService.logWarning(r,"aud is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"exp")||(i=!1,this.loggerService.logWarning(r,"exp is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"iat")||(i=!1,this.loggerService.logWarning(r,"iat is missing, this is required in the id_token")),i}validateIdTokenIatMaxOffset(e,r,i,o){if(i)return!0;if(!Object.prototype.hasOwnProperty.call(e,"iat"))return!1;let s=new Date(0);s.setUTCSeconds(e.iat),r=r||0;let c=new Date(new Date().toUTCString()).valueOf()-s.valueOf(),d=r*1e3;return this.loggerService.logDebug(o,`validate id token iat max offset ${c} < ${d}`),c>0?c<d:-c<d}validateIdTokenNonce(e,r,i,o){return!((e.nonce===void 0||i)&&r===t.refreshTokenNoncePlaceholder)&&e.nonce!==r?(this.loggerService.logDebug(o,"Validate_id_token_nonce failed, dataIdToken.nonce: "+e.nonce+" local_nonce:"+r),!1):!0}validateIdTokenIss(e,r,i){return e.iss!==r?(this.loggerService.logDebug(i,"Validate_id_token_iss failed, dataIdToken.iss: "+e.iss+" authWellKnownEndpoints issuer:"+r),!1):!0}validateIdTokenAud(e,r,i){return Array.isArray(e.aud)?e.aud.includes(r)?!0:(this.loggerService.logDebug(i,"Validate_id_token_aud array failed, dataIdToken.aud: "+e.aud+" client_id:"+r),!1):e.aud!==r?(this.loggerService.logDebug(i,"Validate_id_token_aud failed, dataIdToken.aud: "+e.aud+" client_id:"+r),!1):!0}validateIdTokenAzpExistsIfMoreThanOneAud(e){return e?!(Array.isArray(e.aud)&&e.aud.length>1&&!e.azp):!1}validateIdTokenAzpValid(e,r){return e?.azp?e.azp===r:!0}validateStateFromHashCallback(e,r,i){return e!==r?(this.loggerService.logDebug(i,"ValidateStateFromHashCallback failed, state: "+e+" local_state:"+r),!1):!0}validateSignatureIdToken(e,r,i){if(!e)return E(!0);if(!r||!r.keys)return E(!1);let o=this.tokenHelperService.getHeaderFromToken(e,!1,i);if(Object.keys(o).length===0&&o.constructor===Object)return this.loggerService.logWarning(i,"id token has no header data"),E(!1);let s=o.kid,a=o.alg,c=r.keys,d,p;if(!this.keyAlgorithms.includes(a))return this.loggerService.logWarning(i,"alg not supported",a),E(!1);let m=UT(a),C="sig";try{d=s?this.jwkExtractor.extractJwk(c,{kid:s,kty:m,use:C},!1):this.jwkExtractor.extractJwk(c,{kty:m,use:C},!1),d.length===0&&(d=s?this.jwkExtractor.extractJwk(c,{kid:s,kty:m}):this.jwkExtractor.extractJwk(c,{kty:m})),p=d[0]}catch(k){return this.loggerService.logError(i,k),E(!1)}let b=BT(a),_=this.tokenHelperService.getSigningInputFromToken(e,!0,i),A=this.tokenHelperService.getSignatureFromToken(e,!0,i);return Se(this.jwkWindowCryptoService.importVerificationKey(p,b)).pipe(Ee(k=>{let $=Ib.parse(A,{loose:!0}),fe=jT(a);return Se(this.jwkWindowCryptoService.verifyKey(fe,k,$,_))}),De(k=>{k||this.loggerService.logWarning(i,"incorrect Signature, validation failed for id_token")}))}validateIdTokenAtHash(e,r,i,o){this.loggerService.logDebug(o,"at_hash from the server:"+r);let s="SHA-256";return i.includes("384")?s="SHA-384":i.includes("512")&&(s="SHA-512"),this.jwtWindowCryptoService.generateAtHash(""+e,s).pipe(Ee(a=>(this.loggerService.logDebug(o,"at_hash client validation not decoded:"+a),a===r?E(!0):this.jwtWindowCryptoService.generateAtHash(""+decodeURIComponent(e),s).pipe(O(c=>(this.loggerService.logDebug(o,"-gen access--"+a),c===r))))))}millisToMinutesAndSeconds(e){let r=Math.floor(e/6e4),i=(e%6e4/1e3).toFixed(0);return r+":"+(+i<10?"0":"")+i}calculateNowWithOffset(e){return new Date(new Date().toUTCString()).valueOf()+e*1e3}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$T={isAuthenticated:!1,allConfigsAuthenticated:[]},Ln=(()=>{class t{constructor(){this.storagePersistenceService=g(Je),this.loggerService=g(le),this.publicEventsService=g(hi),this.tokenValidationService=g(Cl),this.authenticatedInternal$=new Ce($T)}get authenticated$(){return this.authenticatedInternal$.asObservable().pipe(Tu())}setAuthenticatedAndFireEvent(e){let r=this.composeAuthenticatedResult(e);this.authenticatedInternal$.next(r)}setUnauthenticatedAndFireEvent(e,r){this.storagePersistenceService.resetAuthStateInStorage(e);let i=this.composeUnAuthenticatedResult(r);this.authenticatedInternal$.next(i)}updateAndPublishAuthState(e){this.publicEventsService.fireEvent(Pt.NewAuthenticationResult,e)}setAuthorizationData(e,r,i,o){this.loggerService.logDebug(i,`storing the accessToken '${e}'`),this.storagePersistenceService.write("authzData",e,i),this.persistAccessTokenExpirationTime(r,i),this.setAuthenticatedAndFireEvent(o)}getAccessToken(e){if(!e||!this.isAuthenticated(e))return"";let r=this.storagePersistenceService.getAccessToken(e);return this.decodeURIComponentSafely(r)}getIdToken(e){if(!e||!this.isAuthenticated(e))return"";let r=this.storagePersistenceService.getIdToken(e);return this.decodeURIComponentSafely(r)}getRefreshToken(e){if(!e||!this.isAuthenticated(e))return"";let r=this.storagePersistenceService.getRefreshToken(e);return this.decodeURIComponentSafely(r)}getAuthenticationResult(e){return!e||!this.isAuthenticated(e)?null:this.storagePersistenceService.getAuthenticationResult(e)}areAuthStorageTokensValid(e){return!e||!this.isAuthenticated(e)?!1:this.hasIdTokenExpiredAndRenewCheckIsEnabled(e)?(this.loggerService.logDebug(e,"persisted idToken is expired"),!1):this.hasAccessTokenExpiredIfExpiryExists(e)?(this.loggerService.logDebug(e,"persisted accessToken is expired"),!1):(this.loggerService.logDebug(e,"persisted idToken and accessToken are valid"),!0)}hasIdTokenExpiredAndRenewCheckIsEnabled(e){let{renewTimeBeforeTokenExpiresInSeconds:r,triggerRefreshWhenIdTokenExpired:i,disableIdTokenValidation:o}=e;if(!i||o)return!1;let s=this.storagePersistenceService.getIdToken(e),a=this.tokenValidationService.hasIdTokenExpired(s,e,r);return a&&this.publicEventsService.fireEvent(Pt.IdTokenExpired,a),a}hasAccessTokenExpiredIfExpiryExists(e){let{renewTimeBeforeTokenExpiresInSeconds:r}=e,i=this.storagePersistenceService.read("access_token_expires_at",e),s=!this.tokenValidationService.validateAccessTokenNotExpired(i,e,r);return s&&this.publicEventsService.fireEvent(Pt.TokenExpired,s),s}isAuthenticated(e){if(!e)return B(()=>new Error("Please provide a configuration before setting up the module")),!1;let r=!!this.storagePersistenceService.getAccessToken(e),i=!!this.storagePersistenceService.getIdToken(e);return r&&i}decodeURIComponentSafely(e){return e?decodeURIComponent(e):""}persistAccessTokenExpirationTime(e,r){if(e?.expires_in){let i=new Date(new Date().toUTCString()).valueOf()+e.expires_in*1e3;this.storagePersistenceService.write("access_token_expires_at",i,r)}}composeAuthenticatedResult(e){if(e.length===1){let{configId:r}=e[0];return{isAuthenticated:!0,allConfigsAuthenticated:[{configId:r??"",isAuthenticated:!0}]}}return this.checkAllConfigsIfTheyAreAuthenticated(e)}composeUnAuthenticatedResult(e){if(e.length===1){let{configId:r}=e[0];return{isAuthenticated:!1,allConfigsAuthenticated:[{configId:r??"",isAuthenticated:!1}]}}return this.checkAllConfigsIfTheyAreAuthenticated(e)}checkAllConfigsIfTheyAreAuthenticated(e){let r=e.map(o=>({configId:o.configId??"",isAuthenticated:this.isAuthenticated(o)})),i=r.every(o=>!!o.isAuthenticated);return{allConfigsAuthenticated:r,isAuthenticated:i}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),tp="redirect",HT=(()=>{class t{constructor(){this.storageService=g(Je),this.router=g(ae)}checkSavedRedirectRouteAndNavigate(e){if(!e)return;let r=this.getStoredRedirectRoute(e);r!=null&&(this.deleteStoredRedirectRoute(e),this.router.navigateByUrl(r))}saveRedirectRoute(e,r){e&&this.storageService.write(tp,r,e)}getStoredRedirectRoute(e){return this.storageService.read(tp,e)}deleteStoredRedirectRoute(e){this.storageService.remove(tp,e)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Vr=(()=>{class t{isCurrentFlowCodeFlow(e){return this.currentFlowIs("code",e)}isCurrentFlowAnyImplicitFlow(e){return this.isCurrentFlowImplicitFlowWithAccessToken(e)||this.isCurrentFlowImplicitFlowWithoutAccessToken(e)}isCurrentFlowCodeFlowWithRefreshTokens(e){if(!e)return!1;let{useRefreshToken:r}=e;return this.isCurrentFlowCodeFlow(e)&&!!r}isCurrentFlowImplicitFlowWithAccessToken(e){return this.currentFlowIs("id_token token",e)}currentFlowIs(e,r){let{responseType:i}=r;return Array.isArray(e)?e.some(o=>i===o):i===e}isCurrentFlowImplicitFlowWithoutAccessToken(e){return this.currentFlowIs("id_token",e)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),zT=(()=>{class t{constructor(){this.loggerService=g(le),this.cryptoService=g(op)}createRandom(e,r){if(e<=0)return"";e>0&&e<7&&(this.loggerService.logWarning(r,`RandomService called with ${e} but 7 chars is the minimum, returning 10 chars`),e=10);let i=e-6,o=new Uint8Array(Math.floor(i/2)),s=this.cryptoService.getCrypto();return s&&s.getRandomValues(o),Array.from(o,this.toHex).join("")+this.randomString(7)}toHex(e){return("0"+e.toString(16)).substr(-2)}randomString(e){let r="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=new Uint32Array(e),s=this.cryptoService.getCrypto();if(s){s.getRandomValues(o);for(let a=0;a<e;a++)r+=i[o[a]%i.length]}return r}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),At=(()=>{class t{constructor(){this.loggerService=g(le),this.storagePersistenceService=g(Je),this.randomService=g(zT)}createNonce(e){let r=this.randomService.createRandom(40,e);return this.loggerService.logDebug(e,"Nonce created. nonce:"+r),this.setNonce(r,e),r}setNonce(e,r){this.storagePersistenceService.write("authNonce",e,r)}getAuthStateControl(e){return e?this.storagePersistenceService.read("authStateControl",e):""}setAuthStateControl(e,r){return r?this.storagePersistenceService.write("authStateControl",e,r):!1}getExistingOrCreateAuthStateControl(e){let r=this.storagePersistenceService.read("authStateControl",e);return r||(r=this.randomService.createRandom(40,e),this.storagePersistenceService.write("authStateControl",r,e)),r}setSessionState(e,r){this.storagePersistenceService.write("session_state",e,r)}resetStorageFlowData(e){this.storagePersistenceService.resetStorageFlowData(e)}getCodeVerifier(e){return this.storagePersistenceService.read("codeVerifier",e)}createCodeVerifier(e){let r=this.randomService.createRandom(67,e);return this.storagePersistenceService.write("codeVerifier",r,e),r}isCodeFlowInProgress(e){return!!this.storagePersistenceService.read("storageCodeFlowInProgress",e)}setCodeFlowInProgress(e){this.storagePersistenceService.write("storageCodeFlowInProgress",!0,e)}resetCodeFlowInProgress(e){this.storagePersistenceService.write("storageCodeFlowInProgress",!1,e)}isSilentRenewRunning(e){let{configId:r,silentRenewTimeoutInSeconds:i}=e,o=this.getSilentRenewRunningStorageEntry(e);if(!o||o.state==="not-running")return!1;let s=(i??0)*1e3,a=Date.parse(o.dateOfLaunchedProcessUtc),c=Date.parse(new Date().toISOString());return Math.abs(c-a)>s?(this.loggerService.logDebug(e,"silent renew process is probably stuck, state will be reset.",r),this.resetSilentRenewRunning(e),!1):o.state==="running"}setSilentRenewRunning(e){let r={state:"running",dateOfLaunchedProcessUtc:new Date().toISOString()};this.storagePersistenceService.write("storageSilentRenewRunning",JSON.stringify(r),e)}resetSilentRenewRunning(e){e&&this.storagePersistenceService.write("storageSilentRenewRunning","",e)}getSilentRenewRunningStorageEntry(e){let r=this.storagePersistenceService.read("storageSilentRenewRunning",e);return r?JSON.parse(r):{dateOfLaunchedProcessUtc:"",state:"not-running"}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),rp=class{encodeKey(n){return encodeURIComponent(n)}encodeValue(n){return encodeURIComponent(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}},WT=["code","state","token","id_token"],GT="auth0.com",Vn=(()=>{class t{constructor(){this.loggerService=g(le),this.flowsDataService=g(At),this.flowHelper=g(Vr),this.storagePersistenceService=g(Je),this.jwtWindowCryptoService=g(Rb)}getUrlParameter(e,r){if(!e||!r)return"";r=r.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");let o=new RegExp("[\\?&#]"+r+"=([^&#]*)").exec(e);return o===null?"":decodeURIComponent(o[1])}getUrlWithoutQueryParameters(e){let r=new URL(e.toString()),i=[];for(let o of r.searchParams.keys())i.push(o);return i.forEach(o=>{r.searchParams.delete(o)}),r}queryParametersExist(e,r){let i=!0;return e.forEach((o,s)=>{r.has(s)||(i=!1)}),i}isCallbackFromSts(e,r){if(r&&r.checkRedirectUrlWhenCheckingIfIsCallback){let i=new URL(e),o=this.getRedirectUrl(r);if(!o)return this.loggerService.logError(r,"UrlService.isCallbackFromSts: could not get redirectUrl from config, was: ",o),!1;let s=new URL(o),a=this.getUrlWithoutQueryParameters(s).toString(),c=this.getUrlWithoutQueryParameters(i).toString(),d=this.queryParametersExist(s.searchParams,i.searchParams);if(a!==c||!d)return!1}return WT.some(i=>!!this.getUrlParameter(e,i))}getRefreshSessionSilentRenewUrl(e,r){return this.flowHelper.isCurrentFlowCodeFlow(e)?this.createUrlCodeFlowWithSilentRenew(e,r):E(this.createUrlImplicitFlowWithSilentRenew(e,r))}getAuthorizeParUrl(e,r){let i=this.storagePersistenceService.read("authWellKnownEndPoints",r);if(!i)return this.loggerService.logError(r,"authWellKnownEndpoints is undefined"),null;let o=i.authorizationEndpoint;if(!o)return this.loggerService.logError(r,`Can not create an authorize URL when authorizationEndpoint is '${o}'`),null;let{clientId:s}=r;if(!s)return this.loggerService.logError(r,"getAuthorizeParUrl could not add clientId because it was: ",s),null;let a=o.split("?"),c=a[0],d=a[1],p=this.createHttpParams(d);return p=p.set("request_uri",e),p=p.append("client_id",s),`${c}?${p}`}getAuthorizeUrl(e,r){return e?this.flowHelper.isCurrentFlowCodeFlow(e)?this.createUrlCodeFlowAuthorize(e,r):E(this.createUrlImplicitFlowAuthorize(e,r)||""):E(null)}getEndSessionEndpoint(e){let i=this.storagePersistenceService.read("authWellKnownEndPoints",e)?.endSessionEndpoint;if(!i)return{url:"",existingParams:""};let o=i.split("?"),s=o[0],a=o[1]??"";return{url:s,existingParams:a}}getEndSessionUrl(e,r){if(!e)return null;let i=this.storagePersistenceService.getIdToken(e),{customParamsEndSessionRequest:o}=e,s=x(x({},o),r);return this.createEndSessionUrl(i,e,s)}createRevocationEndpointBodyAccessToken(e,r){let i=this.getClientId(r);if(!i)return null;let o=this.createHttpParams();return o=o.set("client_id",i),o=o.set("token",e),o=o.set("token_type_hint","access_token"),o.toString()}createRevocationEndpointBodyRefreshToken(e,r){let i=this.getClientId(r);if(!i)return null;let o=this.createHttpParams();return o=o.set("client_id",i),o=o.set("token",e),o=o.set("token_type_hint","refresh_token"),o.toString()}getRevocationEndpointUrl(e){let i=this.storagePersistenceService.read("authWellKnownEndPoints",e)?.revocationEndpoint;return i?i.split("?")[0]:null}createBodyForCodeFlowCodeRequest(e,r,i){let o=this.getClientId(r);if(!o)return null;let s=this.createHttpParams();if(s=s.set("grant_type","authorization_code"),s=s.set("client_id",o),!r.disablePkce){let d=this.flowsDataService.getCodeVerifier(r);if(!d)return this.loggerService.logError(r,"CodeVerifier is not set ",d),null;s=s.set("code_verifier",d)}s=s.set("code",e),i&&(s=this.appendCustomParams(x({},i),s));let a=this.getSilentRenewUrl(r);if(this.flowsDataService.isSilentRenewRunning(r)&&a)return s=s.set("redirect_uri",a),s.toString();let c=this.getRedirectUrl(r);return c?(s=s.set("redirect_uri",c),s.toString()):null}createBodyForCodeFlowRefreshTokensRequest(e,r,i){let o=this.getClientId(r);if(!o)return null;let s=this.createHttpParams();return s=s.set("grant_type","refresh_token"),s=s.set("client_id",o),s=s.set("refresh_token",e),i&&(s=this.appendCustomParams(x({},i),s)),s.toString()}createBodyForParCodeFlowRequest(e,r){let i=this.getRedirectUrl(e,r);if(!i)return E(null);let o=this.flowsDataService.getExistingOrCreateAuthStateControl(e),s=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"Authorize created. adding myautostate: "+o);let a=this.flowsDataService.createCodeVerifier(e);return this.jwtWindowCryptoService.generateCodeChallenge(a).pipe(O(c=>{let{clientId:d,responseType:p,scope:m,hdParam:C,customParamsAuthRequest:b}=e,_=this.createHttpParams("");return _=_.set("client_id",d??""),_=_.append("redirect_uri",i),_=_.append("response_type",p??""),_=_.append("scope",m??""),_=_.append("nonce",s),_=_.append("state",o),_=_.append("code_challenge",c),_=_.append("code_challenge_method","S256"),C&&(_=_.append("hd",C)),b&&(_=this.appendCustomParams(x({},b),_)),r?.customParams&&(_=this.appendCustomParams(x({},r.customParams),_)),_.toString()}))}getPostLogoutRedirectUrl(e){let{postLogoutRedirectUri:r}=e;return r||(this.loggerService.logError(e,"could not get postLogoutRedirectUri, was: ",r),null)}createEndSessionUrl(e,r,i){if(this.isAuth0Endpoint(r))return this.composeAuth0Endpoint(r);let{url:o,existingParams:s}=this.getEndSessionEndpoint(r);if(!o)return null;let a=this.createHttpParams(s);e&&(a=a.set("id_token_hint",e));let c=this.getPostLogoutRedirectUrl(r);return c&&(a=a.append("post_logout_redirect_uri",c)),i&&(a=this.appendCustomParams(x({},i),a)),`${o}?${a}`}createAuthorizeUrl(e,r,i,o,s,a,c){let p=this.storagePersistenceService.read("authWellKnownEndPoints",s)?.authorizationEndpoint;if(!p)return this.loggerService.logError(s,`Can not create an authorize URL when authorizationEndpoint is '${p}'`),"";let{clientId:m,responseType:C,scope:b,hdParam:_,customParamsAuthRequest:A}=s;if(!m)return this.loggerService.logError(s,"createAuthorizeUrl could not add clientId because it was: ",m),"";if(!C)return this.loggerService.logError(s,"createAuthorizeUrl could not add responseType because it was: ",C),"";if(!b)return this.loggerService.logError(s,"createAuthorizeUrl could not add scope because it was: ",b),"";let k=p.split("?"),$=k[0],fe=k[1],U=this.createHttpParams(fe);U=U.set("client_id",m),U=U.append("redirect_uri",r),U=U.append("response_type",C),U=U.append("scope",b),U=U.append("nonce",i),U=U.append("state",o),this.flowHelper.isCurrentFlowCodeFlow(s)&&(U=U.append("code_challenge",e),U=U.append("code_challenge_method","S256"));let Fe=x(x({},A),c);return Object.keys(Fe).length>0&&(U=this.appendCustomParams(x({},Fe),U)),a&&(U=this.overWriteParam(U,"prompt",a)),_&&(U=U.append("hd",_)),`${$}?${U}`}createUrlImplicitFlowWithSilentRenew(e,r){let i=this.flowsDataService.getExistingOrCreateAuthStateControl(e),o=this.flowsDataService.createNonce(e),s=this.getSilentRenewUrl(e);return s?(this.loggerService.logDebug(e,"RefreshSession created. adding myautostate: ",i),this.storagePersistenceService.read("authWellKnownEndPoints",e)?this.createAuthorizeUrl("",s,o,i,e,"none",r):(this.loggerService.logError(e,"authWellKnownEndpoints is undefined"),null)):null}createUrlCodeFlowWithSilentRenew(e,r){let i=this.flowsDataService.getExistingOrCreateAuthStateControl(e),o=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"RefreshSession created. adding myautostate: "+i);let s=this.flowsDataService.createCodeVerifier(e);return this.jwtWindowCryptoService.generateCodeChallenge(s).pipe(O(a=>{let c=this.getSilentRenewUrl(e);return c?this.storagePersistenceService.read("authWellKnownEndPoints",e)?this.createAuthorizeUrl(a,c,o,i,e,"none",r):(this.loggerService.logWarning(e,"authWellKnownEndpoints is undefined"),""):""}))}createUrlImplicitFlowAuthorize(e,r){let i=this.flowsDataService.getExistingOrCreateAuthStateControl(e),o=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"Authorize created. adding myautostate: "+i);let s=this.getRedirectUrl(e,r);if(!s)return null;if(this.storagePersistenceService.read("authWellKnownEndPoints",e)){let{customParams:c}=r||{};return this.createAuthorizeUrl("",s,o,i,e,"",c)}return this.loggerService.logError(e,"authWellKnownEndpoints is undefined"),null}createUrlCodeFlowAuthorize(e,r){let i=this.flowsDataService.getExistingOrCreateAuthStateControl(e),o=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"Authorize created. adding myautostate: "+i);let s=this.getRedirectUrl(e,r);return s?this.getCodeChallenge(e).pipe(O(a=>{if(this.storagePersistenceService.read("authWellKnownEndPoints",e)){let{customParams:d}=r||{};return this.createAuthorizeUrl(a,s,o,i,e,"",d)}return this.loggerService.logError(e,"authWellKnownEndpoints is undefined"),""})):E(null)}getCodeChallenge(e){if(e.disablePkce)return E("");let r=this.flowsDataService.createCodeVerifier(e);return this.jwtWindowCryptoService.generateCodeChallenge(r)}getRedirectUrl(e,r){let{redirectUrl:i}=e;return r?.redirectUrl&&(i=r.redirectUrl),i||(this.loggerService.logError(e,"could not get redirectUrl, was: ",i),null)}getSilentRenewUrl(e){let{silentRenewUrl:r}=e;return r||(this.loggerService.logError(e,"could not get silentRenewUrl, was: ",r),null)}getClientId(e){let{clientId:r}=e;return r||(this.loggerService.logError(e,"could not get clientId, was: ",r),null)}appendCustomParams(e,r){for(let[i,o]of Object.entries(x({},e)))r=r.append(i,o.toString());return r}overWriteParam(e,r,i){return e.set(r,i)}createHttpParams(e){return e=e??"",new rn({fromString:e,encoder:new rp})}isAuth0Endpoint(e){let{authority:r,useCustomAuth0Domain:i}=e;return r?r.endsWith(GT)||!!i:!1}composeAuth0Endpoint(e){let{authority:r,clientId:i}=e,o=this.getPostLogoutRedirectUrl(e);return`${r}/v2/logout?client_id=${i}&returnTo=${o}`}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),qT=(()=>{class t{constructor(){this.http=g(Ue)}get(e,r){return this.http.get(e,r)}post(e,r,i){return this.http.post(e,r,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),KT="ngsw-bypass",pi=(()=>{class t{constructor(){this.httpClient=g(qT)}get(e,r,i){let o=this.prepareHeaders(i),s=this.prepareParams(r);return this.httpClient.get(e,{headers:o,params:s})}post(e,r,i,o){let s=o||this.prepareHeaders(),a=this.prepareParams(i);return this.httpClient.post(e??"",r,{headers:s,params:a})}prepareHeaders(e){let r=new wt;return r=r.set("Accept","application/json"),e&&(r=r.set("Authorization","Bearer "+decodeURIComponent(e))),r}prepareParams(e){let r=new rn,{ngswBypass:i}=e;return i&&(r=r.set(KT,"")),r}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Nb=t=>!!t&&t instanceof On&&(t.error instanceof ProgressEvent&&t.error.type==="error"||t.status===0&&!!t.error),ZT=(()=>{class t{constructor(){this.urlService=g(Vn),this.loggerService=g(le),this.tokenValidationService=g(Cl),this.flowsDataService=g(At),this.storagePersistenceService=g(Je),this.dataService=g(pi)}codeFlowCallback(e,r){let i=this.urlService.getUrlParameter(e,"code"),o=this.urlService.getUrlParameter(e,"state"),s=this.urlService.getUrlParameter(e,"session_state");return o?i?(this.loggerService.logDebug(r,"running validation for callback",e),E({code:i,refreshToken:"",state:o,sessionState:s,authResult:null,isRenewProcess:!1,jwtKeys:null,validationResult:null,existingIdToken:null})):(this.loggerService.logDebug(r,"no code in url"),B(()=>new Error("no code in url"))):(this.loggerService.logDebug(r,"no state in url"),B(()=>new Error("no state in url")))}codeFlowCodeRequest(e,r){let i=this.flowsDataService.getAuthStateControl(r);if(!this.tokenValidationService.validateStateFromHashCallback(e.state,i,r))return B(()=>new Error("codeFlowCodeRequest incorrect state"));let a=this.storagePersistenceService.read("authWellKnownEndPoints",r)?.tokenEndpoint;if(!a)return B(()=>new Error("Token Endpoint not defined"));let c=new wt;c=c.set("Content-Type","application/x-www-form-urlencoded");let d=this.urlService.createBodyForCodeFlowCodeRequest(e.code,r,r?.customParamsCodeRequest);return this.dataService.post(a,d,r,c).pipe(ue(p=>{if(p){let m=W(x({},p),{state:e.state,session_state:e.sessionState});e.authResult=m}return E(e)}),ko(p=>this.handleRefreshRetry(p,r)),we(p=>{let{authority:m}=r,C=`OidcService code request ${m}`;return this.loggerService.logError(r,C,p),B(()=>new Error(C))}))}handleRefreshRetry(e,r){return e.pipe(Ee(i=>{if(Nb(i)){let{authority:o,refreshTokenRetryInSeconds:s}=r,a=`OidcService code request ${o} - no internet connection`;return this.loggerService.logWarning(r,a,i),Kr((s??0)*1e3)}return B(()=>i)}))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Be=function(t){return t.NotSet="NotSet",t.StatesDoNotMatch="StatesDoNotMatch",t.SignatureFailed="SignatureFailed",t.IncorrectNonce="IncorrectNonce",t.RequiredPropertyMissing="RequiredPropertyMissing",t.MaxOffsetExpired="MaxOffsetExpired",t.IssDoesNotMatchIssuer="IssDoesNotMatchIssuer",t.NoAuthWellKnownEndPoints="NoAuthWellKnownEndPoints",t.IncorrectAud="IncorrectAud",t.IncorrectIdTokenClaimsAfterRefresh="IncorrectIdTokenClaimsAfterRefresh",t.IncorrectAzp="IncorrectAzp",t.TokenExpired="TokenExpired",t.IncorrectAtHash="IncorrectAtHash",t.Ok="Ok",t.LoginRequired="LoginRequired",t.SecureTokenServerError="SecureTokenServerError",t}(Be||{}),QT={userData:null,allUserData:[]},go=(()=>{class t{constructor(){this.userDataInternal$=new Ce(QT),this.loggerService=g(le),this.tokenHelperService=g(bl),this.flowHelper=g(Vr),this.oidcDataService=g(pi),this.storagePersistenceService=g(Je),this.eventService=g(hi)}get userData$(){return this.userDataInternal$.asObservable()}getAndPersistUserDataInStore(e,r,i=!1,o,s){o=o||this.storagePersistenceService.getIdToken(e),s=s||this.tokenHelperService.getPayloadFromToken(o,!1,e);let a=this.getUserDataFromStore(e),c=!!a,d=this.flowHelper.isCurrentFlowImplicitFlowWithAccessToken(e),p=this.flowHelper.isCurrentFlowCodeFlow(e),m=this.storagePersistenceService.getAccessToken(e);if(!(d||p))return this.loggerService.logDebug(e,`authCallback idToken flow with accessToken ${m}`),this.setUserDataToStore(s,e,r),E(s);let{renewUserInfoAfterTokenRenew:C}=e;return!i||C||!c?this.getUserDataOidcFlowAndSave(s.sub,e,r).pipe(ue(b=>(this.loggerService.logDebug(e,"Received user data: ",b),b?(this.loggerService.logDebug(e,"accessToken: ",m),E(b)):B(()=>new Error("Received no user data, request failed"))))):E(a)}getUserDataFromStore(e){return e?this.storagePersistenceService.read("userData",e)||null:B(()=>new Error("Please provide a configuration before setting up the module"))}publishUserDataIfExists(e,r){let i=this.getUserDataFromStore(e);i&&this.fireUserDataEvent(e,r,i)}setUserDataToStore(e,r,i){this.storagePersistenceService.write("userData",e,r),this.fireUserDataEvent(r,i,e)}resetUserDataInStore(e,r){this.storagePersistenceService.remove("userData",e),this.fireUserDataEvent(e,r,null)}getUserDataOidcFlowAndSave(e,r,i){return this.getIdentityUserData(r).pipe(O(o=>this.validateUserDataSubIdToken(r,e,o?.sub)?(this.setUserDataToStore(o,r,i),o):(this.loggerService.logWarning(r,"User data sub does not match sub in id_token, resetting"),this.resetUserDataInStore(r,i),null)))}getIdentityUserData(e){let r=this.storagePersistenceService.getAccessToken(e),i=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(!i)return this.loggerService.logWarning(e,"init check session: authWellKnownEndpoints is undefined"),B(()=>new Error("authWellKnownEndpoints is undefined"));let o=i.userInfoEndpoint;return o?this.oidcDataService.get(o,e,r).pipe(Zr(2)):(this.loggerService.logError(e,"init check session: authWellKnownEndpoints.userinfo_endpoint is undefined; set auto_userinfo = false in config"),B(()=>new Error("authWellKnownEndpoints.userinfo_endpoint is undefined")))}validateUserDataSubIdToken(e,r,i){return!r||!i?!1:r.toString()!==i.toString()?(this.loggerService.logDebug(e,"validateUserDataSubIdToken failed",r,i),!1):!0}fireUserDataEvent(e,r,i){let o=this.composeSingleOrMultipleUserDataObject(e,r,i);this.userDataInternal$.next(o);let{configId:s}=e;this.eventService.fireEvent(Pt.UserDataChanged,{configId:s,userData:i})}composeSingleOrMultipleUserDataObject(e,r,i){if(!(r.length>1)){let{configId:a}=e;return this.composeSingleUserDataResult(a??"",i)}return{userData:null,allUserData:r.map(a=>{let c=e.configId??"",d=a.configId??"";if(this.currentConfigIsToUpdate(c,a))return{configId:d,userData:i};let p=this.storagePersistenceService.read("userData",a)||null;return{configId:d,userData:p}})}}composeSingleUserDataResult(e,r){return{userData:r,allUserData:[{configId:e,userData:r}]}}currentConfigIsToUpdate(e,r){return r.configId===e}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),jr=(()=>{class t{constructor(){this.loggerService=g(le),this.userService=g(go),this.flowsDataService=g(At),this.authStateService=g(Ln)}resetAuthorizationData(e,r){e&&(this.userService.resetUserDataInStore(e,r),this.flowsDataService.resetStorageFlowData(e),this.authStateService.setUnauthenticatedAndFireEvent(e,r),this.loggerService.logDebug(e,"Local Login information cleaned up and event fired"))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),YT=(()=>{class t{constructor(){this.loggerService=g(le),this.storagePersistenceService=g(Je),this.dataService=g(pi)}getSigningKeys(e){let i=this.storagePersistenceService.read("authWellKnownEndPoints",e)?.jwksUri;if(!i){let o=`getSigningKeys: authWellKnownEndpoints.jwksUri is: '${i}'`;return this.loggerService.logWarning(e,o),B(()=>new Error(o))}return this.loggerService.logDebug(e,"Getting signinkeys from ",i),this.dataService.get(i,e).pipe(Zr(2),we(o=>this.handleErrorGetSigningKeys(o,e)))}handleErrorGetSigningKeys(e,r){let i="";if(e instanceof li){let o=e.body||{},s=JSON.stringify(o),{status:a,statusText:c}=e;i=`${a||""} - ${c||""} ${s||""}`}else{let{message:o}=e;i=o||`${e}`}return this.loggerService.logError(r,i),B(()=>new Error(i))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Mb="jwtKeys",JT=(()=>{class t{constructor(){this.loggerService=g(le),this.authStateService=g(Ln),this.flowsDataService=g(At),this.signInKeyDataService=g(YT),this.storagePersistenceService=g(Je),this.resetAuthDataService=g(jr),this.document=g(be)}callbackHistoryAndResetJwtKeys(e,r,i){let o=x({},e.authResult);if(!this.responseHasIdToken(e)){let s=this.storagePersistenceService.getIdToken(r);o=W(x({},o),{id_token:s})}if(this.storagePersistenceService.write("authnResult",o,r),r.allowUnsafeReuseRefreshToken&&e.authResult?.refresh_token&&this.storagePersistenceService.write("reusable_refresh_token",e.authResult.refresh_token,r),this.historyCleanUpTurnedOn(r)&&!e.isRenewProcess?this.resetBrowserHistory():this.loggerService.logDebug(r,"history clean up inactive"),e.authResult?.error){let s=`AuthCallback AuthResult came with error: ${e.authResult.error}`;return this.loggerService.logDebug(r,s),this.resetAuthDataService.resetAuthorizationData(r,i),this.flowsDataService.setNonce("",r),this.handleResultErrorFromCallback(e.authResult,e.isRenewProcess),B(()=>new Error(s))}return this.loggerService.logDebug(r,`AuthResult '${JSON.stringify(e.authResult,null,2)}'.
      AuthCallback created, begin token validation`),this.signInKeyDataService.getSigningKeys(r).pipe(De(s=>this.storeSigningKeys(s,r)),we(s=>{let a=this.readSigningKeys(r);return a?(this.loggerService.logWarning(r,"Failed to retrieve signing keys, fallback to stored keys"),E(a)):B(()=>new Error(s))}),ue(s=>{if(s)return e.jwtKeys=s,E(e);let a="Failed to retrieve signing key";return this.loggerService.logWarning(r,a),B(()=>new Error(a))}),we(s=>{let a=`Failed to retrieve signing key with error: ${s}`;return this.loggerService.logWarning(r,a),B(()=>new Error(a))}))}responseHasIdToken(e){return!!e?.authResult?.id_token}handleResultErrorFromCallback(e,r){let i=Be.SecureTokenServerError;e&&typeof e=="object"&&"error"in e&&e.error==="login_required"&&(i=Be.LoginRequired),this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:i,isRenewProcess:r})}historyCleanUpTurnedOn(e){let{historyCleanupOff:r}=e;return!r}resetBrowserHistory(){this.document.defaultView?.history.replaceState({},this.document.title,this.document.defaultView.location.origin+this.document.defaultView.location.pathname)}storeSigningKeys(e,r){this.storagePersistenceService.write(Mb,e,r)}readSigningKeys(e){return this.storagePersistenceService.read(Mb,e)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),XT=(()=>{class t{constructor(){this.loggerService=g(le),this.resetAuthDataService=g(jr),this.flowsDataService=g(At),this.document=g(be)}implicitFlowCallback(e,r,i){let o=this.flowsDataService.isSilentRenewRunning(e);this.loggerService.logDebug(e,"BEGIN callback, no auth data"),o||this.resetAuthDataService.resetAuthorizationData(e,r),i=i||this.document.location.hash.substring(1);let a={code:"",refreshToken:"",state:"",sessionState:null,authResult:i.split("&").reduce((c,d)=>{let p=d.split("=");return c[p.shift()]=p.join("="),c},{}),isRenewProcess:o,jwtKeys:null,validationResult:null,existingIdToken:null};return E(a)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),eP=(()=>{class t{constructor(){this.loggerService=g(le),this.authStateService=g(Ln),this.flowsDataService=g(At)}refreshSessionWithRefreshTokens(e){let r=this.flowsDataService.getExistingOrCreateAuthStateControl(e);this.loggerService.logDebug(e,"RefreshSession created. Adding myautostate: "+r);let i=this.authStateService.getRefreshToken(e),o=this.authStateService.getIdToken(e);if(i){let s={code:"",refreshToken:i,state:r,sessionState:null,authResult:null,isRenewProcess:!0,jwtKeys:null,validationResult:null,existingIdToken:o};return this.loggerService.logDebug(e,"found refresh code, obtaining new credentials with refresh code"),this.flowsDataService.setNonce(Cl.refreshTokenNoncePlaceholder,e),E(s)}else{let s="no refresh token found, please login";return this.loggerService.logError(e,s),B(()=>new Error(s))}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),tP=(()=>{class t{constructor(){this.urlService=g(Vn),this.loggerService=g(le),this.dataService=g(pi),this.storagePersistenceService=g(Je)}refreshTokensRequestTokens(e,r,i){let o=new wt;o=o.set("Content-Type","application/x-www-form-urlencoded");let a=this.storagePersistenceService.read("authWellKnownEndPoints",r)?.tokenEndpoint;if(!a)return B(()=>new Error("Token Endpoint not defined"));let c=this.urlService.createBodyForCodeFlowRefreshTokensRequest(e.refreshToken,r,i);return this.dataService.post(a,c,r,o).pipe(ue(d=>(this.loggerService.logDebug(r,`token refresh response: ${d}`),d&&(d.state=e.state),e.authResult=d,E(e))),ko(d=>this.handleRefreshRetry(d,r)),we(d=>{let{authority:p}=r,m=`OidcService code request ${p}`;return this.loggerService.logError(r,m,d),B(()=>new Error(m))}))}handleRefreshRetry(e,r){return e.pipe(Ee(i=>{if(Nb(i)){let{authority:o,refreshTokenRetryInSeconds:s}=r,a=`OidcService code request ${o} - no internet connection`;return this.loggerService.logWarning(r,a,i),Kr((s??0)*1e3)}return B(()=>i)}))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),nP=(()=>{class t{isStringEqualOrNonOrderedArrayEqual(e,r){return this.isNullOrUndefined(e)||this.isNullOrUndefined(r)||this.oneValueIsStringAndTheOtherIsArray(e,r)?!1:this.bothValuesAreStrings(e,r)?e===r:this.arraysHaveEqualContent(e,r)}areEqual(e,r){if(!e||!r)return!1;if(this.bothValuesAreArrays(e,r))return this.arraysStrictEqual(e,r);if(this.bothValuesAreStrings(e,r))return e===r;if(this.bothValuesAreObjects(e,r))return JSON.stringify(e).toLowerCase()===JSON.stringify(r).toLowerCase();if(this.oneValueIsStringAndTheOtherIsArray(e,r)){if(Array.isArray(e)&&this.valueIsString(r))return e[0]===r;if(Array.isArray(r)&&this.valueIsString(e))return r[0]===e}return e===r}oneValueIsStringAndTheOtherIsArray(e,r){return Array.isArray(e)&&this.valueIsString(r)||Array.isArray(r)&&this.valueIsString(e)}bothValuesAreObjects(e,r){return this.valueIsObject(e)&&this.valueIsObject(r)}bothValuesAreStrings(e,r){return this.valueIsString(e)&&this.valueIsString(r)}bothValuesAreArrays(e,r){return Array.isArray(e)&&Array.isArray(r)}valueIsString(e){return typeof e=="string"||e instanceof String}valueIsObject(e){return typeof e=="object"}arraysStrictEqual(e,r){if(e.length!==r.length)return!1;for(let i=e.length;i--;)if(e[i]!==r[i])return!1;return!0}arraysHaveEqualContent(e,r){return e.length!==r.length?!1:e.some(i=>r.includes(i))}isNullOrUndefined(e){return e==null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),yl=class{constructor(n="",e="",r=!1,i={at_hash:""},o=Be.NotSet){this.accessToken=n,this.idToken=e,this.authResponseIsValid=r,this.decodedIdToken=i,this.state=o}},rP=(()=>{class t{constructor(){this.storagePersistenceService=g(Je),this.tokenValidationService=g(Cl),this.tokenHelperService=g(bl),this.loggerService=g(le),this.equalityService=g(nP),this.flowHelper=g(Vr)}getValidatedStateResult(e,r){let i=!!e.authResult?.error;return!!!e||i?E(new yl("","",!1,{})):this.validateState(e,r)}validateState(e,r){let i=new yl,o=this.storagePersistenceService.read("authStateControl",r);if(!this.tokenValidationService.validateStateFromHashCallback(e.authResult?.state,o,r))return this.loggerService.logWarning(r,"authCallback incorrect state"),i.state=Be.StatesDoNotMatch,this.handleUnsuccessfulValidation(r),E(i);let s=this.flowHelper.isCurrentFlowImplicitFlowWithAccessToken(r),a=this.flowHelper.isCurrentFlowCodeFlow(r);if((s||a)&&(i.accessToken=e.authResult?.access_token??""),r.disableIdTokenValidation)return i.state=Be.Ok,i.authResponseIsValid=!0,E(i);let d=e.isRenewProcess&&!!e.refreshToken,p=!!e.authResult?.id_token;if(d&&!p)return i.state=Be.Ok,i.authResponseIsValid=!0,E(i);if(p){let{clientId:m,issValidationOff:C,maxIdTokenIatOffsetAllowedInSeconds:b,disableIatOffsetValidation:_,ignoreNonceAfterRefresh:A,renewTimeBeforeTokenExpiresInSeconds:k}=r;return i.idToken=e.authResult?.id_token??"",i.decodedIdToken=this.tokenHelperService.getPayloadFromToken(i.idToken,!1,r),this.tokenValidationService.validateSignatureIdToken(i.idToken,e.jwtKeys,r).pipe(Ee($=>{if(!$)return this.loggerService.logDebug(r,"authCallback Signature validation failed id_token"),i.state=Be.SignatureFailed,this.handleUnsuccessfulValidation(r),E(i);let fe=this.storagePersistenceService.read("authNonce",r);if(!this.tokenValidationService.validateIdTokenNonce(i.decodedIdToken,fe,!!A,r))return this.loggerService.logWarning(r,"authCallback incorrect nonce, did you call the checkAuth() method multiple times?"),i.state=Be.IncorrectNonce,this.handleUnsuccessfulValidation(r),E(i);if(!this.tokenValidationService.validateRequiredIdToken(i.decodedIdToken,r))return this.loggerService.logDebug(r,"authCallback Validation, one of the REQUIRED properties missing from id_token"),i.state=Be.RequiredPropertyMissing,this.handleUnsuccessfulValidation(r),E(i);if(!d&&!this.tokenValidationService.validateIdTokenIatMaxOffset(i.decodedIdToken,b??120,!!_,r))return this.loggerService.logWarning(r,"authCallback Validation, iat rejected id_token was issued too far away from the current time"),i.state=Be.MaxOffsetExpired,this.handleUnsuccessfulValidation(r),E(i);let U=this.storagePersistenceService.read("authWellKnownEndPoints",r);if(U){if(C)this.loggerService.logDebug(r,"iss validation is turned off, this is not recommended!");else if(!C&&!this.tokenValidationService.validateIdTokenIss(i.decodedIdToken,U.issuer,r))return this.loggerService.logWarning(r,"authCallback incorrect iss does not match authWellKnownEndpoints issuer"),i.state=Be.IssDoesNotMatchIssuer,this.handleUnsuccessfulValidation(r),E(i)}else return this.loggerService.logWarning(r,"authWellKnownEndpoints is undefined"),i.state=Be.NoAuthWellKnownEndPoints,this.handleUnsuccessfulValidation(r),E(i);return this.tokenValidationService.validateIdTokenAud(i.decodedIdToken,m,r)?this.tokenValidationService.validateIdTokenAzpExistsIfMoreThanOneAud(i.decodedIdToken)?this.tokenValidationService.validateIdTokenAzpValid(i.decodedIdToken,m)?this.isIdTokenAfterRefreshTokenRequestValid(e,i.decodedIdToken,r)?!d&&!this.tokenValidationService.validateIdTokenExpNotExpired(i.decodedIdToken,r,k)?(this.loggerService.logWarning(r,"authCallback id token expired"),i.state=Be.TokenExpired,this.handleUnsuccessfulValidation(r),E(i)):this.validateDefault(s,a,i,r,e):(this.loggerService.logWarning(r,"authCallback pre, post id_token claims do not match in refresh"),i.state=Be.IncorrectIdTokenClaimsAfterRefresh,this.handleUnsuccessfulValidation(r),E(i)):(this.loggerService.logWarning(r,"authCallback incorrect azp"),i.state=Be.IncorrectAzp,this.handleUnsuccessfulValidation(r),E(i)):(this.loggerService.logWarning(r,"authCallback missing azp"),i.state=Be.IncorrectAzp,this.handleUnsuccessfulValidation(r),E(i)):(this.loggerService.logWarning(r,"authCallback incorrect aud"),i.state=Be.IncorrectAud,this.handleUnsuccessfulValidation(r),E(i))}))}else this.loggerService.logDebug(r,"No id_token found, skipping id_token validation");return this.validateDefault(s,a,i,r,e)}validateDefault(e,r,i,o,s){if(!e&&!r)return i.authResponseIsValid=!0,i.state=Be.Ok,this.handleSuccessfulValidation(o),this.handleUnsuccessfulValidation(o),E(i);if(s.authResult?.id_token){let a=this.tokenHelperService.getHeaderFromToken(i.idToken,!1,o);if(r&&!i.decodedIdToken.at_hash)this.loggerService.logDebug(o,"Code Flow active, and no at_hash in the id_token, skipping check!");else return this.tokenValidationService.validateIdTokenAtHash(i.accessToken,i.decodedIdToken.at_hash,a.alg,o).pipe(O(c=>!c||!i.accessToken?(this.loggerService.logWarning(o,"authCallback incorrect at_hash"),i.state=Be.IncorrectAtHash,this.handleUnsuccessfulValidation(o),i):(i.authResponseIsValid=!0,i.state=Be.Ok,this.handleSuccessfulValidation(o),i)))}return i.authResponseIsValid=!0,i.state=Be.Ok,this.handleSuccessfulValidation(o),E(i)}isIdTokenAfterRefreshTokenRequestValid(e,r,i){let{useRefreshToken:o,disableRefreshIdTokenAuthTimeValidation:s}=i;if(!o||!e.existingIdToken)return!0;let a=this.tokenHelperService.getPayloadFromToken(e.existingIdToken,!1,i);return a.iss!==r.iss?(this.loggerService.logDebug(i,`iss do not match: ${a.iss} ${r.iss}`),!1):a.azp!==r.azp?(this.loggerService.logDebug(i,`azp do not match: ${a.azp} ${r.azp}`),!1):a.sub!==r.sub?(this.loggerService.logDebug(i,`sub do not match: ${a.sub} ${r.sub}`),!1):this.equalityService.isStringEqualOrNonOrderedArrayEqual(a?.aud,r?.aud)?s?!0:a.auth_time!==r.auth_time?(this.loggerService.logDebug(i,`auth_time do not match: ${a.auth_time} ${r.auth_time}`),!1):!0:(this.loggerService.logDebug(i,`aud in new id_token is not valid: '${a?.aud}' '${r.aud}'`),!1)}handleSuccessfulValidation(e){let{autoCleanStateAfterAuthentication:r}=e;this.storagePersistenceService.write("authNonce",null,e),r&&this.storagePersistenceService.write("authStateControl","",e),this.loggerService.logDebug(e,"authCallback token(s) validated, continue")}handleUnsuccessfulValidation(e){let{autoCleanStateAfterAuthentication:r}=e;this.storagePersistenceService.write("authNonce",null,e),r&&this.storagePersistenceService.write("authStateControl","",e),this.loggerService.logDebug(e,"authCallback token(s) invalid")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),iP=(()=>{class t{constructor(){this.loggerService=g(le),this.stateValidationService=g(rP),this.authStateService=g(Ln),this.resetAuthDataService=g(jr),this.document=g(be)}callbackStateValidation(e,r,i){return this.stateValidationService.getValidatedStateResult(e,r).pipe(O(o=>{if(e.validationResult=o,o.authResponseIsValid)return this.authStateService.setAuthorizationData(o.accessToken,e.authResult,r,i),e;{let s=`authorizedCallback, token(s) validation failed, resetting. Hash: ${this.document.location.hash}`;throw this.loggerService.logWarning(r,s),this.resetAuthDataService.resetAuthorizationData(r,i),this.publishUnauthorizedState(e.validationResult,e.isRenewProcess),new Error(s)}}))}publishUnauthorizedState(e,r){this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:e.state,isRenewProcess:r})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),oP=(()=>{class t{constructor(){this.loggerService=g(le),this.authStateService=g(Ln),this.flowsDataService=g(At),this.userService=g(go),this.resetAuthDataService=g(jr)}callbackUser(e,r,i){let{isRenewProcess:o,validationResult:s,authResult:a,refreshToken:c}=e,{autoUserInfo:d,renewUserInfoAfterTokenRenew:p}=r;return d?this.userService.getAndPersistUserDataInStore(r,i,o,s?.idToken,s?.decodedIdToken).pipe(ue(m=>{if(m)return c||this.flowsDataService.setSessionState(a?.session_state,r),this.publishAuthState(s,o),E(e);{this.resetAuthDataService.resetAuthorizationData(r,i),this.publishUnauthenticatedState(s,o);let C=`Called for userData but they were ${m}`;return this.loggerService.logWarning(r,C),B(()=>new Error(C))}}),we(m=>{let C=`Failed to retrieve user info with error:  ${m}`;return this.loggerService.logWarning(r,C),B(()=>new Error(C))})):((!o||p)&&s?.decodedIdToken&&this.userService.setUserDataToStore(s.decodedIdToken,r,i),!o&&!c&&this.flowsDataService.setSessionState(a?.session_state,r),this.publishAuthState(s,o),E(e))}publishAuthState(e,r){e&&this.authStateService.updateAndPublishAuthState({isAuthenticated:!0,validationResult:e.state,isRenewProcess:r})}publishUnauthenticatedState(e,r){e&&this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:e.state,isRenewProcess:r})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_l=(()=>{class t{constructor(){this.codeFlowCallbackHandlerService=g(ZT),this.implicitFlowCallbackHandlerService=g(XT),this.historyJwtKeysCallbackHandlerService=g(JT),this.userHandlerService=g(oP),this.stateValidationCallbackHandlerService=g(iP),this.refreshSessionCallbackHandlerService=g(eP),this.refreshTokenCallbackHandlerService=g(tP)}processCodeFlowCallback(e,r,i){return this.codeFlowCallbackHandlerService.codeFlowCallback(e,r).pipe(ie(o=>this.codeFlowCallbackHandlerService.codeFlowCodeRequest(o,r)),ie(o=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(o,r,i)),ie(o=>this.stateValidationCallbackHandlerService.callbackStateValidation(o,r,i)),ie(o=>this.userHandlerService.callbackUser(o,r,i)))}processSilentRenewCodeFlowCallback(e,r,i){return this.codeFlowCallbackHandlerService.codeFlowCodeRequest(e,r).pipe(ie(o=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(o,r,i)),ie(o=>this.stateValidationCallbackHandlerService.callbackStateValidation(o,r,i)),ie(o=>this.userHandlerService.callbackUser(o,r,i)))}processImplicitFlowCallback(e,r,i){return this.implicitFlowCallbackHandlerService.implicitFlowCallback(e,r,i).pipe(ie(o=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(o,e,r)),ie(o=>this.stateValidationCallbackHandlerService.callbackStateValidation(o,e,r)),ie(o=>this.userHandlerService.callbackUser(o,e,r)))}processRefreshToken(e,r,i){return this.refreshSessionCallbackHandlerService.refreshSessionWithRefreshTokens(e).pipe(ie(o=>this.refreshTokenCallbackHandlerService.refreshTokensRequestTokens(o,e,i)),ie(o=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(o,e,r)),ie(o=>this.stateValidationCallbackHandlerService.callbackStateValidation(o,e,r)),ie(o=>this.userHandlerService.callbackUser(o,e,r)))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ms=(()=>{class t{constructor(){this.zone=g(xe),this.document=g(be),this.runTokenValidationRunning=null}isTokenValidationRunning(){return!!this.runTokenValidationRunning}stopPeriodicTokenCheck(){this.runTokenValidationRunning&&(this.runTokenValidationRunning.unsubscribe(),this.runTokenValidationRunning=null)}startPeriodicTokenCheck(e){let r=e*1e3;return new ee(i=>{let o;return this.zone.runOutsideAngular(()=>{o=this.document?.defaultView?.setInterval(()=>this.zone.run(()=>i.next()),r)}),()=>{clearInterval(o)}})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),sP=(()=>{class t{constructor(){this.flowsService=g(_l),this.router=g(ae),this.flowsDataService=g(At),this.intervalService=g(Ms)}authenticatedCallbackWithCode(e,r,i){let o=this.flowsDataService.isSilentRenewRunning(r),{triggerAuthorizationResultEvent:s}=r,a=r.postLoginRoute||"/",c=r.unauthorizedRoute||"/";return this.flowsService.processCodeFlowCallback(e,r,i).pipe(De(d=>{this.flowsDataService.resetCodeFlowInProgress(r),!s&&!d.isRenewProcess&&this.router.navigateByUrl(a)}),we(d=>(this.flowsDataService.resetSilentRenewRunning(r),this.flowsDataService.resetCodeFlowInProgress(r),this.intervalService.stopPeriodicTokenCheck(),!s&&!o&&this.router.navigateByUrl(c),B(()=>new Error(d)))))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Fb=(()=>{class t{constructor(){this.flowsService=g(_l),this.router=g(ae),this.flowsDataService=g(At),this.intervalService=g(Ms)}authenticatedImplicitFlowCallback(e,r,i){let o=this.flowsDataService.isSilentRenewRunning(e),s=!!e.triggerAuthorizationResultEvent,a=e.postLoginRoute??"",c=e.unauthorizedRoute??"";return this.flowsService.processImplicitFlowCallback(e,r,i).pipe(De(d=>{!s&&!d.isRenewProcess&&this.router.navigateByUrl(a)}),we(d=>(this.flowsDataService.resetSilentRenewRunning(e),this.intervalService.stopPeriodicTokenCheck(),!s&&!o&&this.router.navigateByUrl(c),B(()=>new Error(d)))))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Lb=(()=>{class t{constructor(){this.urlService=g(Vn),this.flowHelper=g(Vr),this.implicitFlowCallbackService=g(Fb),this.codeFlowCallbackService=g(sP),this.stsCallbackInternal$=new Pe}get stsCallback$(){return this.stsCallbackInternal$.asObservable()}isCallback(e,r){return e?this.urlService.isCallbackFromSts(e,r):!1}handleCallbackAndFireEvents(e,r,i){let o=new ee;if(this.flowHelper.isCurrentFlowCodeFlow(r))o=this.codeFlowCallbackService.authenticatedCallbackWithCode(e,r,i);else if(this.flowHelper.isCurrentFlowAnyImplicitFlow(r))if(e?.includes("#")){let s=e.substring(e.indexOf("#")+1);o=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(r,i,s)}else o=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(r,i);return o.pipe(De(()=>this.stsCallbackInternal$.next()))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),aP=(()=>{class t{constructor(){this.platformId=g(Jt)}isBrowser(){return ih(this.platformId)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),cP="/.well-known/openid-configuration",lP=(()=>{class t{constructor(){this.loggerService=g(le),this.http=g(pi)}getWellKnownEndPointsForConfig(e){let{authWellknownEndpointUrl:r,authWellknownEndpoints:i={}}=e;if(!r){let o="no authWellknownEndpoint given!";return this.loggerService.logError(e,o),B(()=>new Error(o))}return this.getWellKnownDocument(r,e).pipe(O(o=>({issuer:o.issuer,jwksUri:o.jwks_uri,authorizationEndpoint:o.authorization_endpoint,tokenEndpoint:o.token_endpoint,userInfoEndpoint:o.userinfo_endpoint,endSessionEndpoint:o.end_session_endpoint,checkSessionIframe:o.check_session_iframe,revocationEndpoint:o.revocation_endpoint,introspectionEndpoint:o.introspection_endpoint,parEndpoint:o.pushed_authorization_request_endpoint})),O(o=>x(x({},o),i)))}getWellKnownDocument(e,r){let i=e,o=r.authWellknownUrlSuffix||cP;return e.includes(o)||(i=`${e}${o}`),this.http.get(i,r).pipe(Zr(2))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),mo=(()=>{class t{constructor(){this.dataService=g(lP),this.publicEventsService=g(hi),this.storagePersistenceService=g(Je)}storeWellKnownEndpoints(e,r){this.storagePersistenceService.write("authWellKnownEndPoints",r,e)}queryAndStoreAuthWellKnownEndPoints(e){return e?this.dataService.getWellKnownEndPointsForConfig(e).pipe(De(r=>this.storeWellKnownEndpoints(e,r)),we(r=>(this.publicEventsService.fireEvent(Pt.ConfigLoadingFailed,null),B(()=>new Error(r))))):B(()=>new Error("Please provide a configuration before setting up the module"))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),uP={authority:"https://please_set",authWellknownEndpointUrl:"",authWellknownEndpoints:void 0,redirectUrl:"https://please_set",checkRedirectUrlWhenCheckingIfIsCallback:!0,clientId:"please_set",responseType:"code",scope:"openid email profile",hdParam:"",postLogoutRedirectUri:"https://please_set",startCheckSession:!1,silentRenew:!1,silentRenewUrl:"https://please_set",silentRenewTimeoutInSeconds:20,renewTimeBeforeTokenExpiresInSeconds:0,useRefreshToken:!1,usePushedAuthorisationRequests:!1,ignoreNonceAfterRefresh:!1,postLoginRoute:"/",forbiddenRoute:"/forbidden",unauthorizedRoute:"/unauthorized",autoUserInfo:!0,autoCleanStateAfterAuthentication:!0,triggerAuthorizationResultEvent:!1,logLevel:xs.Warn,issValidationOff:!1,historyCleanupOff:!1,maxIdTokenIatOffsetAllowedInSeconds:120,disableIatOffsetValidation:!1,customParamsAuthRequest:{},customParamsRefreshTokenRequest:{},customParamsEndSessionRequest:{},customParamsCodeRequest:{},disableRefreshIdTokenAuthTimeValidation:!1,triggerRefreshWhenIdTokenExpired:!0,tokenRefreshInSeconds:4,refreshTokenRetryInSeconds:3,ngswBypass:!1},vo={result:!0,messages:[],level:"none"},dP=t=>t.authority?vo:{result:!1,messages:["The authority URL MUST be provided in the configuration! "],level:"error"},fP=t=>t.clientId?vo:{result:!1,messages:["The clientId is required and missing from your config!"],level:"error"},hP=t=>{if(!t)return"";let{authority:n,clientId:e,scope:r}=t;return`${n}${e}${r}`},pP=t=>new Set(t).size!==t.length,gP=t=>{let n=t.map(i=>hP(i));return n.some(i=>i==="")?{result:!1,messages:["Please make sure you add an object with a 'config' property: ....({ config }) instead of ...(config)"],level:"error"}:pP(n)?{result:!1,messages:["You added multiple configs with the same authority, clientId and scope"],level:"warning"}:vo},mP=t=>t.redirectUrl?vo:{result:!1,messages:["The redirectUrl is required and missing from your config"],level:"error"},vP=t=>{let n=t.silentRenew,e=t.useRefreshToken,r=t.silentRenewUrl;return n&&!e&&!r?{result:!1,messages:["Please provide a silent renew URL if using renew and not refresh tokens"],level:"error"}:vo},yP=t=>{let n=t.useRefreshToken,e=t.silentRenew,i=(t.scope||"").split(" ").includes("offline_access");return n&&e&&!i?{result:!1,messages:["When using silent renew and refresh tokens please set the `offline_access` scope"],level:"warning"}:vo},bP=[dP,yP,mP,fP,vP],CP=[gP],_P=(()=>{class t{constructor(){this.loggerService=g(le)}validateConfigs(e){return this.validateConfigsInternal(e??[],CP)}validateConfig(e){return this.validateConfigInternal(e,bP)}validateConfigsInternal(e,r){if(e.length===0)return!1;let i=r.map(s=>s(e)),o=0;return e.forEach(s=>{let a=this.processValidationResultsAndGetErrorCount(i,s);o+=a}),o===0}validateConfigInternal(e,r){let i=r.map(s=>s(e));return this.processValidationResultsAndGetErrorCount(i,e)===0}processValidationResultsAndGetErrorCount(e,r){let i=e.filter(a=>a.messages.length>0),o=this.getAllMessagesOfType("error",i),s=this.getAllMessagesOfType("warning",i);return o.forEach(a=>this.loggerService.logError(r,a)),s.forEach(a=>this.loggerService.logWarning(r,a)),o.length}getAllMessagesOfType(e,r){return r.filter(o=>o.level===e).map(o=>o.messages).reduce((o,s)=>o.concat(s),[])}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Vb=(()=>{class t{constructor(){this.loggerService=g(le),this.publicEventsService=g(hi),this.storagePersistenceService=g(Je),this.platformProvider=g(aP),this.authWellKnownService=g(mo),this.loader=g(vl),this.configValidationService=g(_P),this.configsInternal={}}hasManyConfigs(){return Object.keys(this.configsInternal).length>1}getAllConfigurations(){return Object.values(this.configsInternal)}getOpenIDConfiguration(e){return this.configsAlreadySaved()?E(this.getConfig(e)):this.getOpenIDConfigurations(e).pipe(O(r=>r.currentConfig))}getOpenIDConfigurations(e){return this.loadConfigs().pipe(ie(r=>this.prepareAndSaveConfigs(r)),O(r=>({allConfigs:r,currentConfig:this.getConfig(e)})))}hasAtLeastOneConfig(){return Object.keys(this.configsInternal).length>0}saveConfig(e){let{configId:r}=e;this.configsInternal[r]=e}loadConfigs(){return this.loader.loadConfigs()}configsAlreadySaved(){return this.hasAtLeastOneConfig()}getConfig(e){if(e){let i=this.configsInternal[e];return!i&&R0()&&console.warn(`[angular-auth-oidc-client] No configuration found for config id '${e}'.`),i||null}let[,r]=Object.entries(this.configsInternal)[0]||[[null,null]];return r||null}prepareAndSaveConfigs(e){if(!this.configValidationService.validateConfigs(e))return E([]);this.createUniqueIds(e);let r=e.map(o=>this.handleConfig(o));return Kn(r).pipe(O(o=>o.filter(s=>!!s)),O(o=>o))}createUniqueIds(e){e.forEach((r,i)=>{r.configId||(r.configId=`${i}-${r.clientId}`)})}handleConfig(e){if(!this.configValidationService.validateConfig(e))return this.loggerService.logError(e,"Validation of config rejected with errors. Config is NOT set."),E(null);e.authWellknownEndpointUrl||(e.authWellknownEndpointUrl=e.authority);let r=this.prepareConfig(e);this.saveConfig(r);let i=this.enhanceConfigWithWellKnownEndpoint(r);return this.publicEventsService.fireEvent(Pt.ConfigLoaded,i),E(r)}enhanceConfigWithWellKnownEndpoint(e){let r=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(r)return e.authWellknownEndpoints=r,e;let i=e.authWellknownEndpoints;return i&&(this.authWellKnownService.storeWellKnownEndpoints(e,i),e.authWellknownEndpoints=i),e}prepareConfig(e){let r=x(x({},uP),e);return this.setSpecialCases(r),r}setSpecialCases(e){this.platformProvider.isBrowser()||(e.startCheckSession=!1,e.silentRenew=!1,e.useRefreshToken=!1,e.usePushedAuthorisationRequests=!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),jb=(()=>{class t{constructor(){this.document=g(be),this.loggerService=g(le)}getExistingIFrame(e){let r=this.getIFrameFromParentWindow(e);if(this.isIFrameElement(r))return r;let i=this.getIFrameFromWindow(e);return this.isIFrameElement(i)?i:null}addIFrameToWindowBody(e,r){let i=this.document.createElement("iframe");return i.id=e,i.title=e,this.loggerService.logDebug(r,i),i.style.display="none",this.document.body.appendChild(i),i}getIFrameFromParentWindow(e){try{let r=this.document.defaultView?.parent.document.getElementById(e);return this.isIFrameElement(r)?r:null}catch{return null}}getIFrameFromWindow(e){let r=this.document.getElementById(e);return this.isIFrameElement(r)?r:null}isIFrameElement(e){return!!e&&e instanceof HTMLIFrameElement}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Tb="myiFrameForSilentRenew",sp=(()=>{class t{constructor(){this.refreshSessionWithIFrameCompletedInternal$=new Pe,this.loggerService=g(le),this.iFrameService=g(jb),this.flowsService=g(_l),this.resetAuthDataService=g(jr),this.flowsDataService=g(At),this.authStateService=g(Ln),this.flowHelper=g(Vr),this.implicitFlowCallbackService=g(Fb),this.intervalService=g(Ms)}get refreshSessionWithIFrameCompleted$(){return this.refreshSessionWithIFrameCompletedInternal$.asObservable()}getOrCreateIframe(e){let r=this.getExistingIframe();return r||this.iFrameService.addIFrameToWindowBody(Tb,e)}isSilentRenewConfigured(e){let{useRefreshToken:r,silentRenew:i}=e;return!r&&!!i}codeFlowCallbackSilentRenewIframe(e,r,i){let o=new rn({fromString:e[1]}),s=o.get("error");if(s)return this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:Be.LoginRequired,isRenewProcess:!0}),this.resetAuthDataService.resetAuthorizationData(r,i),this.flowsDataService.setNonce("",r),this.intervalService.stopPeriodicTokenCheck(),B(()=>new Error(s));let a=o.get("code")??"",c=o.get("state")??"",d=o.get("session_state"),p={code:a,refreshToken:"",state:c,sessionState:d,authResult:null,isRenewProcess:!0,jwtKeys:null,validationResult:null,existingIdToken:null};return this.flowsService.processSilentRenewCodeFlowCallback(p,r,i).pipe(we(m=>(this.intervalService.stopPeriodicTokenCheck(),this.resetAuthDataService.resetAuthorizationData(r,i),B(()=>new Error(m)))))}silentRenewEventHandler(e,r,i){if(this.loggerService.logDebug(r,"silentRenewEventHandler"),!e.detail)return;let o;if(this.flowHelper.isCurrentFlowCodeFlow(r)){let a=e.detail.toString().split("?");o=this.codeFlowCallbackSilentRenewIframe(a,r,i)}else o=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(r,i,e.detail);o.subscribe({next:a=>{this.refreshSessionWithIFrameCompletedInternal$.next(a),this.flowsDataService.resetSilentRenewRunning(r)},error:a=>{this.loggerService.logError(r,"Error: "+a),this.refreshSessionWithIFrameCompletedInternal$.next(null),this.flowsDataService.resetSilentRenewRunning(r)}})}getExistingIframe(){return this.iFrameService.getExistingIFrame(Tb)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ub=(()=>{class t{constructor(){this.renderer=g(Dr).createRenderer(null,null),this.loggerService=g(le),this.urlService=g(Vn),this.silentRenewService=g(sp),this.document=g(be)}refreshSessionWithIframe(e,r,i){return this.loggerService.logDebug(e,"BEGIN refresh session Authorize Iframe renew"),this.urlService.getRefreshSessionSilentRenewUrl(e,i).pipe(ue(o=>this.sendAuthorizeRequestUsingSilentRenew(o,e,r)))}sendAuthorizeRequestUsingSilentRenew(e,r,i){let o=this.silentRenewService.getOrCreateIframe(r);return this.initSilentRenewRequest(r,i),this.loggerService.logDebug(r,`sendAuthorizeRequestUsingSilentRenew for URL: ${e}`),new ee(s=>{let a=()=>{o.removeEventListener("load",a),this.loggerService.logDebug(r,"removed event listener from IFrame"),s.next(!0),s.complete()};o.addEventListener("load",a),o.contentWindow?.location.replace(e??"")})}initSilentRenewRequest(e,r){let i=Math.random(),o=this.renderer.listen("window","oidc-silent-renew-init",a=>{a.detail!==i&&(o(),s())}),s=this.renderer.listen("window","oidc-silent-renew-message",a=>this.silentRenewService.silentRenewEventHandler(a,e,r));this.document.defaultView?.dispatchEvent(new CustomEvent("oidc-silent-renew-init",{detail:i}))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Bb=(()=>{class t{constructor(){this.loggerService=g(le),this.resetAuthDataService=g(jr),this.flowsService=g(_l),this.intervalService=g(Ms)}refreshSessionWithRefreshTokens(e,r,i){this.loggerService.logDebug(e,"BEGIN refresh session Authorize");let o=!1;return this.flowsService.processRefreshToken(e,r,i).pipe(we(s=>(this.resetAuthDataService.resetAuthorizationData(e,r),o=!0,B(()=>new Error(s)))),Zn(()=>o&&this.intervalService.stopPeriodicTokenCheck()))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),SP=(()=>{class t{constructor(){this.resetAuthDataService=g(jr),this.flowHelper=g(Vr),this.flowsDataService=g(At),this.loggerService=g(le),this.userService=g(go),this.authStateService=g(Ln),this.refreshSessionIframeService=g(Ub),this.refreshSessionRefreshTokenService=g(Bb),this.intervalService=g(Ms),this.storagePersistenceService=g(Je),this.publicEventsService=g(hi),this.configurationService=g(Vb)}startTokenValidationPeriodically(e,r){let i=this.getConfigsWithSilentRenewEnabled(e);if(i.length<=0||this.intervalService.isTokenValidationRunning())return;let o=this.getSmallestRefreshTimeFromConfigs(i),s=this.intervalService.startPeriodicTokenCheck(o).pipe(ue(()=>{let a={};return i.forEach(c=>{let d=c.configId,p=this.getRefreshEvent(c,e);a[d]=p}),Kn(a)}));this.intervalService.runTokenValidationRunning=s.pipe(we(a=>B(()=>new Error(a)))).subscribe({next:a=>{for(let[c,d]of Object.entries(a))this.configurationService.getOpenIDConfiguration(c).subscribe(p=>{this.loggerService.logDebug(p,"silent renew, periodic check finished!"),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(p)&&this.flowsDataService.resetSilentRenewRunning(p)})},error:a=>{this.loggerService.logError(r,"silent renew failed!",a)}})}getRefreshEvent(e,r){if(!this.shouldStartPeriodicallyCheckForConfig(e))return E(null);let o=this.createRefreshEventForConfig(e,r);return this.publicEventsService.fireEvent(Pt.SilentRenewStarted),o.pipe(we(s=>(this.loggerService.logError(e,"silent renew failed!",s),this.publicEventsService.fireEvent(Pt.SilentRenewFailed,s),this.flowsDataService.resetSilentRenewRunning(e),B(()=>new Error(s)))))}getSmallestRefreshTimeFromConfigs(e){return e.reduce((i,o)=>(i.tokenRefreshInSeconds??0)<(o.tokenRefreshInSeconds??0)?i:o).tokenRefreshInSeconds??0}getConfigsWithSilentRenewEnabled(e){return e.filter(r=>r.silentRenew)}createRefreshEventForConfig(e,r){return this.loggerService.logDebug(e,"starting silent renew..."),this.configurationService.getOpenIDConfiguration(e.configId).pipe(ue(i=>{if(!i?.silentRenew)return this.resetAuthDataService.resetAuthorizationData(i,r),E(null);if(this.flowsDataService.setSilentRenewRunning(i),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(i)){let s=this.storagePersistenceService.read("storageCustomParamsRefresh",i)||{},{customParamsRefreshTokenRequest:a}=i,c=x(x({},a),s);return this.refreshSessionRefreshTokenService.refreshSessionWithRefreshTokens(i,r,c)}let o=this.storagePersistenceService.read("storageCustomParamsAuthRequest",i);return this.refreshSessionIframeService.refreshSessionWithIframe(i,r,o)}))}shouldStartPeriodicallyCheckForConfig(e){let r=this.authStateService.getIdToken(e),i=this.flowsDataService.isSilentRenewRunning(e),o=this.flowsDataService.isCodeFlowInProgress(e),s=this.userService.getUserDataFromStore(e);if(this.loggerService.logDebug(e,`Checking: silentRenewRunning: ${i}, isCodeFlowInProgress: ${o} - has idToken: ${!!r} - has userData: ${!!s}`),!(!!s&&!i&&!!r&&!o))return!1;let c=this.authStateService.hasIdTokenExpiredAndRenewCheckIsEnabled(e),d=this.authStateService.hasAccessTokenExpiredIfExpiryExists(e);return c||d}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wP=3,$b=(()=>{class t{constructor(){this.flowHelper=g(Vr),this.flowsDataService=g(At),this.loggerService=g(le),this.silentRenewService=g(sp),this.authStateService=g(Ln),this.authWellKnownService=g(mo),this.refreshSessionIframeService=g(Ub),this.storagePersistenceService=g(Je),this.refreshSessionRefreshTokenService=g(Bb),this.userService=g(go)}userForceRefreshSession(e,r,i){return e?(this.persistCustomParams(i,e),this.forceRefreshSession(e,r,i).pipe(De(()=>this.flowsDataService.resetSilentRenewRunning(e)))):B(()=>new Error("Please provide a configuration before setting up the module"))}forceRefreshSession(e,r,i){let{customParamsRefreshTokenRequest:o,configId:s}=e,a=x(x({},o),i);if(this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(e))return this.startRefreshSession(e,r,a).pipe(O(()=>{let p=this.authStateService.areAuthStorageTokensValid(e);return p?{idToken:this.authStateService.getIdToken(e),accessToken:this.authStateService.getAccessToken(e),userData:this.userService.getUserDataFromStore(e),isAuthenticated:p,configId:s}:{isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:s}}));let{silentRenewTimeoutInSeconds:c}=e,d=(c??0)*1e3;return Kn([this.startRefreshSession(e,r,i),this.silentRenewService.refreshSessionWithIFrameCompleted$.pipe(Dt(1))]).pipe(xu(d),ko(p=>p.pipe(Ee((m,C)=>{let _=C+1;return!(m instanceof va)||_>wP?B(()=>new Error(m)):(this.loggerService.logDebug(e,`forceRefreshSession timeout. Attempt #${_}`),this.flowsDataService.resetSilentRenewRunning(e),Kr(_*1e3))}))),O(([p,m])=>{let C=this.authStateService.areAuthStorageTokensValid(e);return C?{idToken:m?.authResult?.id_token??"",accessToken:m?.authResult?.access_token??"",userData:this.userService.getUserDataFromStore(e),isAuthenticated:C,configId:s}:{isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:s}}))}persistCustomParams(e,r){let{useRefreshToken:i}=r;e&&(i?this.storagePersistenceService.write("storageCustomParamsRefresh",e,r):this.storagePersistenceService.write("storageCustomParamsAuthRequest",e,r))}startRefreshSession(e,r,i){let o=this.flowsDataService.isSilentRenewRunning(e);return this.loggerService.logDebug(e,`Checking: silentRenewRunning: ${o}`),!o?this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(ue(()=>(this.flowsDataService.setSilentRenewRunning(e),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(e)?this.refreshSessionRefreshTokenService.refreshSessionWithRefreshTokens(e,r,i):this.refreshSessionIframeService.refreshSessionWithIframe(e,r,i)))):E(null)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Pb="myiFrameForCheckSession",ap=(()=>{class t{constructor(){this.loggerService=g(le),this.storagePersistenceService=g(Je),this.iFrameService=g(jb),this.eventService=g(hi),this.zone=g(xe),this.document=g(be),this.checkSessionReceived=!1,this.scheduledHeartBeatRunning=null,this.lastIFrameRefresh=0,this.outstandingMessages=0,this.heartBeatInterval=3e3,this.iframeRefreshInterval=6e4,this.checkSessionChangedInternal$=new Ce(!1)}get checkSessionChanged$(){return this.checkSessionChangedInternal$.asObservable()}ngOnDestroy(){this.stop();let e=this.document.defaultView;e&&this.iframeMessageEventListener&&e.removeEventListener("message",this.iframeMessageEventListener,!1)}isCheckSessionConfigured(e){let{startCheckSession:r}=e;return!!r}start(e){if(this.scheduledHeartBeatRunning)return;let{clientId:r}=e;this.pollServerSession(r,e)}stop(){this.scheduledHeartBeatRunning&&(this.clearScheduledHeartBeat(),this.checkSessionReceived=!1)}serverStateChanged(e){let{startCheckSession:r}=e;return!!r&&this.checkSessionReceived}getExistingIframe(){return this.iFrameService.getExistingIFrame(Pb)}init(e){if(this.lastIFrameRefresh+this.iframeRefreshInterval>Date.now())return E(void 0);let r=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(!r)return this.loggerService.logWarning(e,"CheckSession - init check session: authWellKnownEndpoints is undefined. Returning."),E();let i=this.getOrCreateIframe(e);this.bindMessageEventToIframe(e);let o=r.checkSessionIframe,s=i.contentWindow;return o||this.loggerService.logWarning(e,"CheckSession - init check session: checkSessionIframe is not configured to run"),s?s.location.replace(o):this.loggerService.logWarning(e,"CheckSession - init check session: IFrame contentWindow does not exist"),new ee(a=>{i.onload=()=>{this.lastIFrameRefresh=Date.now(),a.next(),a.complete()}})}pollServerSession(e,r){this.outstandingMessages=0;let i=()=>{this.init(r).pipe(Dt(1)).subscribe(()=>{let o=this.getExistingIframe();if(o&&e){this.loggerService.logDebug(r,`CheckSession - clientId : '${e}' - existingIframe: '${o}'`);let s=this.storagePersistenceService.read("session_state",r),a=this.storagePersistenceService.read("authWellKnownEndPoints",r),c=o.contentWindow;if(s&&a?.checkSessionIframe&&c){let d=new URL(a.checkSessionIframe)?.origin;this.outstandingMessages++,c.postMessage(e+" "+s,d)}else this.loggerService.logDebug(r,`CheckSession - session_state is '${s}' - AuthWellKnownEndPoints is '${JSON.stringify(a,null,2)}'`),this.checkSessionChangedInternal$.next(!0)}else this.loggerService.logWarning(r,`CheckSession - OidcSecurityCheckSession pollServerSession checkSession IFrame does not exist:
               clientId : '${e}' - existingIframe: '${o}'`);this.outstandingMessages>3&&this.loggerService.logError(r,`CheckSession - OidcSecurityCheckSession not receiving check session response messages.
                            Outstanding messages: '${this.outstandingMessages}'. Server unreachable?`),this.zone.runOutsideAngular(()=>{this.scheduledHeartBeatRunning=this.document?.defaultView?.setTimeout(()=>this.zone.run(i),this.heartBeatInterval)??null})})};i()}clearScheduledHeartBeat(){this.scheduledHeartBeatRunning!==null&&(clearTimeout(this.scheduledHeartBeatRunning),this.scheduledHeartBeatRunning=null)}messageHandler(e,r){let i=this.getExistingIframe(),s=!!this.storagePersistenceService.read("authWellKnownEndPoints",e)?.checkSessionIframe?.startsWith(r.origin);this.outstandingMessages=0,i&&s&&r.source===i.contentWindow&&(r.data==="error"?this.loggerService.logWarning(e,"CheckSession - error from check session messageHandler"):r.data==="changed"?(this.loggerService.logDebug(e,`CheckSession - ${r} from check session messageHandler`),this.checkSessionReceived=!0,this.eventService.fireEvent(Pt.CheckSessionReceived,r.data),this.checkSessionChangedInternal$.next(!0)):(this.eventService.fireEvent(Pt.CheckSessionReceived,r.data),this.loggerService.logDebug(e,`CheckSession - ${r.data} from check session messageHandler`)))}bindMessageEventToIframe(e){this.iframeMessageEventListener=this.messageHandler.bind(this,e);let r=this.document.defaultView;r&&r.addEventListener("message",this.iframeMessageEventListener,!1)}getOrCreateIframe(e){return this.getExistingIframe()||this.iFrameService.addIFrameToWindowBody(Pb,e)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Sl=(()=>{class t{constructor(){this.loggerService=g(le),this.storagePersistenceService=g(Je),this.document=g(be),this.STORAGE_IDENTIFIER="popupauth",this.popUp=null,this.handle=-1,this.resultInternal$=new Pe}get result$(){return this.resultInternal$.asObservable()}get windowInternal(){return this.document.defaultView}isCurrentlyInPopup(e){if(this.canAccessSessionStorage()){let r=this.storagePersistenceService.read(this.STORAGE_IDENTIFIER,e),i=this.windowInternal;return i?!!i.opener&&i.opener!==i&&!!r:!1}return!1}openPopUp(e,r,i){let o=this.getOptions(r);this.storagePersistenceService.write(this.STORAGE_IDENTIFIER,"true",i);let s=this.windowInternal;if(!s)return;if(!e){this.loggerService.logError(i,"Could not open popup, url is empty");return}if(this.popUp=s.open(e,"_blank",o),!this.popUp){this.storagePersistenceService.remove(this.STORAGE_IDENTIFIER,i),this.loggerService.logError(i,"Could not open popup");return}this.loggerService.logDebug(i,"Opened popup with url "+e);let a=c=>{if(!c?.data||typeof c.data!="string"){if(i.disableCleaningPopupOnInvalidMessage)return;this.cleanUp(a,i);return}this.loggerService.logDebug(i,"Received message from popup with url "+c.data),this.resultInternal$.next({userClosed:!1,receivedUrl:c.data}),this.cleanUp(a,i)};s.addEventListener("message",a,!1),this.handle=s.setInterval(()=>{this.popUp?.closed&&(this.resultInternal$.next({userClosed:!0,receivedUrl:""}),this.cleanUp(a,i))},200)}sendMessageToMainWindow(e,r){let i=this.windowInternal;if(i&&i.opener){let o=i.location.href;this.sendMessage(e,o,r)}}cleanUp(e,r){let i=this.windowInternal;i&&(i.removeEventListener("message",e,!1),i.clearInterval(this.handle),this.popUp&&(this.storagePersistenceService.remove(this.STORAGE_IDENTIFIER,r),this.popUp.close(),this.popUp=null))}sendMessage(e,r,i){let o=this.windowInternal;if(o){if(!e){this.loggerService.logDebug(i,`Can not send message to parent, no url: '${e}'`);return}o.opener.postMessage(e,r)}}getOptions(e){let r={width:500,height:500,left:50,top:50},i=x(x({},r),e||{}),o=this.windowInternal;if(!o)return"";let s=i.width||r.width,a=i.height||r.height,c=o.screenLeft+(o.outerWidth-s)/2,d=o.screenTop+(o.outerHeight-a)/2;return i.left=c,i.top=d,Object.entries(i).map(([p,m])=>`${encodeURIComponent(p)}=${encodeURIComponent(m)}`).join(",")}canAccessSessionStorage(){return typeof navigator<"u"&&navigator.cookieEnabled&&typeof Storage<"u"}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),DP=(()=>{class t{constructor(){this.document=g(be)}getStateParamFromCurrentUrl(e){let r=e||this.getCurrentUrl();if(!r)return null;let i=new URL(r);return new URLSearchParams(i.search).get("state")}getCurrentUrl(){return this.document?.defaultView?.location.toString()??null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),cp=(()=>{class t{constructor(){this.checkSessionService=g(ap),this.currentUrlService=g(DP),this.silentRenewService=g(sp),this.userService=g(go),this.loggerService=g(le),this.authStateService=g(Ln),this.callbackService=g(Lb),this.refreshSessionService=g($b),this.periodicallyTokenCheckService=g(SP),this.popupService=g(Sl),this.autoLoginService=g(HT),this.storagePersistenceService=g(Je),this.publicEventsService=g(hi)}getConfig(e,r){let i=this.currentUrlService.getStateParamFromCurrentUrl(r);return i?this.getConfigurationWithUrlState([e],i):e}checkAuth(e,r,i){if(!e)return B(()=>new Error("Please provide a configuration before setting up the module"));this.publicEventsService.fireEvent(Pt.CheckingAuth);let o=this.currentUrlService.getStateParamFromCurrentUrl(i);return this.getConfig(e,i)?this.checkAuthWithConfig(e,r,i):B(()=>new Error(`could not find matching config for state ${o}`))}checkAuthMultiple(e,r){let i=this.currentUrlService.getStateParamFromCurrentUrl(r);if(i){let a=this.getConfigurationWithUrlState(e,i);return a?this.composeMultipleLoginResults(e,a,r):B(()=>new Error(`could not find matching config for state ${i}`))}let o=e,s=o.map(a=>this.checkAuthWithConfig(a,o,r));return Kn(s)}checkAuthIncludingServer(e,r){return e?this.checkAuthWithConfig(e,r).pipe(ue(i=>{let{isAuthenticated:o}=i;return o?E(i):this.refreshSessionService.forceRefreshSession(e,r).pipe(De(s=>{s?.isAuthenticated&&this.startCheckSessionAndValidation(e,r)}))})):B(()=>new Error("Please provide a configuration before setting up the module"))}checkAuthWithConfig(e,r,i){if(!e){let p="Please provide at least one configuration before setting up the module";return this.loggerService.logError(e,p),E({isAuthenticated:!1,errorMessage:p,userData:null,idToken:"",accessToken:"",configId:""})}let o=i||this.currentUrlService.getCurrentUrl();if(!o){let p="No URL found!";return this.loggerService.logError(e,p),E({isAuthenticated:!1,errorMessage:p,userData:null,idToken:"",accessToken:"",configId:""})}let{configId:s,authority:a}=e;if(this.loggerService.logDebug(e,`Working with config '${s}' using '${a}'`),this.popupService.isCurrentlyInPopup(e))return this.popupService.sendMessageToMainWindow(o,e),E({isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:""});let c=this.callbackService.isCallback(o,e);return this.loggerService.logDebug(e,`currentUrl to check auth with: '${o}'`),(c?this.callbackService.handleCallbackAndFireEvents(o,e,r):E({})).pipe(O(()=>{let p=this.authStateService.areAuthStorageTokensValid(e);return this.loggerService.logDebug(e,`checkAuth completed. Firing events now. isAuthenticated: ${p}`),p&&(this.startCheckSessionAndValidation(e,r),c||(this.authStateService.setAuthenticatedAndFireEvent(r),this.userService.publishUserDataIfExists(e,r))),this.publicEventsService.fireEvent(Pt.CheckingAuthFinished),{isAuthenticated:p,userData:this.userService.getUserDataFromStore(e),accessToken:this.authStateService.getAccessToken(e),idToken:this.authStateService.getIdToken(e),configId:s}}),De(({isAuthenticated:p})=>{p&&this.autoLoginService.checkSavedRedirectRouteAndNavigate(e)}),we(({message:p})=>(this.loggerService.logError(e,p),this.publicEventsService.fireEvent(Pt.CheckingAuthFinishedWithError,p),E({isAuthenticated:!1,errorMessage:p,userData:null,idToken:"",accessToken:"",configId:s}))))}startCheckSessionAndValidation(e,r){this.checkSessionService.isCheckSessionConfigured(e)&&this.checkSessionService.start(e),this.periodicallyTokenCheckService.startTokenValidationPeriodically(r,e),this.silentRenewService.isSilentRenewConfigured(e)&&this.silentRenewService.getOrCreateIframe(e)}getConfigurationWithUrlState(e,r){if(!r)return null;for(let i of e)if(this.storagePersistenceService.read("authStateControl",i)===r)return i;return null}composeMultipleLoginResults(e,r,i){let o=e.filter(c=>c.configId!==r.configId),s=this.checkAuthWithConfig(r,e,i),a=o.map(c=>{let{redirectUrl:d}=c;return this.checkAuthWithConfig(c,e,d)});return Kn([s,...a])}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),lp=(()=>{class t{constructor(){this.document=g(be)}redirectTo(e){this.document.location.href=e}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),up=(()=>{class t{constructor(){this.loggerService=g(le),this.flowHelper=g(Vr)}hasConfigValidResponseType(e){return this.flowHelper.isCurrentFlowAnyImplicitFlow(e)||this.flowHelper.isCurrentFlowCodeFlow(e)?!0:(this.loggerService.logWarning(e,"module configured incorrectly, invalid response_type. Check the responseType in the config"),!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),IP=(()=>{class t{constructor(){this.loggerService=g(le),this.urlService=g(Vn),this.dataService=g(pi),this.storagePersistenceService=g(Je)}postParRequest(e,r){let i=new wt;i=i.set("Content-Type","application/x-www-form-urlencoded");let o=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(!o)return B(()=>new Error("Could not read PAR endpoint because authWellKnownEndPoints are not given"));let s=o.parEndpoint;return s?this.urlService.createBodyForParCodeFlowRequest(e,r).pipe(ue(a=>this.dataService.post(s,a,e,i).pipe(Zr(2),O(c=>(this.loggerService.logDebug(e,"par response: ",c),{expiresIn:c.expires_in,requestUri:c.request_uri})),we(c=>{let d="There was an error on ParService postParRequest";return this.loggerService.logError(e,d,c),B(()=>new Error(d))})))):B(()=>new Error("Could not read PAR endpoint from authWellKnownEndpoints"))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),EP=(()=>{class t{constructor(){this.loggerService=g(le),this.responseTypeValidationService=g(up),this.urlService=g(Vn),this.redirectService=g(lp),this.authWellKnownService=g(mo),this.popupService=g(Sl),this.checkAuthService=g(cp),this.parService=g(IP)}loginPar(e,r){if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){this.loggerService.logError(e,"Invalid response type!");return}this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(ue(()=>this.parService.postParRequest(e,r))).subscribe(i=>{this.loggerService.logDebug(e,"par response: ",i);let o=this.urlService.getAuthorizeParUrl(i.requestUri,e);if(this.loggerService.logDebug(e,"par request url: ",o),!o){this.loggerService.logError(e,`Could not create URL with param ${i.requestUri}: '${o}'`);return}r?.urlHandler?r.urlHandler(o):this.redirectService.redirectTo(o)})}loginWithPopUpPar(e,r,i,o){let{configId:s}=e;if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){let a="Invalid response type!";return this.loggerService.logError(e,a),B(()=>new Error(a))}return this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow with popup, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(ue(()=>this.parService.postParRequest(e,i)),ue(a=>{this.loggerService.logDebug(e,`par response: ${a}`);let c=this.urlService.getAuthorizeParUrl(a.requestUri,e);if(this.loggerService.logDebug(e,"par request url: ",c),!c){let d=`Could not create URL with param ${a.requestUri}: 'url'`;return this.loggerService.logError(e,d),B(()=>new Error(d))}return this.popupService.openPopUp(c,o,e),this.popupService.result$.pipe(Dt(1),ue(d=>{let{userClosed:p,receivedUrl:m}=d;return p?E({isAuthenticated:!1,errorMessage:"User closed popup",userData:null,idToken:"",accessToken:"",configId:s}):this.checkAuthService.checkAuth(e,r,m)}))}))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xP=(()=>{class t{constructor(){this.loggerService=g(le),this.responseTypeValidationService=g(up),this.urlService=g(Vn),this.authWellKnownService=g(mo),this.popupService=g(Sl),this.checkAuthService=g(cp)}loginWithPopUpStandard(e,r,i,o){let{configId:s}=e;if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){let a="Invalid response type!";return this.loggerService.logError(e,a),B(()=>new Error(a))}return this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow with popup, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(ue(()=>this.urlService.getAuthorizeUrl(e,i)),De(a=>this.popupService.openPopUp(a,o,e)),ue(()=>this.popupService.result$.pipe(Dt(1),ue(a=>{let{userClosed:c,receivedUrl:d}=a;return c?E({isAuthenticated:!1,errorMessage:"User closed popup",userData:null,idToken:"",accessToken:"",configId:s}):this.checkAuthService.checkAuth(e,r,d)}))))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),MP=(()=>{class t{constructor(){this.loggerService=g(le),this.responseTypeValidationService=g(up),this.urlService=g(Vn),this.redirectService=g(lp),this.authWellKnownService=g(mo),this.flowsDataService=g(At)}loginStandard(e,r){if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){this.loggerService.logError(e,"Invalid response type!");return}this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow, no auth data"),this.flowsDataService.setCodeFlowInProgress(e),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).subscribe(()=>{let{urlHandler:i}=r||{};this.flowsDataService.resetSilentRenewRunning(e),this.urlService.getAuthorizeUrl(e,r).subscribe(o=>{if(!o){this.loggerService.logError(e,"Could not create URL",o);return}i?i(o):this.redirectService.redirectTo(o)})})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),TP=(()=>{class t{constructor(){this.parLoginService=g(EP),this.popUpLoginService=g(xP),this.standardLoginService=g(MP),this.storagePersistenceService=g(Je),this.popupService=g(Sl)}login(e,r){if(!e)throw new Error("Please provide a configuration before setting up the module");let{usePushedAuthorisationRequests:i}=e;return r?.customParams&&this.storagePersistenceService.write("storageCustomParamsAuthRequest",r.customParams,e),i?this.parLoginService.loginPar(e,r):this.standardLoginService.loginStandard(e,r)}loginWithPopUp(e,r,i,o){if(!e)throw new Error("Please provide a configuration before setting up the module");if(this.popupService.isCurrentlyInPopup(e))return E({errorMessage:"There is already a popup open."});let{usePushedAuthorisationRequests:a}=e;return i?.customParams&&this.storagePersistenceService.write("storageCustomParamsAuthRequest",i.customParams,e),a?this.parLoginService.loginWithPopUpPar(e,r,i,o):this.popUpLoginService.loginWithPopUpStandard(e,r,i,o)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function PP(t){let n=x({},t);for(let e in t)(t[e]===void 0||t[e]===null)&&delete n[e];return n}var AP=(()=>{class t{constructor(){this.loggerService=g(le),this.dataService=g(pi),this.storagePersistenceService=g(Je),this.urlService=g(Vn),this.checkSessionService=g(ap),this.resetAuthDataService=g(jr),this.redirectService=g(lp)}logoff(e,r,i){if(!e)return B(()=>new Error("Please provide a configuration before setting up the module"));this.loggerService.logDebug(e,"logoff, remove auth",i);let{urlHandler:o,customParams:s}=i||{},a=this.urlService.getEndSessionUrl(e,s);return a?this.checkSessionService.serverStateChanged(e)?(this.loggerService.logDebug(e,"Server State changed. Logoff was only locally. Returning."),E(null)):o?(this.loggerService.logDebug(e,`Custom UrlHandler found. Using this to handle logoff with url '${a}'`),o(a),this.resetAuthDataService.resetAuthorizationData(e,r),E(null)):this.logoffInternal(i,a,e,r):(this.loggerService.logDebug(e,"No endsessionUrl present. Logoff was only locally. Returning."),E(null))}logoffLocal(e,r){this.resetAuthDataService.resetAuthorizationData(e,r),this.checkSessionService.stop()}logoffLocalMultiple(e){e.forEach(r=>this.logoffLocal(r,e))}logoffAndRevokeTokens(e,r,i){if(!e)return B(()=>new Error("Please provide a configuration before setting up the module"));let{revocationEndpoint:o}=this.storagePersistenceService.read("authWellKnownEndPoints",e)||{};return o?this.storagePersistenceService.getRefreshToken(e)?this.revokeRefreshToken(e).pipe(ue(s=>this.revokeAccessToken(e)),we(s=>{let a="revoke token failed";return this.loggerService.logError(e,a,s),B(()=>new Error(a))}),ie(()=>this.logoff(e,r,i))):this.revokeAccessToken(e).pipe(we(s=>{let a="revoke accessToken failed";return this.loggerService.logError(e,a,s),B(()=>new Error(a))}),ie(()=>this.logoff(e,r,i))):(this.loggerService.logDebug(e,"revocation endpoint not supported"),this.logoff(e,r,i))}revokeAccessToken(e,r){if(!e)return B(()=>new Error("Please provide a configuration before setting up the module"));let i=r||this.storagePersistenceService.getAccessToken(e),o=this.urlService.createRevocationEndpointBodyAccessToken(i,e);return this.sendRevokeRequest(e,o)}revokeRefreshToken(e,r){if(!e)return B(()=>new Error("Please provide a configuration before setting up the module"));let i=r||this.storagePersistenceService.getRefreshToken(e),o=this.urlService.createRevocationEndpointBodyRefreshToken(i,e);return this.sendRevokeRequest(e,o)}logoffInternal(e,r,i,o){let{logoffMethod:s,customParams:a}=e||{};if(!s||s==="GET")return this.redirectService.redirectTo(r),this.resetAuthDataService.resetAuthorizationData(i,o),E(null);let{state:c,logout_hint:d,ui_locales:p}=a||{},{clientId:m}=i,C=this.storagePersistenceService.getIdToken(i),b=this.urlService.getPostLogoutRedirectUrl(i),_=this.getHeaders(),{url:A}=this.urlService.getEndSessionEndpoint(i),$=PP({id_token_hint:C,client_id:m,post_logout_redirect_uri:b,state:c,logout_hint:d,ui_locales:p});return this.resetAuthDataService.resetAuthorizationData(i,o),this.dataService.post(A,$,i,_)}sendRevokeRequest(e,r){let i=this.urlService.getRevocationEndpointUrl(e),o=this.getHeaders();return this.dataService.post(i,r,e,o).pipe(Zr(2),ue(s=>(this.loggerService.logDebug(e,"revocation endpoint post response: ",s),E(s))),we(s=>{let a="Revocation request failed";return this.loggerService.logError(e,a,s),B(()=>new Error(a))}))}getHeaders(){let e=new wt;return e=e.set("Content-Type","application/x-www-form-urlencoded"),e}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),me=(()=>{class t{constructor(){this.checkSessionService=g(ap),this.checkAuthService=g(cp),this.userService=g(go),this.tokenHelperService=g(bl),this.configurationService=g(Vb),this.authStateService=g(Ln),this.flowsDataService=g(At),this.callbackService=g(Lb),this.logoffRevocationService=g(AP),this.loginService=g(TP),this.refreshSessionService=g($b),this.urlService=g(Vn),this.authWellKnownService=g(mo),this.userData=ml(this.userData$,{requireSync:!0}),this.authenticated=ml(this.isAuthenticated$,{requireSync:!0})}get userData$(){return this.userService.userData$}get isAuthenticated$(){return this.authStateService.authenticated$}get checkSessionChanged$(){return this.checkSessionService.checkSessionChanged$}get stsCallback$(){return this.callbackService.stsCallback$}preloadAuthWellKnownDocument(e){return this.configurationService.getOpenIDConfiguration(e).pipe(ie(r=>this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(r)))}getConfigurations(){return this.configurationService.getAllConfigurations()}getConfiguration(e){return this.configurationService.getOpenIDConfiguration(e)}getUserData(e){return this.configurationService.getOpenIDConfiguration(e).pipe(O(r=>this.userService.getUserDataFromStore(r)))}checkAuth(e,r){return this.configurationService.getOpenIDConfigurations(r).pipe(ie(({allConfigs:i,currentConfig:o})=>this.checkAuthService.checkAuth(o,i,e)))}checkAuthMultiple(e){return this.configurationService.getOpenIDConfigurations().pipe(ie(({allConfigs:r})=>this.checkAuthService.checkAuthMultiple(r,e)))}isAuthenticated(e){return this.configurationService.getOpenIDConfiguration(e).pipe(O(r=>this.authStateService.isAuthenticated(r)))}checkAuthIncludingServer(e){return this.configurationService.getOpenIDConfigurations(e).pipe(ie(({allConfigs:r,currentConfig:i})=>this.checkAuthService.checkAuthIncludingServer(i,r)))}getAccessToken(e){return this.configurationService.getOpenIDConfiguration(e).pipe(O(r=>this.authStateService.getAccessToken(r)))}getIdToken(e){return this.configurationService.getOpenIDConfiguration(e).pipe(O(r=>this.authStateService.getIdToken(r)))}getRefreshToken(e){return this.configurationService.getOpenIDConfiguration(e).pipe(O(r=>this.authStateService.getRefreshToken(r)))}getAuthenticationResult(e){return this.configurationService.getOpenIDConfiguration(e).pipe(O(r=>this.authStateService.getAuthenticationResult(r)))}getPayloadFromIdToken(e=!1,r){return this.configurationService.getOpenIDConfiguration(r).pipe(O(i=>{let o=this.authStateService.getIdToken(i);return this.tokenHelperService.getPayloadFromToken(o,e,i)}))}getPayloadFromAccessToken(e=!1,r){return this.configurationService.getOpenIDConfiguration(r).pipe(O(i=>{let o=this.authStateService.getAccessToken(i);return this.tokenHelperService.getPayloadFromToken(o,e,i)}))}setState(e,r){return this.configurationService.getOpenIDConfiguration(r).pipe(O(i=>this.flowsDataService.setAuthStateControl(e,i)))}getState(e){return this.configurationService.getOpenIDConfiguration(e).pipe(O(r=>this.flowsDataService.getAuthStateControl(r)))}authorize(e,r){this.configurationService.getOpenIDConfiguration(e).subscribe(i=>this.loginService.login(i,r))}authorizeWithPopUp(e,r,i){return this.configurationService.getOpenIDConfigurations(i).pipe(ie(({allConfigs:o,currentConfig:s})=>this.loginService.loginWithPopUp(s,o,e,r)))}forceRefreshSession(e,r){return this.configurationService.getOpenIDConfigurations(r).pipe(ie(({allConfigs:i,currentConfig:o})=>this.refreshSessionService.userForceRefreshSession(o,i,e)))}logoffAndRevokeTokens(e,r){return this.configurationService.getOpenIDConfigurations(e).pipe(ie(({allConfigs:i,currentConfig:o})=>this.logoffRevocationService.logoffAndRevokeTokens(o,i,r)))}logoff(e,r){return this.configurationService.getOpenIDConfigurations(e).pipe(ie(({allConfigs:i,currentConfig:o})=>this.logoffRevocationService.logoff(o,i,r)))}logoffLocal(e){this.configurationService.getOpenIDConfigurations(e).subscribe(({allConfigs:r,currentConfig:i})=>this.logoffRevocationService.logoffLocal(i,r))}logoffLocalMultiple(){this.configurationService.getOpenIDConfigurations().subscribe(({allConfigs:e})=>this.logoffRevocationService.logoffLocalMultiple(e))}revokeAccessToken(e,r){return this.configurationService.getOpenIDConfiguration(r).pipe(ie(i=>this.logoffRevocationService.revokeAccessToken(i,e)))}revokeRefreshToken(e,r){return this.configurationService.getOpenIDConfiguration(r).pipe(ie(i=>this.logoffRevocationService.revokeRefreshToken(i,e)))}getEndSessionUrl(e,r){return this.configurationService.getOpenIDConfiguration(r).pipe(O(i=>this.urlService.getEndSessionUrl(i,e)))}getAuthorizeUrl(e,r){return this.configurationService.getOpenIDConfiguration(r).pipe(ie(i=>this.urlService.getAuthorizeUrl(i,e?{customParams:e}:void 0)))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),kP=(()=>{class t{read(e){return sessionStorage.getItem(e)}write(e,r){sessionStorage.setItem(e,r)}remove(e){sessionStorage.removeItem(e)}clear(){sessionStorage.clear()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Hb(t,...n){let e=OP(t);for(let r of n)e.push(...r.\u0275providers);return Er(e)}function OP(t){return[{provide:Eb,useValue:t},t?.loader||{provide:vl,useFactory:kT,deps:[Eb]},{provide:kb,useClass:kP},{provide:Ab,useClass:OT}]}var Un=class t{constructor(n){this.httpClient=n}API_URL="http://localhost:9000/api/products";getProducts(n=0,e=5,r="name",i="ASC",o="",s=""){return this.httpClient.get(`${this.API_URL}/paged?page=${n}&size=${e}&sortBy=${r}&sortDir=${i}&&categoryId=${o}&search=${s}`)}createProduct(n){return this.httpClient.post(this.API_URL,n)}removeProduct(n){return this.httpClient.delete(`${this.API_URL}/`+n)}getProductById(n){return this.httpClient.get(`${this.API_URL}/`+n)}updateProduct(n,e){return this.httpClient.put(`${this.API_URL}/${n}`,e)}static \u0275fac=function(e){return new(e||t)(N(Ue))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};var Bn=class t{constructor(n){this.http=n}cartPriceSource=new Ce(this.getSavedCartPrice());cartPrice$=this.cartPriceSource.asObservable();cartQuantitySource=new Ce(this.getSavedCartQuantity());cartQuantity$=this.cartQuantitySource.asObservable();baseUrl="http://localhost:9000/api/cart";saveCartPrice(n){localStorage.setItem("cartPrice",n.toString())}saveCartQuantity(n){localStorage.setItem("cartQuantity",n.toString())}getSavedCartPrice(){let n=localStorage.getItem("cartPrice");return n?parseFloat(n):0}getSavedCartQuantity(){let n=localStorage.getItem("cartQuantity");return n?parseInt(n):0}updateCartPrice(n){this.cartPriceSource.next(n),this.saveCartPrice(n)}updateCartQuantity(n){this.cartQuantitySource.next(n),this.saveCartQuantity(n)}emitCartPriceChange(n){this.updateCartPrice(n)}emitCartQuantityChange(n){this.updateCartQuantity(n)}addToCart(n,e){return this.http.post(`${this.baseUrl}/add/${n}/${e}/1`,{})}getCart(n){return this.http.get(`${this.baseUrl}/${n}`)}clearCart(n){return this.http.delete(`${this.baseUrl}/clear/${n}`)}removeItemFromCart(n,e){return this.http.delete(`${this.baseUrl}/${n}/items/${e}`)}getCartItems(n){return this.http.get(`${this.baseUrl}/items/${n}`)}confirmOrder(n,e){return this.http.post(`${this.baseUrl}/confirm/${e}`,n)}updateCartItemQuantity(n,e,r){return this.http.put(`${this.baseUrl}/${n}/items/${e}?newQuantity=${r}`,{})}getCartTotalPrice(n){return this.http.get(`${this.baseUrl}/${n}/totalPrice`)}getCartTotalQuantity(n){return this.http.get(`${this.baseUrl}/${n}/totalQuantity`)}static \u0275fac=function(e){return new(e||t)(N(Ue))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};var kt=class t{constructor(n){this.http=n}apiUrl="http://localhost:9000/api/products/categories";addCategory(n){return this.http.post(this.apiUrl,n)}getCategories(){return this.http.get(this.apiUrl)}deleteCategory(n){return this.http.delete(`${this.apiUrl}/${n}`)}getCategoryById(n){return this.http.get(`${this.apiUrl}/`+n)}updateCategory(n,e){return this.http.put(`${this.apiUrl}/${n}`,e)}static \u0275fac=function(e){return new(e||t)(N(Ue))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};var tC=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(r){return new(r||t)(I(mn),I(Yt))}}static{this.\u0275dir=pe({type:t})}}return t})(),Ol=(()=>{class t extends tC{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Qt(t)))(i||t)}})()}static{this.\u0275dir=pe({type:t,features:[ut]})}}return t})(),So=new j("");var RP={provide:So,useExisting:_t(()=>Ve),multi:!0};function NP(){let t=cr()?cr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var FP=new j(""),Ve=(()=>{class t extends tC{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!NP())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(r){return new(r||t)(I(mn),I(Yt),I(FP,8))}}static{this.\u0275dir=pe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&D("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Ut([RP]),ut]})}}return t})();function Ur(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function nC(t){return t!=null&&typeof t.length=="number"}var $r=new j(""),Rl=new j(""),LP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ne=class{static min(n){return VP(n)}static max(n){return jP(n)}static required(n){return rC(n)}static requiredTrue(n){return UP(n)}static email(n){return iC(n)}static minLength(n){return oC(n)}static maxLength(n){return BP(n)}static pattern(n){return sC(n)}static nullValidator(n){return Il(n)}static compose(n){return fC(n)}static composeAsync(n){return hC(n)}};function VP(t){return n=>{if(Ur(n.value)||Ur(t))return null;let e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function jP(t){return n=>{if(Ur(n.value)||Ur(t))return null;let e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function rC(t){return Ur(t.value)?{required:!0}:null}function UP(t){return t.value===!0?null:{required:!0}}function iC(t){return Ur(t.value)||LP.test(t.value)?null:{email:!0}}function oC(t){return n=>Ur(n.value)||!nC(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}function BP(t){return n=>nC(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function sC(t){if(!t)return Il;let n,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(Ur(r.value))return null;let i=r.value;return n.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function Il(t){return null}function aC(t){return t!=null}function cC(t){return ci(t)?Se(t):t}function lC(t){let n={};return t.forEach(e=>{n=e!=null?x(x({},n),e):n}),Object.keys(n).length===0?null:n}function uC(t,n){return n.map(e=>e(t))}function $P(t){return!t.validate}function dC(t){return t.map(n=>$P(n)?n:e=>n.validate(e))}function fC(t){if(!t)return null;let n=t.filter(aC);return n.length==0?null:function(e){return lC(uC(e,n))}}function mp(t){return t!=null?fC(dC(t)):null}function hC(t){if(!t)return null;let n=t.filter(aC);return n.length==0?null:function(e){let r=uC(e,n).map(cC);return Kn(r).pipe(O(lC))}}function vp(t){return t!=null?hC(dC(t)):null}function Gb(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function pC(t){return t._rawValidators}function gC(t){return t._rawAsyncValidators}function dp(t){return t?Array.isArray(t)?t:[t]:[]}function El(t,n){return Array.isArray(t)?t.includes(n):t===n}function qb(t,n){let e=dp(n);return dp(t).forEach(i=>{El(e,i)||e.push(i)}),e}function Kb(t,n){return dp(n).filter(e=>!El(t,e))}var xl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=mp(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=vp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},fr=class extends xl{get formDirective(){return null}get path(){return null}},gi=class extends xl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ml=class{constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},HP={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},BU=W(x({},HP),{"[class.ng-submitted]":"isSubmitted"}),Oe=(()=>{class t extends Ml{constructor(e){super(e)}static{this.\u0275fac=function(r){return new(r||t)(I(gi,2))}}static{this.\u0275dir=pe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&rr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ut]})}}return t})(),$n=(()=>{class t extends Ml{constructor(e){super(e)}static{this.\u0275fac=function(r){return new(r||t)(I(fr,10))}}static{this.\u0275dir=pe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&rr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ut]})}}return t})();var Ts="VALID",Dl="INVALID",yo="PENDING",Ps="DISABLED",Br=class{},Tl=class extends Br{constructor(n,e){super(),this.value=n,this.source=e}},ks=class extends Br{constructor(n,e){super(),this.pristine=n,this.source=e}},Os=class extends Br{constructor(n,e){super(),this.touched=n,this.source=e}},bo=class extends Br{constructor(n,e){super(),this.status=n,this.source=e}},fp=class extends Br{constructor(n){super(),this.source=n}},hp=class extends Br{constructor(n){super(),this.source=n}};function yp(t){return(Nl(t)?t.validators:t)||null}function zP(t){return Array.isArray(t)?mp(t):t||null}function bp(t,n){return(Nl(n)?n.asyncValidators:t)||null}function WP(t){return Array.isArray(t)?vp(t):t||null}function Nl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function mC(t,n,e){let r=t.controls;if(!(n?Object.keys(r):r).length)throw new F(1e3,"");if(!r[e])throw new F(1001,"")}function vC(t,n,e){t._forEachChild((r,i)=>{if(e[i]===void 0)throw new F(1002,"")})}var Co=class{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Rr(()=>this.statusReactive()),this.statusReactive=nr(void 0),this._pristine=Rr(()=>this.pristineReactive()),this.pristineReactive=nr(!0),this._touched=Rr(()=>this.touchedReactive()),this.touchedReactive=nr(!1),this._events=new Pe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return yn(this.statusReactive)}set status(n){yn(()=>this.statusReactive.set(n))}get valid(){return this.status===Ts}get invalid(){return this.status===Dl}get pending(){return this.status==yo}get disabled(){return this.status===Ps}get enabled(){return this.status!==Ps}get pristine(){return yn(this.pristineReactive)}set pristine(n){yn(()=>this.pristineReactive.set(n))}get dirty(){return!this.pristine}get touched(){return yn(this.touchedReactive)}set touched(n){yn(()=>this.touchedReactive.set(n))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(qb(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(qb(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Kb(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Kb(n,this._rawAsyncValidators))}hasValidator(n){return El(this._rawValidators,n)}hasAsyncValidator(n){return El(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(W(x({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new Os(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),e&&n.emitEvent!==!1&&this._events.next(new Os(!1,r))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(W(x({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new ks(!1,r))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),e&&n.emitEvent!==!1&&this._events.next(new ks(!0,r))}markAsPending(n={}){this.status=yo;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new bo(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(W(x({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Ps,this.errors=null,this._forEachChild(i=>{i.disable(W(x({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Tl(this.value,r)),this._events.next(new bo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(W(x({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Ts,this._forEachChild(r=>{r.enable(W(x({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(W(x({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ts||this.status===yo)&&this._runAsyncValidator(r,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Tl(this.value,e)),this._events.next(new bo(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(W(x({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ps:Ts}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=yo,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=cC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new bo(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,r)}_initObservables(){this.valueChanges=new Le,this.statusChanges=new Le}_calculateStatus(){return this._allControlsDisabled()?Ps:this.errors?Dl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yo)?yo:this._anyControlsHaveStatus(Dl)?Dl:Ts}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),i&&this._events.next(new ks(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new Os(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Nl(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=zP(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=WP(this._rawAsyncValidators)}},_o=class extends Co{constructor(n,e,r){super(yp(e),bp(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){vC(this,!0,n),Object.keys(n).forEach(r=>{mC(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var pp=class extends _o{};var Ns=new j("CallSetDisabledState",{providedIn:"root",factory:()=>Fl}),Fl="always";function yC(t,n){return[...n.path,t]}function Pl(t,n,e=Fl){Cp(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),qP(t,n),ZP(t,n),KP(t,n),GP(t,n)}function Zb(t,n,e=!0){let r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),kl(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Al(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function GP(t,n){if(n.valueAccessor.setDisabledState){let e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function Cp(t,n){let e=pC(t);n.validator!==null?t.setValidators(Gb(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let r=gC(t);n.asyncValidator!==null?t.setAsyncValidators(Gb(r,n.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Al(n._rawValidators,i),Al(n._rawAsyncValidators,i)}function kl(t,n){let e=!1;if(t!==null){if(n.validator!==null){let i=pC(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==n.validator);o.length!==i.length&&(e=!0,t.setValidators(o))}}if(n.asyncValidator!==null){let i=gC(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==n.asyncValidator);o.length!==i.length&&(e=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Al(n._rawValidators,r),Al(n._rawAsyncValidators,r),e}function qP(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&bC(t,n)})}function KP(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&bC(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function bC(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ZP(t,n){let e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function CC(t,n){t==null,Cp(t,n)}function QP(t,n){return kl(t,n)}function _C(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function YP(t){return Object.getPrototypeOf(t.constructor)===Ol}function SC(t,n){t._syncPendingControls(),n.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function wC(t,n){if(!n)return null;Array.isArray(n);let e,r,i;return n.forEach(o=>{o.constructor===Ve?e=o:YP(o)?r=o:i=o}),i||r||e||null}function JP(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}var XP={provide:fr,useExisting:_t(()=>Fs)},As=Promise.resolve(),Fs=(()=>{class t extends fr{get submitted(){return yn(this.submittedReactive)}constructor(e,r,i){super(),this.callSetDisabledState=i,this._submitted=Rr(()=>this.submittedReactive()),this.submittedReactive=nr(!1),this._directives=new Set,this.ngSubmit=new Le,this.form=new _o({},mp(e),vp(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){As.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Pl(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){As.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){As.then(()=>{let r=this._findContainer(e.path),i=new _o({});CC(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){As.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){As.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),SC(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(r){return new(r||t)(I($r,10),I(Rl,10),I(Ns,8))}}static{this.\u0275dir=pe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&D("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ut([XP]),ut]})}}return t})();function Qb(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function Yb(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Rs=class extends Co{constructor(n=null,e,r){super(yp(e),bp(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nl(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Yb(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Qb(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Qb(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){Yb(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var eA=t=>t instanceof Rs;var tA={provide:gi,useExisting:_t(()=>qe)},Jb=Promise.resolve(),qe=(()=>{class t extends gi{constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Rs,this._registered=!1,this.name="",this.update=new Le,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=wC(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),_C(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Pl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Jb.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&ir(r);Jb.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?yC(e,this._parent):[e]}static{this.\u0275fac=function(r){return new(r||t)(I(fr,9),I($r,10),I(Rl,10),I(So,10),I(Or,8),I(Ns,8))}}static{this.\u0275dir=pe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ut([tA]),ut,pn]})}}return t})(),Hn=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=pe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),nA={provide:So,useExisting:_t(()=>mi),multi:!0},mi=(()=>{class t extends Ol{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Qt(t)))(i||t)}})()}static{this.\u0275dir=pe({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&D("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Ut([nA]),ut]})}}return t})();var DC=new j("");var rA={provide:fr,useExisting:_t(()=>vi)},vi=(()=>{class t extends fr{get submitted(){return yn(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,r,i){super(),this.callSetDisabledState=i,this._submitted=Rr(()=>this._submittedReactive()),this._submittedReactive=nr(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Le,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return Pl(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Zb(e.control||null,e,!1),JP(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),SC(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new fp(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new hp(this.form))}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,i=this.form.get(e.path);r!==i&&(Zb(r||null,e),eA(i)&&(Pl(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);CC(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&QP(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Cp(this.form,this),this._oldForm&&kl(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(I($r,10),I(Rl,10),I(Ns,8))}}static{this.\u0275dir=pe({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&D("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ut([rA]),ut,pn]})}}return t})();var iA={provide:gi,useExisting:_t(()=>yi)},yi=(()=>{class t extends gi{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Le,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=wC(this,o)}ngOnChanges(e){this._added||this._setUpControl(),_C(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return yC(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(I(fr,13),I($r,10),I(Rl,10),I(So,10),I(DC,8))}}static{this.\u0275dir=pe({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ut([iA]),ut,pn]})}}return t})(),oA={provide:So,useExisting:_t(()=>mt),multi:!0};function IC(t,n){return t==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function sA(t){return t.split(":")[0]}var mt=(()=>{class t extends Ol{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let r=this._getOptionId(e),i=IC(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=sA(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Qt(t)))(i||t)}})()}static{this.\u0275dir=pe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&D("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ut([oA]),ut]})}}return t})(),Ot=(()=>{class t{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(IC(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(I(Yt),I(mn),I(mt,9))}}static{this.\u0275dir=pe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),aA={provide:So,useExisting:_t(()=>EC),multi:!0};function Xb(t,n){return t==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function cA(t){return t.split(":")[0]}var EC=(()=>{class t extends Ol{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let r;if(Array.isArray(e)){let i=e.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],d=this._getOptionValue(c.value);i.push(d)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let d=this._getOptionValue(c.value);i.push(d)}}}this.value=i,e(i)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=cA(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Qt(t)))(i||t)}})()}static{this.\u0275dir=pe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&D("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ut([aA]),ut]})}}return t})(),Rt=(()=>{class t{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(Xb(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Xb(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(I(Yt),I(mn),I(EC,9))}}static{this.\u0275dir=pe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();function lA(t){return typeof t=="number"?t:parseInt(t,10)}var Ll=(()=>{class t{constructor(){this._validator=Il}ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Il,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=pe({type:t,features:[pn]})}}return t})();var uA={provide:$r,useExisting:_t(()=>Ls),multi:!0};var Ls=(()=>{class t extends Ll{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ir,this.createValidator=e=>rC}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Qt(t)))(i||t)}})()}static{this.\u0275dir=pe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ar("required",i._enabled?"":null)},inputs:{required:"required"},features:[Ut([uA]),ut]})}}return t})();var dA={provide:$r,useExisting:_t(()=>_p),multi:!0},_p=(()=>{class t extends Ll{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=ir,this.createValidator=e=>iC}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Qt(t)))(i||t)}})()}static{this.\u0275dir=pe({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[Ut([dA]),ut]})}}return t})(),fA={provide:$r,useExisting:_t(()=>Sp),multi:!0},Sp=(()=>{class t extends Ll{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>lA(e),this.createValidator=e=>oC(e)}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Qt(t)))(i||t)}})()}static{this.\u0275dir=pe({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ar("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[Ut([fA]),ut]})}}return t})();var hA={provide:$r,useExisting:_t(()=>wp),multi:!0},wp=(()=>{class t extends Ll{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=e=>e,this.createValidator=e=>sC(e)}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Qt(t)))(i||t)}})()}static{this.\u0275dir=pe({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ar("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},features:[Ut([hA]),ut]})}}return t})();var xC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Vt({type:t})}static{this.\u0275inj=Lt({})}}return t})(),gp=class extends Co{constructor(n,e,r){super(yp(e),bp(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,r={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,e={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){vC(this,!1,n),n.forEach((r,i)=>{mC(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,r)=>r._syncPendingControls()?!0:e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,r)=>{n(e,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function eC(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var wo=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new t;return e.useNonNullable=!0,e}group(e,r=null){let i=this._reduceControls(e),o={};return eC(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new _o(i,o)}record(e,r=null){let i=this._reduceControls(e);return new pp(i,r)}control(e,r,i){let o={};return this.useNonNullable?(eC(r)?o=r:(o.validators=r,o.asyncValidators=i),new Rs(e,W(x({},o),{nonNullable:!0}))):new Rs(e,r,i)}array(e,r,i){let o=e.map(s=>this._createControl(s));return new gp(o,r,i)}_reduceControls(e){let r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){if(e instanceof Rs)return e;if(e instanceof Co)return e;if(Array.isArray(e)){let r=e[0],i=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(r,i,o)}else return this.control(e)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ze=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Ns,useValue:e.callSetDisabledState??Fl}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Vt({type:t})}static{this.\u0275inj=Lt({imports:[xC]})}}return t})(),Hr=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:DC,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Ns,useValue:e.callSetDisabledState??Fl}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Vt({type:t})}static{this.\u0275inj=Lt({imports:[xC]})}}return t})();var pA=(t,n)=>({"alert-success":t,"alert-danger":n}),Dp=t=>[t];function gA(t,n){if(t&1&&(l(0,"div",35)(1,"strong"),h(2),u(),h(3),u()),t&2){let e=y();v("ngClass",tn(3,pA,e.animatedMessage.type==="success",e.animatedMessage.type==="error")),f(2),L(e.animatedMessage.type==="success"?"Success:":"Error:"),f(),V(" ",e.animatedMessage.text,`
`)}}function mA(t,n){if(t&1){let e=R();l(0,"button",36),D("click",function(){M(e);let i=y();return T(i.goToCreateProductPage())}),P(1,"i",37),l(2,"span",38),h(3,"Create Product"),u()()}}function vA(t,n){if(t&1){let e=R();l(0,"div",39),D("click",function(){let i=M(e).$implicit,o=y();return T(o.onCategoryChange(i.id))}),l(1,"div",40),P(2,"img",41),l(3,"div",42)(4,"h5",43),h(5),u()()()()}if(t&2){let e=n.$implicit;f(2),Ke("src",e.thumbnailUrl,We),Ke("alt",e.name),f(3),L(e.name)}}function yA(t,n){if(t&1&&(l(0,"option",44),h(1),u()),t&2){let e=n.$implicit;v("value",e),f(),L(e)}}function bA(t,n){t&1&&(l(0,"div",2)(1,"h4",49),h(2,"Order Placed Successfully"),u()())}function CA(t,n){if(t&1&&P(0,"img",60),t&2){let e=y().$implicit;Ke("alt",e.name),v("src",e.thumbnailUrl,We)}}function _A(t,n){if(t&1){let e=R();l(0,"button",61),D("click",function(){M(e);let i=y().$implicit,o=y(3);return T(o.removeProduct(i.id))}),P(1,"i",62),l(2,"span",32),h(3,"Remove"),u()()}}function SA(t,n){if(t&1){let e=R();l(0,"li",52)(1,"div",53),w(2,CA,1,2,"img",54),l(3,"div")(4,"h5",55),h(5),u(),l(6,"small",56),h(7),Re(8,"currency"),u(),P(9,"br"),u()(),l(10,"div")(11,"button",57),D("click",function(){let i=M(e).$implicit,o=y(3);return T(o.addToCart(i.id))}),P(12,"i",58),l(13,"span",32),h(14,"Cart"),u()(),w(15,_A,4,0,"button",59),u()()}if(t&2){let e=n.$implicit,r=y(3);f(2),v("ngIf",e.thumbnailUrl),f(3),L(e.name),f(2),V("Price: ",Ko(8,4,e.price),""),f(8),v("ngIf",r.hasAdminRole())}}function wA(t,n){if(t&1&&(l(0,"div")(1,"ul",50),w(2,SA,16,6,"li",51),u()()),t&2){let e=y(2);f(2),v("ngForOf",e.products)}}function DA(t,n){if(t&1&&P(0,"img",60),t&2){let e=y().$implicit;Ke("alt",e.name),v("src",e.thumbnailUrl,We)}}function IA(t,n){if(t&1){let e=R();l(0,"button",75),D("click",function(){M(e);let i=y(2).$implicit,o=y(3);return T(o.addToCart(i.id))}),P(1,"i",58),l(2,"span",32),h(3,"Cart"),u()()}}function EA(t,n){if(t&1){let e=R();l(0,"button",76),D("click",function(){M(e);let i=y(2).$implicit,o=y(3);return T(o.removeProduct(i.id))}),P(1,"i",62),l(2,"span",32),h(3,"Remove"),u()()}}function xA(t,n){if(t&1&&(l(0,"div",72),w(1,IA,4,0,"button",73)(2,EA,4,0,"button",74),u()),t&2){let e=y(4);f(),v("ngIf",e.hasUserRole()),f(),v("ngIf",e.hasAdminRole())}}function MA(t,n){if(t&1&&(l(0,"div",65)(1,"div",66)(2,"a",67),w(3,DA,1,2,"img",54),u(),l(4,"div",68)(5,"h5",69),h(6),u(),l(7,"p",70),h(8),Re(9,"currency"),u(),w(10,xA,3,2,"div",71),u()()()),t&2){let e=n.$implicit,r=y(3);f(2),v("routerLink",en(7,Dp,"/product-details/"+e.id)),f(),v("ngIf",e.thumbnailUrl),f(3),L(e.name),f(2),V("Price: ",Ko(9,5,e.price),""),f(2),v("ngIf",r.isAuthenticated)}}function TA(t,n){if(t&1&&(l(0,"div",63),w(1,MA,11,9,"div",64),u()),t&2){let e=y(2);f(),v("ngForOf",e.products)}}function PA(t,n){if(t&1&&P(0,"img",60),t&2){let e=y().$implicit;Ke("alt",e.name),v("src",e.thumbnailUrl,We)}}function AA(t,n){if(t&1){let e=R();l(0,"button",75),D("click",function(){M(e);let i=y(2).$implicit,o=y(3);return T(o.addToCart(i.id))}),P(1,"i",58),l(2,"span",32),h(3,"Cart"),u()()}}function kA(t,n){if(t&1){let e=R();l(0,"button",76),D("click",function(){M(e);let i=y(2).$implicit,o=y(3);return T(o.removeProduct(i.id))}),P(1,"i",62),l(2,"span",32),h(3,"Remove"),u()()}}function OA(t,n){if(t&1&&(l(0,"div",42)(1,"h5",69),h(2),u(),l(3,"p",70),h(4),Re(5,"currency"),u(),w(6,AA,4,0,"button",73)(7,kA,4,0,"button",74),u()),t&2){let e=y().$implicit,r=y(3);f(2),L(e.name),f(2),V("Price: ",Ko(5,4,e.price),""),f(2),v("ngIf",r.isAuthenticated&&r.hasUserRole()),f(),v("ngIf",r.hasAdminRole())}}function RA(t,n){if(t&1&&(l(0,"div",65)(1,"div",66)(2,"a",67),w(3,PA,1,2,"img",54),u(),w(4,OA,8,6,"div",77),u()()),t&2){let e=n.$implicit,r=y(3);f(2),v("routerLink",en(3,Dp,"/product-details/"+e.id)),f(),v("ngIf",e.thumbnailUrl),f(),v("ngIf",r.isAuthenticated)}}function NA(t,n){if(t&1&&(l(0,"div",63),w(1,RA,5,5,"div",64),u()),t&2){let e=y(2);f(),v("ngForOf",e.products)}}function FA(t,n){if(t&1&&P(0,"img",60),t&2){let e=y().$implicit;Ke("alt",e.name),v("src",e.thumbnailUrl,We)}}function LA(t,n){if(t&1){let e=R();l(0,"button",75),D("click",function(){M(e);let i=y().$implicit,o=y(3);return T(o.addToCart(i.id))}),P(1,"i",58),l(2,"span",32),h(3,"Cart"),u()()}}function VA(t,n){if(t&1){let e=R();l(0,"button",76),D("click",function(){M(e);let i=y().$implicit,o=y(3);return T(o.removeProduct(i.id))}),P(1,"i",62),l(2,"span",32),h(3,"Remove"),u()()}}function jA(t,n){if(t&1&&(l(0,"div",79)(1,"div",66)(2,"a",67),w(3,FA,1,2,"img",54),u(),l(4,"div",42)(5,"h5",69),h(6),u(),l(7,"p",70),h(8),Re(9,"currency"),u(),w(10,LA,4,0,"button",73)(11,VA,4,0,"button",74),u()()()),t&2){let e=n.$implicit,r=y(3);f(2),v("routerLink",en(8,Dp,"/product-details/"+e.id)),f(),v("ngIf",e.thumbnailUrl),f(3),L(e.name),f(2),V("Price: ",Ko(9,6,e.price),""),f(2),v("ngIf",r.isAuthenticated&&r.hasUserRole()),f(),v("ngIf",r.isAuthenticated&&r.hasAdminRole())}}function UA(t,n){if(t&1&&(l(0,"div",63),w(1,jA,12,10,"div",78),u()),t&2){let e=y(2);f(),v("ngForOf",e.products)}}function BA(t,n){if(t&1&&(l(0,"div"),w(1,bA,3,0,"div",45),dt(2,46),w(3,wA,3,1,"div",47)(4,TA,2,1,"div",48)(5,NA,2,1,"div",48)(6,UA,2,1,"div",48),ft(),u()),t&2){let e=y();f(),v("ngIf",e.orderSuccess),f(),v("ngSwitch",e.currentView),f(),v("ngSwitchCase","list"),f(),v("ngSwitchCase","grid"),f(),v("ngSwitchCase","three-column"),f(),v("ngSwitchCase","five-column")}}var Vl=class t{constructor(n){this.router=n}oidcSecurityService=g(me);productService=g(Un);cartService=g(Bn);categoryService=g(kt);isAuthenticated=!1;products=[];orderSuccess=!1;errorMessage="";successMessage="";userRoles=[];currentPage=1;totalPages=1;userId="";selectedSubcategory="";categories=[];searchTerm="";animatedMessage=null;pageSize=10;itemsPerPageOptions=[5,10,15,20];sortField="name";sortDir="ASC";productPage;currentView="grid";pageNumbers=[];ngOnInit(){this.router.events.pipe(lt(n=>n instanceof sn)).subscribe(()=>{this.checkAndUpdateProductsState()}),this.checkAndUpdateProductsState(),this.oidcSecurityService.isAuthenticated$.subscribe(({isAuthenticated:n})=>{console.log("User isAuthenticated: ",n),this.isAuthenticated=n,n&&(this.loadRoles(),this.loadUserId()),this.loadCategories()})}checkAndUpdateProductsState(){let e=this.router.getCurrentNavigation()?.extras.state||history.state;e&&"products"in e?(console.log("Received products state:",e.products),this.products=e.products||[],this.selectedSubcategory=e.categoryId):(console.log("No products state found, loading from backend."),this.loadProducts(this.currentPage,this.pageSize,this.sortField,this.sortDir)),console.log("Final products in the component:",this.products)}loadRoles(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);e&&e.realm_access&&(this.userRoles=e.realm_access.roles||[])})}loadProducts(n,e=this.pageSize,r=this.sortField,i=this.sortDir,o=this.selectedSubcategory,s=this.searchTerm){this.productService.getProducts(n-1,e,r,i,o,s).subscribe(a=>{this.productPage=a,this.products=a.content,this.currentPage=a.number+1,this.totalPages=a.totalPages,this.pageNumbers=Array.from({length:this.totalPages},(c,d)=>d+1)},a=>{console.error("Error loading products",a)})}setView(n){this.currentView=n}onItemsPerPageChange(n){this.pageSize=n,this.currentPage=1,this.loadProducts(this.currentPage,this.pageSize)}onCategoryChange(n){this.selectedSubcategory=n,this.currentPage=1,this.loadProducts(this.currentPage,this.pageSize,this.sortField,this.sortDir,this.selectedSubcategory)}decodeToken(n){try{let r=n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(r).split("").map(o=>`%${("00"+o.charCodeAt(0).toString(16)).slice(-2)}`).join(""));return JSON.parse(i)}catch(e){return console.error("Failed to decode token:",e),null}}goToCreateProductPage(){this.router.navigateByUrl("/add-product")}removeProduct(n){n?this.productService.removeProduct(n).subscribe({next:()=>{this.products=this.products.filter(e=>e.id!==n)},error:e=>{this.errorMessage="You do not have the rights to remove products."}}):this.errorMessage="Product ID is missing"}hasAdminRole(){return this.userRoles.includes("ROLE_ADMIN")}hasUserRole(){return this.userRoles.includes("ROLE_USER")}addToCart(n){if(!this.userId||!n){this.errorMessage="Please provide a valid user ID, product ID";return}this.cartService.addToCart(this.userId,n).subscribe(e=>{this.successMessage="Product added to cart successfully!",this.errorMessage="";let r=e.totalPrice||0,i=e.cartItems?.reduce((o,s)=>o+s.quantity,0);this.cartService.updateCartPrice(r),this.cartService.updateCartQuantity(i)},e=>{this.errorMessage="Failed to add product to cart."})}loadUserId(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);e&&e.sub&&(this.userId=e.sub)})}loadCategories(){this.categoryService.getCategories().subscribe(n=>{this.categories=n.filter(e=>e.isMain===!0)},n=>{console.error("Error loading categories",n)})}onSearch(){this.loadProducts(1,this.pageSize,this.sortField,this.sortDir,this.selectedSubcategory,this.searchTerm)}static \u0275fac=function(e){return new(e||t)(I(ae))};static \u0275cmp=Q({type:t,selectors:[["app-homepage"]],standalone:!0,features:[J],decls:51,vars:19,consts:[[1,"container","my-5"],["class","alert animate__animated animate__fadeIn","role","alert","style","transition: opacity 0.5s; opacity: 1;",3,"ngClass",4,"ngIf"],[1,"mb-4"],["type","text","placeholder","Search for products...",1,"form-control","animate__animated","animate__fadeIn",2,"background-color","white","color","black","border","1px solid black","transition","border-color 0.3s ease",3,"ngModelChange","ngModel"],[1,"btn","mt-2","animate__animated","animate__fadeIn",2,"background-color","white","color","black","border","1px solid black","transition","background-color 0.3s ease",3,"click"],[1,"d-flex","justify-content-end","mb-4"],["class","btn me-2 animate__animated animate__fadeIn","style","background-color: black; color: white; border: 1px solid white; transition: background-color 0.3s ease;",3,"click",4,"ngIf"],[1,"row","g-3"],["class","col-6 col-md-2","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],["title","List View",1,"badge","badge-custom",3,"click"],[1,"bi","bi-list"],["title","3 Column View",1,"badge","badge-custom",3,"click"],[1,"bi-grid-fill"],["title","5 Column View",1,"badge","badge-custom",3,"click"],[1,"bi","bi-grid-3x3-gap"],[1,"row","mb-4"],[1,"col-md-4","mb-3"],["for","itemsPerPage",1,"form-label"],["id","itemsPerPage",1,"form-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","sortBy",1,"form-label"],["id","sortBy",1,"form-select",3,"ngModelChange","change","ngModel"],["value","name"],["value","price"],["for","sortDir",1,"form-label"],["id","sortDir",1,"form-select",3,"ngModelChange","change","ngModel"],["value","ASC"],["value","DESC"],[4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","mt-4"],[1,"btn","btn-pagination","me-2",3,"click","disabled"],[1,"badge","bg-light","text-dark"],[1,"mx-2"],[1,"btn","btn-pagination","ms-2",3,"click","disabled"],["role","alert",1,"alert","animate__animated","animate__fadeIn",2,"transition","opacity 0.5s","opacity","1",3,"ngClass"],[1,"btn","me-2","animate__animated","animate__fadeIn",2,"background-color","black","color","white","border","1px solid white","transition","background-color 0.3s ease",3,"click"],[1,"bi","bi-plus-circle"],[1,"badge","bg-dark","text-white"],[1,"col-6","col-md-2",2,"cursor","pointer",3,"click"],[1,"card","h-100","rounded","shadow-sm","animate__animated","animate__fadeIn",2,"transition","transform 0.3s"],[1,"card-img-top",2,"object-fit","contain",3,"src","alt"],[1,"card-body"],[1,"card-title"],[3,"value"],["class","mb-4",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","row g-4",4,"ngSwitchCase"],[1,"text-success","text-center"],[1,"list-group","mb-4"],["class","list-group-item d-flex justify-content-between align-items-center border border-2 rounded shadow-sm animate__animated animate__fadeIn",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center","border","border-2","rounded","shadow-sm","animate__animated","animate__fadeIn"],[1,"d-flex","align-items-center"],["class","img-thumbnail","style","width: 100%; height: 150px; object-fit: contain;",3,"src","alt",4,"ngIf"],[1,"mb-1","text-info"],[1,"text-muted"],[1,"btn","btn-outline-primary","me-2","animate__animated","animate__fadeIn",3,"click"],[1,"bi","bi-cart"],["class","btn btn-outline-danger animate__animated animate__fadeIn",3,"click",4,"ngIf"],[1,"img-thumbnail",2,"width","100%","height","150px","object-fit","contain",3,"src","alt"],[1,"btn","btn-outline-danger","animate__animated","animate__fadeIn",3,"click"],[1,"bi","bi-trash"],[1,"row","g-4"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"card","h-100","rounded","shadow-sm","animate__animated","animate__fadeIn"],[2,"text-decoration","none",3,"routerLink"],[1,"card-body","d-flex","flex-column"],[1,"card-title","text-info"],[1,"card-text"],["class","mt-auto",4,"ngIf"],[1,"mt-auto"],["class","btn btn-outline-primary mt-2 animate__animated animate__fadeIn",3,"click",4,"ngIf"],["class","btn btn-outline-danger mt-2 animate__animated animate__fadeIn",3,"click",4,"ngIf"],[1,"btn","btn-outline-primary","mt-2","animate__animated","animate__fadeIn",3,"click"],[1,"btn","btn-outline-danger","mt-2","animate__animated","animate__fadeIn",3,"click"],["class","card-body",4,"ngIf"],["class","col-md-2",4,"ngFor","ngForOf"],[1,"col-md-2"]],template:function(e,r){e&1&&(l(0,"main",0),w(1,gA,4,6,"div",1),l(2,"div",2)(3,"input",3),z("ngModelChange",function(o){return q(r.searchTerm,o)||(r.searchTerm=o),o}),u(),l(4,"button",4),D("click",function(){return r.onSearch()}),h(5,"Search"),u()(),l(6,"div",5),w(7,mA,4,0,"button",6),u(),l(8,"section",2)(9,"div",7),w(10,vA,6,3,"div",8),u()(),l(11,"div",9)(12,"div")(13,"span",10),D("click",function(){return r.setView("list")}),P(14,"i",11),u(),l(15,"span",12),D("click",function(){return r.setView("three-column")}),P(16,"i",13),u(),l(17,"span",14),D("click",function(){return r.setView("five-column")}),P(18,"i",15),u()()(),l(19,"div",16)(20,"div",17)(21,"label",18),h(22,"Items per page:"),u(),l(23,"select",19),z("ngModelChange",function(o){return q(r.pageSize,o)||(r.pageSize=o),o}),D("change",function(){return r.onItemsPerPageChange(r.pageSize)}),w(24,yA,2,2,"option",20),u()(),l(25,"div",17)(26,"label",21),h(27,"Sort by:"),u(),l(28,"select",22),z("ngModelChange",function(o){return q(r.sortField,o)||(r.sortField=o),o}),D("change",function(){return r.loadProducts(r.currentPage,r.pageSize,r.sortField,r.sortDir,r.selectedSubcategory)}),l(29,"option",23),h(30,"Name"),u(),l(31,"option",24),h(32,"Price"),u()()(),l(33,"div",17)(34,"label",25),h(35,"Sort direction:"),u(),l(36,"select",26),z("ngModelChange",function(o){return q(r.sortDir,o)||(r.sortDir=o),o}),D("change",function(){return r.loadProducts(r.currentPage,r.pageSize,r.sortField,r.sortDir,r.selectedSubcategory)}),l(37,"option",27),h(38,"Ascending"),u(),l(39,"option",28),h(40,"Descending"),u()()()(),w(41,BA,7,6,"div",29),l(42,"div",30)(43,"button",31),D("click",function(){return r.loadProducts(r.currentPage-1,r.pageSize,r.sortField,r.sortDir,r.selectedSubcategory)}),l(44,"span",32),h(45,"<"),u()(),l(46,"span",33),h(47),u(),l(48,"button",34),D("click",function(){return r.loadProducts(r.currentPage+1,r.pageSize,r.sortField,r.sortDir,r.selectedSubcategory)}),l(49,"span",32),h(50,">"),u()()()()),e&2&&(f(),v("ngIf",r.animatedMessage),f(2),H("ngModel",r.searchTerm),f(4),v("ngIf",r.isAuthenticated&&r.hasAdminRole()),f(3),v("ngForOf",r.categories),f(3),rr("active",r.currentView==="list"),f(2),rr("active",r.currentView==="three-column"),f(2),rr("active",r.currentView==="five-column"),f(6),H("ngModel",r.pageSize),f(),v("ngForOf",r.itemsPerPageOptions),f(4),H("ngModel",r.sortField),f(8),H("ngModel",r.sortDir),f(5),v("ngIf",r.products.length>0),f(2),v("disabled",r.currentPage===1),f(4),Xt("Page ",r.currentPage," of ",r.totalPages,""),f(),v("disabled",r.currentPage===r.totalPages))},dependencies:[ze,Ot,Rt,Ve,mt,Oe,qe,X,it,Ie,ce,th,iy,sy,Mt,Fn],styles:["[_ngcontent-%COMP%]:root{--primary-color: #333;--secondary-color: #999;--bg-light-color: #f9f9f9;--hover-color: #555}.alert[_ngcontent-%COMP%]{font-size:1.2rem;padding:15px;border-radius:8px;border:1px solid var(--secondary-color);background-color:var(--bg-light-color);color:var(--primary-color);box-shadow:0 4px 12px #00000026;margin-bottom:1rem;transition:opacity .5s ease-out}.list-view[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%], .grid-view[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px;background-color:#fff;transition:transform .3s,box-shadow .3s}.grid-view[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px}.view-toggle-button[_ngcontent-%COMP%], .btn-outline-primary[_ngcontent-%COMP%], .btn-outline-danger[_ngcontent-%COMP%]{padding:10px 20px;border:2px solid var(--primary-color);border-radius:25px;font-size:16px;font-weight:500;color:var(--primary-color);background-color:#fff;cursor:pointer;margin-right:10px;transition:background-color .3s,color .3s}.view-toggle-button[_ngcontent-%COMP%]:hover, .view-toggle-button.active[_ngcontent-%COMP%], .btn-outline-primary[_ngcontent-%COMP%]:hover, .btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);color:#fff}.btn-outline-primary[_ngcontent-%COMP%]{border-color:var(--primary-color)}.btn-outline-danger[_ngcontent-%COMP%]{border-color:var(--secondary-color);color:var(--secondary-color)}.category-card[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{height:300px;border-radius:10px;overflow:hidden;transition:transform .2s,box-shadow .3s ease;box-shadow:0 2px 6px #0000001a}.category-card[_ngcontent-%COMP%]:hover, .card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 10px #00000026}img[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:cover}input[type=number][_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;padding:5px;transition:border-color .3s}input[type=number][_ngcontent-%COMP%]:focus{border-color:var(--primary-color);outline:none}.badge-custom[_ngcontent-%COMP%]{cursor:pointer;padding:5px 15px;border-radius:50px;background-color:#fff;border:1px solid var(--primary-color);color:var(--primary-color);transition:background-color .3s,color .3s}.badge-custom.active[_ngcontent-%COMP%], .badge-custom[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);color:#fff}.btn-pagination[_ngcontent-%COMP%]{background-color:#fff;border:1px solid var(--primary-color);color:var(--primary-color);font-size:1.2rem;border-radius:50%;width:40px;height:40px;text-align:center;line-height:40px;cursor:pointer}.btn-pagination[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);color:#fff}"]})};var $A=(t,n)=>({"alert-success":t,"alert-error":n});function HA(t,n){if(t&1){let e=R();l(0,"div",28)(1,"div",29)(2,"strong"),h(3),u(),h(4),u(),l(5,"button",30),D("click",function(){M(e);let i=y();return T(i.closeMessage())}),h(6," \xD7 "),u()()}if(t&2){let e=y();v("ngClass",tn(3,$A,e.animatedMessage.type==="success",e.animatedMessage.type==="error")),f(3),L(e.animatedMessage.type==="success"?"Success:":"Error:"),f(),V(" ",e.animatedMessage.text," ")}}function zA(t,n){t&1&&(l(0,"div",31),h(1," SKU Code is required and must be at least 3 characters long. "),u())}function WA(t,n){t&1&&(l(0,"div",31),h(1," Name is required and must be at least 3 characters long. "),u())}function GA(t,n){t&1&&(l(0,"div",31),h(1," Description is required and must be at least 10 characters long. "),u())}function qA(t,n){t&1&&(l(0,"div",31),h(1," Price must be a valid number greater than 0. "),u())}function KA(t,n){if(t&1&&(l(0,"option",32),h(1),u()),t&2){let e=n.$implicit;v("value",e.id),f(),L(e.name)}}function ZA(t,n){if(t&1&&(l(0,"option",32),h(1),u()),t&2){let e=n.$implicit;v("value",e.id),f(),L(e.name)}}function QA(t,n){if(t&1){let e=R();l(0,"div",4)(1,"label",33),h(2),u(),l(3,"select",34),D("change",function(){let i=M(e).index,o=y();return T(o.onSubcategoryChange(i))}),l(4,"option",20),h(5,"Select a subcategory"),u(),w(6,ZA,2,2,"option",21),u()()}if(t&2){let e=n.$implicit,r=n.index;f(2),V("Subcategory Level ",r+1,""),f(),Yi("formControlName","subcategoryId",r,""),f(3),v("ngForOf",e.categories)}}function YA(t,n){if(t&1&&(l(0,"div",35),P(1,"img",36),u()),t&2){let e=y();f(),v("src",e.imagePreview,We)}}var jl=class t{constructor(n){this.fb=n;this.addProductForm=this.fb.group({skuCode:["",[Ne.required,Ne.minLength(3)]],name:["",[Ne.required,Ne.minLength(3)]],description:["",[Ne.required,Ne.minLength(10)]],price:[0,[Ne.required,Ne.min(0)]],parentCategoryId:["",Ne.required],subcategoryId:["",Ne.required],isExclusive:[!1]})}addProductForm;productService=g(Un);categoryService=g(kt);errorMessage="";successMessage="";selectedFile=null;animatedMessage=null;imagePreview=null;categories=[];subcategoryLevels=[];globalCategoryId=null;ngOnInit(){this.loadCategories()}loadCategories(){this.categoryService.getCategories().subscribe({next:n=>{this.categories=n.filter(e=>e.isMain),this.categories.length&&this.addProductForm.get("subcategoryId")?.setValue(null)},error:n=>{console.error("Failed to load categories:",n)}})}onParentCategoryChange(){let n=this.addProductForm.get("parentCategoryId")?.value,e=this.categories.find(r=>r.id===n);e&&(this.globalCategoryId=e.id,this.addProductForm.get("subcategoryId")?.setValue(null),this.resetSubcategoryControls(),this.subcategoryLevels=[],this.loadSubcategories(e.subcategories,0))}resetSubcategoryControls(){for(let n=0;n<this.subcategoryLevels.length;n++)this.addProductForm.get(`subcategoryId${n}`)?.setValue(null)}loadSubcategories(n,e){n&&n.length&&(this.subcategoryLevels[e]={categories:n},this.addProductForm.contains(`subcategoryId${e}`)||this.addProductForm.addControl(`subcategoryId${e}`,this.fb.control("",Ne.required)),n.forEach(r=>{"subcategories"in r&&r.subcategories?.length&&this.loadSubcategories(r.subcategories,e+1)}))}onSubcategoryChange(n){let e=this.addProductForm.get(`subcategoryId${n}`)?.value;e&&this.categoryService.getCategoryById(e).subscribe({next:r=>{this.addProductForm.patchValue({parentCategoryId:r.parentCategoryId||e}),n===0&&this.addProductForm.get("subcategoryId")?.setValue(e),r.subcategories?.length?this.subcategoryLevels[n+1]?this.subcategoryLevels[n+1].categories=r.subcategories:(this.subcategoryLevels.push({categories:r.subcategories}),this.addProductForm.addControl(`subcategoryId${n+1}`,this.fb.control("",Ne.required))):this.subcategoryLevels.length=n+1},error:r=>{console.error("Failed to load subcategories:",r)}})}onFileSelected(n){let e=n.target;if(e.files&&e.files.length>0){this.selectedFile=e.files[0];let r=new FileReader;r.onload=()=>{this.imagePreview=r.result},r.readAsDataURL(this.selectedFile)}}onSubmit(){if(console.log(this.addProductForm.value,this.selectedFile),this.addProductForm.valid&&this.selectedFile){let n=new FormData;n.append("skuCode",this.addProductForm.get("skuCode")?.value),n.append("name",this.addProductForm.get("name")?.value),n.append("description",this.addProductForm.get("description")?.value),n.append("price",this.addProductForm.get("price")?.value),n.append("thumbnail",this.selectedFile,this.selectedFile.name),n.append("isExclusive",this.addProductForm.get("isExclusive")?.value);let e=[];e.push(this.globalCategoryId||"");for(let r=0;r<this.subcategoryLevels.length;r++){let i=this.addProductForm.get(`subcategoryId${r}`)?.value;i&&e.push(i)}n.append("categories",JSON.stringify(e)),this.productService.createProduct(n).subscribe({next:()=>this.showMessage("success","Product Created Successfully!"),error:r=>this.showMessage("error","Product creation failed: "+r.message)})}else this.showMessage("error","Please fill all required fields and select a thumbnail image.")}get skuCode(){return this.addProductForm.get("skuCode")}get name(){return this.addProductForm.get("name")}get description(){return this.addProductForm.get("description")}get price(){return this.addProductForm.get("price")}showMessage(n,e){this.animatedMessage={type:n,text:e},setTimeout(()=>{this.animatedMessage=null},5e3)}closeMessage(){this.animatedMessage=null}get isExclusive(){return this.addProductForm.get("isExclusive")?.value==="true"}static \u0275fac=function(e){return new(e||t)(I(wo))};static \u0275cmp=Q({type:t,selectors:[["app-add-product"]],standalone:!0,features:[J],decls:49,vars:9,consts:[[1,"container","mx-auto","p-4"],[1,"text-3xl","font-bold","mb-6","text-center","text-black"],["class","bg-green-100 border border-green-400 text-green-700 px-6 py-4 rounded-md relative mb-6 flex items-center transition ease-in-out duration-500 transform","style","opacity: 1; position: relative;",3,"ngClass",4,"ngIf"],[1,"bg-white","p-6","rounded-lg","shadow-md",3,"ngSubmit","formGroup"],[1,"mb-4"],["for","skuCode",1,"block","text-black","text-sm","font-bold","mb-2"],["id","skuCode","formControlName","skuCode","type","text","placeholder","Enter SKU code",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["class","text-red-500 text-sm",4,"ngIf"],["for","name",1,"block","text-black","text-sm","font-bold","mb-2"],["id","name","formControlName","name","type","text","placeholder","Enter product name",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["for","description",1,"block","text-black","text-sm","font-bold","mb-2"],["id","description","formControlName","description","placeholder","Enter product description",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["for","price",1,"block","text-black","text-sm","font-bold","mb-2"],["id","price","formControlName","price","type","number","placeholder","Enter price",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["for","isExclusive",1,"block","text-black","text-sm","font-bold","mb-2"],["id","isExclusive","formControlName","isExclusive",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["value","false"],["value","true"],["for","parentCategory",1,"block","text-black","text-sm","font-bold","mb-2"],["id","parentCategory","formControlName","parentCategoryId",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"change"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","mb-4",4,"ngFor","ngForOf"],["for","thumbnail",1,"block","text-black","text-sm","font-bold","mb-2"],["id","thumbnail","type","file",3,"change"],["class","mt-4",4,"ngIf"],[1,"flex","justify-center"],["type","submit",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline"],[1,"bg-green-100","border","border-green-400","text-green-700","px-6","py-4","rounded-md","relative","mb-6","flex","items-center","transition","ease-in-out","duration-500","transform",2,"opacity","1","position","relative",3,"ngClass"],[1,"flex-grow","text-left"],["aria-label","Close alert",1,"text-green-700","hover:text-green-900","text-2xl","font-bold","ml-4","focus:outline-none",2,"background","transparent","border","none","cursor","pointer","position","absolute","top","5px","right","10px",3,"click"],[1,"text-red-500","text-sm"],[3,"value"],[1,"block","text-black","text-sm","font-bold","mb-2"],[1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"change","formControlName"],[1,"mt-4"],["alt","Image Preview",1,"max-w-xs",3,"src"]],template:function(e,r){e&1&&(l(0,"div",0)(1,"h2",1),h(2,"Add Product"),u(),w(3,HA,7,6,"div",2),l(4,"form",3),D("ngSubmit",function(){return r.onSubmit()}),l(5,"div",4)(6,"label",5),h(7," SKU Code "),u(),P(8,"input",6),w(9,zA,2,0,"div",7),u(),l(10,"div",4)(11,"label",8),h(12," Product Name "),u(),P(13,"input",9),w(14,WA,2,0,"div",7),u(),l(15,"div",4)(16,"label",10),h(17," Product Description "),u(),P(18,"textarea",11),w(19,GA,2,0,"div",7),u(),l(20,"div",4)(21,"label",12),h(22," Price "),u(),P(23,"input",13),w(24,qA,2,0,"div",7),u(),l(25,"div",4)(26,"label",14),h(27," Exclusive Product "),u(),l(28,"select",15)(29,"option",16),h(30,"No"),u(),l(31,"option",17),h(32,"Yes"),u()()(),l(33,"div",4)(34,"label",18),h(35," Parent Category "),u(),l(36,"select",19),D("change",function(){return r.onParentCategoryChange()}),l(37,"option",20),h(38,"Select a parent category"),u(),w(39,KA,2,2,"option",21),u()(),w(40,QA,7,4,"div",22),l(41,"div",4)(42,"label",23),h(43," Product Thumbnail "),u(),l(44,"input",24),D("change",function(o){return r.onFileSelected(o)}),u(),w(45,YA,2,1,"div",25),u(),l(46,"div",26)(47,"button",27),h(48," Add Product "),u()()()()),e&2&&(f(3),v("ngIf",r.animatedMessage),f(),v("formGroup",r.addProductForm),f(5),v("ngIf",(r.skuCode==null?null:r.skuCode.invalid)&&(r.skuCode==null?null:r.skuCode.touched)),f(5),v("ngIf",(r.name==null?null:r.name.invalid)&&(r.name==null?null:r.name.touched)),f(5),v("ngIf",(r.description==null?null:r.description.invalid)&&(r.description==null?null:r.description.touched)),f(5),v("ngIf",(r.price==null?null:r.price.invalid)&&(r.price==null?null:r.price.touched)),f(15),v("ngForOf",r.categories),f(),v("ngForOf",r.subcategoryLevels),f(5),v("ngIf",r.imagePreview))},dependencies:[Hr,Hn,Ot,Rt,Ve,mi,mt,Oe,$n,vi,yi,X,it,Ie,ce],styles:[".container[_ngcontent-%COMP%]{background-color:#f8f8f8}.alert[_ngcontent-%COMP%]{background-color:#fff}.bg-black[_ngcontent-%COMP%]{background-color:#000}.border-gray-300[_ngcontent-%COMP%]{border-color:#d1d5db}.text-black[_ngcontent-%COMP%]{color:#000}.focus\\:ring-gray-400[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #9ca3af40}.hover\\:bg-gray-800[_ngcontent-%COMP%]:hover{background-color:#4b5563}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]})};var zn=class t{constructor(n){this.httpClient=n}orderProduct(n){return this.httpClient.post("http://localhost:9000/api/orders",n).pipe(we(this.handleError))}getOrders(n){return this.httpClient.get(`http://localhost:9000/api/orders?orderNumber=${n}`)}updateOrderStatus(n){return this.httpClient.put(`http://localhost:9000/api/orders/${n.id}`,n,{headers:{"Content-Type":"application/json"}})}deleteOrder(n){return this.httpClient.delete(`http://localhost:9000/api/orders/${n}`)}getOrderById(n){return this.httpClient.get(`http://localhost:9000/api/orders/${n}`)}getOrdersByUserId(n){let e=`http://localhost:9000/api/orders/user/${n}`;return this.httpClient.get(e)}handleError(n){let e="An unexpected error occurred.";return n.error instanceof ErrorEvent?e=`Error: ${n.error.message}`:e=n.error.message||"An unexpected server error occurred.",B(()=>new Error(e))}static \u0275fac=function(e){return new(e||t)(N(Ue))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};function JA(t,n){if(t&1&&(l(0,"div",26)(1,"strong"),h(2,"Error:"),u(),h(3),u()),t&2){let e=y();f(3),V(" ",e.errorMessage," ")}}function XA(t,n){if(t&1){let e=R();l(0,"tr",27),D("click",function(){let i=M(e).$implicit,o=y();return T(o.openOrderDetails(i.id))}),l(1,"td",28),h(2),u(),l(3,"td",29)(4,"span",30),h(5),u()(),l(6,"td",31),h(7),u(),l(8,"td",31),h(9),Re(10,"number"),u(),l(11,"td",31),h(12),Re(13,"date"),u(),l(14,"td",32)(15,"select",33),z("ngModelChange",function(i){let o=M(e).$implicit;return q(o.newStatus,i)||(o.newStatus=i),T(i)}),D("click",function(i){return M(e),T(i.stopPropagation())}),l(16,"option",11),h(17,"NEW"),u(),l(18,"option",11),h(19,"PAID"),u(),l(20,"option",13),h(21,"DELIVERED"),u(),l(22,"option",14),h(23,"CANCELLED"),u()(),l(24,"button",34),D("click",function(i){let o=M(e).$implicit,s=y();return i.stopPropagation(),T(s.updateOrderStatus(o))}),h(25,"Update"),u(),l(26,"button",35),D("click",function(i){let o=M(e).$implicit,s=y();return i.stopPropagation(),T(s.deleteOrder(o.id))}),h(27,"Delete"),u()()()}if(t&2){let e=n.$implicit,r=y();f(2),V("#",e.orderNumber,""),f(2),v("ngClass",r.statusClasses(e.status)),f(),V(" ",e.status," "),f(2),L(e.quantity),f(2),V("$",Ze(10,7,e.totalAmount,"1.2-2"),""),f(3),L(Ze(13,10,e.orderedAt,"short")),f(3),H("ngModel",e.newStatus)}}function ek(t,n){if(t&1){let e=R();l(0,"div",36)(1,"button",37),D("click",function(){M(e);let i=y();return T(i.prevPage())}),h(2,"\u2039"),u(),l(3,"span",38),h(4),u(),l(5,"button",37),D("click",function(){M(e);let i=y();return T(i.nextPage())}),h(6,"\u203A"),u()()}if(t&2){let e=y();f(),v("disabled",e.currentPage===1),f(3),Xt("Page ",e.currentPage," of ",e.totalPages,""),f(),v("disabled",e.currentPage===e.totalPages)}}function tk(t,n){t&1&&(l(0,"p",39),h(1,"No orders found."),u())}var Ul=class t{orders=[];errorMessage="";selectedStatus="";filteredOrders=[];paginatedOrders=[];currentPage=1;pageSize=5;totalPages=1;startDate;endDate;orderNumber="";orderService=g(zn);router=g(ae);ngOnInit(){this.loadOrders()}loadOrders(){this.orderService.getOrders(this.orderNumber).subscribe({next:n=>{this.orders=n,this.filterOrders()},error:n=>{this.errorMessage="Failed to load orders. Please try again later.",console.error("Error fetching orders:",n)}})}searchOrderNumber(){this.orderNumber.trim()?this.loadOrders():this.errorMessage="Order number not found"}updateOrderStatus(n){let e=W(x({},n),{status:n.newStatus});this.orderService.updateOrderStatus(e).subscribe({next:()=>{alert("Order status updated successfully");let r=this.orders.findIndex(i=>i.id===e.id);r>-1&&(this.orders[r].status=e.status),this.filterOrders()},error:r=>{console.error("Failed to update order status:",r),this.errorMessage="Failed to update order status."}})}deleteOrder(n){this.orderService.deleteOrder(n).subscribe({next:()=>{this.orders=this.orders.filter(e=>e.id!==n),this.filterOrders(),alert("Order deleted successfully")},error:e=>{console.error("Failed to delete order:",e),this.errorMessage="Failed to delete order."}})}filterOrders(){if(this.filteredOrders=this.orders,this.selectedStatus&&(this.filteredOrders=this.filteredOrders.filter(n=>n.status===this.selectedStatus)),this.startDate&&this.endDate){let n=new Date(this.startDate).getTime(),e=new Date(this.endDate).getTime();this.filteredOrders=this.filteredOrders.filter(r=>{let i=new Date(r.orderedAt).getTime();return i>=n&&i<=e})}this.paginateOrders()}paginateOrders(){let n=(this.currentPage-1)*this.pageSize,e=n+this.pageSize;this.paginatedOrders=this.filteredOrders.slice(n,e),this.totalPages=Math.ceil(this.filteredOrders.length/this.pageSize)}prevPage(){this.currentPage>1&&(this.currentPage--,this.paginateOrders())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.paginateOrders())}openOrderDetails(n){this.router.navigate(["/order-details",n])}statusClasses(n){return{"bg-green-600 text-white":n==="DELIVERED","bg-green-600 text-blue":n==="PAID","bg-yellow-500 text-white":n==="NEW","bg-red-500 text-white":n==="CANCELLED"}}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Q({type:t,selectors:[["app-order-list"]],standalone:!0,features:[J],decls:52,vars:8,consts:[[1,"container","mx-auto","p-6","bg-white","rounded-lg","shadow-lg"],[1,"text-3xl","font-bold","mb-4","text-black","text-center"],["class","bg-red-100 text-red-600 border border-red-200 p-3 rounded mb-6 text-center",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-4","gap-4","mb-6"],[1,"flex","flex-col"],["for","orderNumber",1,"text-lg","font-medium","text-black","mb-1"],["type","text","id","orderNumber","placeholder","Enter order number",1,"form-input",3,"ngModelChange","ngModel"],[1,"btn-search","mt-2",3,"click"],["for","statusFilter",1,"text-lg","font-medium","text-black","mb-1"],["id","statusFilter",1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],["value","NEW"],["value","PAID"],["value","DELIVERED"],["value","CANCELLED"],["for","startDate",1,"text-lg","font-medium","text-black","mb-1"],["type","date","id","startDate",1,"form-input",3,"ngModelChange","change","ngModel"],["for","endDate",1,"text-lg","font-medium","text-black","mb-1"],["type","date","id","endDate",1,"form-input",3,"ngModelChange","change","ngModel"],[1,"overflow-x-auto"],[1,"min-w-full","table-auto","border-collapse","bg-white","rounded-lg","shadow-lg"],[1,"bg-gray-200","text-left"],[1,"p-4","font-medium","text-black"],["class","hover:bg-gray-50 transition-colors cursor-pointer",3,"click",4,"ngFor","ngForOf"],["class","flex justify-center mt-6",4,"ngIf"],["class","text-gray-400 text-center mt-4",4,"ngIf"],[1,"bg-red-100","text-red-600","border","border-red-200","p-3","rounded","mb-6","text-center"],[1,"hover:bg-gray-50","transition-colors","cursor-pointer",3,"click"],[1,"p-4","text-gray-800","font-semibold"],[1,"p-4"],[1,"status-badge",3,"ngClass"],[1,"p-4","text-gray-600"],[1,"p-4","flex","space-x-2"],[1,"form-select",3,"ngModelChange","click","ngModel"],[1,"btn-update",3,"click"],[1,"btn-delete","ml-2",3,"click"],[1,"flex","justify-center","mt-6"],[1,"btn-pagination",3,"click","disabled"],[1,"mx-2","text-black"],[1,"text-gray-400","text-center","mt-4"]],template:function(e,r){e&1&&(l(0,"div",0)(1,"h2",1),h(2,"Your Orders"),u(),w(3,JA,4,1,"div",2),l(4,"div",3)(5,"div",4)(6,"label",5),h(7,"Search by Order Number"),u(),l(8,"input",6),z("ngModelChange",function(o){return q(r.orderNumber,o)||(r.orderNumber=o),o}),u(),l(9,"button",7),D("click",function(){return r.searchOrderNumber()}),h(10,"Search"),u()(),l(11,"div",4)(12,"label",8),h(13,"Status"),u(),l(14,"select",9),z("ngModelChange",function(o){return q(r.selectedStatus,o)||(r.selectedStatus=o),o}),D("change",function(){return r.filterOrders()}),l(15,"option",10),h(16,"All"),u(),l(17,"option",11),h(18,"NEW"),u(),l(19,"option",12),h(20,"PAID"),u(),l(21,"option",13),h(22,"DELIVERED"),u(),l(23,"option",14),h(24,"CANCELLED"),u()()(),l(25,"div",4)(26,"label",15),h(27,"Start Date"),u(),l(28,"input",16),z("ngModelChange",function(o){return q(r.startDate,o)||(r.startDate=o),o}),D("change",function(){return r.filterOrders()}),u()(),l(29,"div",4)(30,"label",17),h(31,"End Date"),u(),l(32,"input",18),z("ngModelChange",function(o){return q(r.endDate,o)||(r.endDate=o),o}),D("change",function(){return r.filterOrders()}),u()()(),l(33,"div",19)(34,"table",20)(35,"thead")(36,"tr",21)(37,"th",22),h(38,"Order #"),u(),l(39,"th",22),h(40,"Status"),u(),l(41,"th",22),h(42,"Items"),u(),l(43,"th",22),h(44,"Total"),u(),l(45,"th",22),h(46,"Ordered At"),u(),P(47,"th",22),u()(),l(48,"tbody"),w(49,XA,28,13,"tr",23),u()()(),w(50,ek,7,4,"div",24)(51,tk,2,0,"p",25),u()),e&2&&(f(3),v("ngIf",r.errorMessage),f(5),H("ngModel",r.orderNumber),f(6),H("ngModel",r.selectedStatus),f(14),H("ngModel",r.startDate),f(4),H("ngModel",r.endDate),f(17),v("ngForOf",r.paginatedOrders),f(),v("ngIf",r.filteredOrders.length>0),f(),v("ngIf",r.filteredOrders.length===0))},dependencies:[X,it,Ie,ce,no,kn,ze,Ot,Rt,Ve,mt,Oe,qe],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;background-color:#fff;border-radius:8px;padding:24px}.text-black[_ngcontent-%COMP%]{color:#000}.text-gray-600[_ngcontent-%COMP%]{color:#4a5568}.text-gray-400[_ngcontent-%COMP%]{color:#a0aec0}.table-auto[_ngcontent-%COMP%]{width:100%;border-spacing:0}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border-bottom:1px solid #e2e8f0}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:16px}.form-select[_ngcontent-%COMP%], .form-input[_ngcontent-%COMP%]{border:1px solid #e2e8f0;padding:10px;border-radius:4px;transition:border-color .2s ease}.form-select[_ngcontent-%COMP%]:focus, .form-input[_ngcontent-%COMP%]:focus{border-color:#f56565;outline:none}.btn-update[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{padding:10px 20px;border-radius:4px;font-weight:500;transition:background-color .3s ease,transform .2s ease}.btn-update[_ngcontent-%COMP%]{background-color:#38a169;color:#fff}.btn-update[_ngcontent-%COMP%]:hover{background-color:#2f855a;transform:scale(1.05)}.btn-delete[_ngcontent-%COMP%]{background-color:#e53e3e;color:#fff}.btn-delete[_ngcontent-%COMP%]:hover{background-color:#c53030;transform:scale(1.05)}.btn-pagination[_ngcontent-%COMP%]{background-color:#fff;color:#fff;padding:8px 16px;border-radius:4px;margin:0 10px;transition:background-color .3s ease,transform .2s ease}.btn-pagination[_ngcontent-%COMP%]:hover{background-color:#c53030;transform:scale(1.05)}.status-badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:9999px;font-size:.875rem;font-weight:600;color:#fff}.bg-green-600[_ngcontent-%COMP%]{background-color:#38a169}.bg-yellow-500[_ngcontent-%COMP%]{background-color:#ecc94b}.bg-red-500[_ngcontent-%COMP%]{background-color:#e53e3e}.grid[_ngcontent-%COMP%]{display:grid}.grid-cols-1[_ngcontent-%COMP%]{grid-template-columns:repeat(1,minmax(0,1fr))}.sm\\:grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}.md\\:grid-cols-4[_ngcontent-%COMP%]{grid-template-columns:repeat(4,minmax(0,1fr))}.gap-4[_ngcontent-%COMP%]{gap:1rem}"]})};var Bl=class t{constructor(n){this.http=n}apiUrl="http://localhost:9000/api/inventory";getAllInventories(){return this.http.get(this.apiUrl)}getBySkuCode(n){return this.http.get(`${this.apiUrl}/${n}`)}updateInventory(n){return this.http.put(`${this.apiUrl}/${n.id}`,n)}createInventory(n){return this.http.post(`${this.apiUrl}`,n)}static \u0275fac=function(e){return new(e||t)(N(Ue))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};var rk=(t,n)=>({"opacity-100":t,"opacity-0":n});function ik(t,n){if(t&1){let e=R();l(0,"div",11)(1,"div")(2,"strong",12),h(3,"Success!"),u(),l(4,"span",13),h(5),u()(),l(6,"button",14),D("click",function(){M(e);let i=y();return T(i.successMessage="")}),ge(),l(7,"svg",15)(8,"title"),h(9,"Close"),u(),P(10,"path",16),u()()()}if(t&2){let e=y();v("ngClass",tn(2,rk,e.successMessage,!e.successMessage)),f(5),L(e.successMessage)}}function ok(t,n){if(t&1){let e=R();l(0,"div",17)(1,"div")(2,"strong",12),h(3,"Error!"),u(),l(4,"span",13),h(5),u()(),l(6,"button",18),D("click",function(){M(e);let i=y();return T(i.errorMessage="")}),ge(),l(7,"svg",15)(8,"title"),h(9,"Close"),u(),P(10,"path",16),u()()()}if(t&2){let e=y();f(5),L(e.errorMessage)}}function sk(t,n){if(t&1){let e=R();l(0,"tr",24)(1,"td",25),P(2,"img",26),u(),l(3,"td",27),h(4),u(),l(5,"td",27),h(6),u(),l(7,"td",25)(8,"input",28),z("ngModelChange",function(i){let o=M(e).$implicit;return q(o.quantity,i)||(o.quantity=i),T(i)}),u()(),l(9,"td",25)(10,"input",29),z("ngModelChange",function(i){let o=M(e).$implicit;return q(o.limit,i)||(o.limit=i),T(i)}),u()(),l(11,"td",30)(12,"button",31),D("click",function(){let i=M(e).$implicit,o=y(2);return T(o.updateInventory(i))}),h(13," Update "),u()()()}if(t&2){let e=n.$implicit;f(2),Ke("alt",e.name),v("src",e.thumbnailUrl,We),f(2),L(e.name),f(2),L(e.skuCode),f(2),H("ngModel",e.quantity),f(2),H("ngModel",e.limit)}}function ak(t,n){if(t&1&&(l(0,"table",19)(1,"thead",20)(2,"tr",21)(3,"th",22),h(4,"Thumbnail"),u(),l(5,"th",22),h(6,"Name"),u(),l(7,"th",22),h(8,"SKU Code"),u(),l(9,"th",22),h(10,"Quantity"),u(),l(11,"th",22),h(12,"Limit"),u(),P(13,"th",22),u()(),l(14,"tbody"),w(15,sk,14,6,"tr",23),u()()),t&2){let e=y();f(15),v("ngForOf",e.inventories)}}function ck(t,n){t&1&&(l(0,"p",32),h(1," No inventories available. "),u())}var $l=class t{constructor(n){this.inventoryService=n}inventories=[];successMessage="";errorMessage="";skuCode="";ngOnInit(){this.loadInventories()}loadInventories(){this.inventoryService.getAllInventories().subscribe(n=>{this.inventories=n,this.errorMessage=""})}searchBySkuCode(){this.skuCode.trim()?this.inventoryService.getBySkuCode(this.skuCode).subscribe(n=>{this.inventories=[n],this.errorMessage=""},n=>{this.inventories=[],this.errorMessage=`No inventory found with SKU code ${this.skuCode}`}):this.loadInventories()}updateInventory(n){let e={id:n.id,skuCode:n.skuCode,name:n.name,thumbnailUrl:n.thumbnailUrl,quantity:n.quantity,limit:n.limit};this.inventoryService.updateInventory(e).subscribe(()=>{this.loadInventories(),this.successMessage="Inventory updated successfully!",setTimeout(()=>{this.successMessage=""},3e3)})}static \u0275fac=function(e){return new(e||t)(I(Bl))};static \u0275cmp=Q({type:t,selectors:[["app-inventory"]],standalone:!0,features:[J],decls:13,vars:5,consts:[[1,"container","mx-auto","p-8","bg-gray-100","min-h-screen"],[1,"bg-white","p-8","rounded-lg","shadow-lg","border","border-gray-300"],[1,"text-4xl","font-extrabold","mb-8","text-center","text-gray-800"],["class","bg-green-100 border border-green-400 text-green-700 px-6 py-4 rounded-md relative mb-6 flex justify-between items-center transition ease-in-out duration-500 transform","role","alert",3,"ngClass",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-md relative mb-6 flex justify-between items-center transition ease-in-out duration-500 transform","role","alert",4,"ngIf"],[1,"flex","justify-center","mb-6"],["type","text","placeholder","Search by SKU Code",1,"border","border-gray-400","rounded-lg","px-4","py-2","w-96","focus:outline-none","focus:ring-2","focus:ring-gray-500","transition-shadow","duration-300",3,"ngModelChange","ngModel"],[1,"ml-4","bg-blue-600","text-white","px-6","py-2","rounded-lg","shadow-md","hover:bg-blue-500","hover:shadow-lg","focus:outline-none","transition-transform","duration-300","transform","hover:scale-105",3,"click"],[1,"overflow-x-auto"],["class","table-auto w-full bg-white border-collapse border border-gray-300 shadow-sm",4,"ngIf"],["class","text-center text-gray-500 mt-8",4,"ngIf"],["role","alert",1,"bg-green-100","border","border-green-400","text-green-700","px-6","py-4","rounded-md","relative","mb-6","flex","justify-between","items-center","transition","ease-in-out","duration-500","transform",3,"ngClass"],[1,"font-bold"],[1,"ml-2"],[1,"text-green-500","hover:text-green-700","focus:outline-none",3,"click"],["role","button","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20",1,"fill-current","h-6","w-6"],["d","M14.348 5.652a1 1 0 00-1.414 0L10 8.586 7.066 5.652a1 1 0 00-1.414 1.414L8.586 10l-2.934 2.934a1 1 0 101.414 1.414L10 11.414l2.934 2.934a1 1 0 001.414-1.414L11.414 10l2.934-2.934a1 1 0 000-1.414z"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-6","py-4","rounded-md","relative","mb-6","flex","justify-between","items-center","transition","ease-in-out","duration-500","transform"],[1,"text-red-500","hover:text-red-700","focus:outline-none",3,"click"],[1,"table-auto","w-full","bg-white","border-collapse","border","border-gray-300","shadow-sm"],[1,"bg-gray-50"],[1,"border-b"],[1,"px-6","py-4","text-left","font-semibold","text-gray-800"],["class","border-b transition-all duration-300 ease-in-out transform hover:scale-105 hover:bg-gray-50 even:bg-gray-100",4,"ngFor","ngForOf"],[1,"border-b","transition-all","duration-300","ease-in-out","transform","hover:scale-105","hover:bg-gray-50","even:bg-gray-100"],[1,"px-6","py-4"],[1,"w-16","h-16","object-cover","rounded-lg","shadow-sm",3,"src","alt"],[1,"px-6","py-4","text-gray-800"],["type","number","placeholder","Quantity",1,"border","border-gray-400","rounded-lg","px-4","py-2","w-24","focus:outline-none","focus:ring-2","focus:ring-gray-500","transition-shadow","duration-300",3,"ngModelChange","ngModel"],["type","number","placeholder","Limit",1,"border","border-gray-400","rounded-lg","px-4","py-2","w-24","focus:outline-none","focus:ring-2","focus:ring-gray-500","transition-shadow","duration-300",3,"ngModelChange","ngModel"],[1,"px-6","py-4","flex","items-center","gap-4"],[1,"bg-blue-600","text-white","px-6","py-2","rounded-lg","shadow-md","hover:bg-blue-500","hover:shadow-lg","focus:outline-none","transition-transform","duration-300","transform","hover:scale-105",3,"click"],[1,"text-center","text-gray-500","mt-8"]],template:function(e,r){e&1&&(l(0,"div",0)(1,"div",1)(2,"h2",2),h(3,"Inventory Management"),u(),w(4,ik,11,5,"div",3)(5,ok,11,1,"div",4),l(6,"div",5)(7,"input",6),z("ngModelChange",function(o){return q(r.skuCode,o)||(r.skuCode=o),o}),u(),l(8,"button",7),D("click",function(){return r.searchBySkuCode()}),h(9," Search "),u()(),l(10,"div",8),w(11,ak,16,1,"table",9),u(),w(12,ck,2,0,"p",10),u()()),e&2&&(f(4),v("ngIf",r.successMessage),f(),v("ngIf",r.errorMessage),f(2),H("ngModel",r.skuCode),f(4),v("ngIf",r.inventories.length>0),f(),v("ngIf",r.inventories.length===0))},dependencies:[ze,Ve,mi,Oe,qe,X,it,Ie,ce],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem;background-color:#f7fafc;min-height:100vh}h2[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;margin-bottom:2rem;text-align:center;color:#2d3748}.table-auto[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background-color:#fff}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:1rem 1.5rem;text-align:left}th[_ngcontent-%COMP%]{font-weight:600;color:#2d3748;background-color:#edf2f7}td[_ngcontent-%COMP%]{color:#4a5568;border-bottom:1px solid #e2e8f0}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f7fafc;transform:scale(1.02)}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f1f5f9}button[_ngcontent-%COMP%]{background-color:#1e3a8a;color:#fff;padding:.5rem 1.5rem;border-radius:.5rem;font-weight:600;transition:all .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#3b82f6;transform:scale(1.05)}button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #3b82f680}input[_ngcontent-%COMP%]{border:1px solid #cbd5e0;border-radius:.5rem;padding:.5rem 1rem;width:6rem;transition:all .3s ease}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4a5568;box-shadow:0 0 0 2px #4a556833}img[_ngcontent-%COMP%]{width:4rem;height:4rem;object-fit:cover;border-radius:.5rem;box-shadow:0 2px 4px #0000001a}.bg-green-100[_ngcontent-%COMP%]{background-color:#d4edda}.text-green-700[_ngcontent-%COMP%]{color:#155724}.bg-green-400[_ngcontent-%COMP%]{background-color:#c3e6cb}button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.alert[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;border-radius:.375rem}.alert[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700}.alert[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;color:inherit;cursor:pointer;font-size:1rem}.alert-transition[_ngcontent-%COMP%]{transition:opacity .5s ease-in-out}.alert[_ngcontent-%COMP%]   .alert-close[_ngcontent-%COMP%]:hover{color:#38a169}"]})};var TC=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Korea, North","Korea, South","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"];var PC=[{country:"Afghanistan",code:"+93"},{country:"Albania",code:"+355"},{country:"Algeria",code:"+213"},{country:"Andorra",code:"+376"},{country:"Angola",code:"+244"},{country:"Argentina",code:"+54"},{country:"Australia",code:"+61"},{country:"Austria",code:"+43"},{country:"Bahamas",code:"+1"},{country:"Bangladesh",code:"+880"},{country:"Barbados",code:"+1"},{country:"Belgium",code:"+32"},{country:"Belize",code:"+501"},{country:"Benin",code:"+229"},{country:"Bolivia",code:"+591"},{country:"Bosnia and Herzegovina",code:"+387"},{country:"Botswana",code:"+267"},{country:"Brazil",code:"+55"},{country:"Brunei",code:"+673"},{country:"Bulgaria",code:"+359"},{country:"Burkina Faso",code:"+226"},{country:"Burundi",code:"+257"},{country:"Cambodia",code:"+855"},{country:"Cameroon",code:"+237"},{country:"Canada",code:"+1"},{country:"Cape Verde",code:"+238"},{country:"Central African Republic",code:"+236"},{country:"Chad",code:"+235"},{country:"Chile",code:"+56"},{country:"China",code:"+86"},{country:"Colombia",code:"+57"},{country:"Comoros",code:"+269"},{country:"Congo",code:"+242"},{country:"Congo, Democratic Republic of the",code:"+243"},{country:"Costa Rica",code:"+506"},{country:"Croatia",code:"+385"},{country:"Cuba",code:"+53"},{country:"Cyprus",code:"+357"},{country:"Czech Republic",code:"+420"},{country:"Denmark",code:"+45"},{country:"Djibouti",code:"+253"},{country:"Dominica",code:"+1"},{country:"Dominican Republic",code:"+1"},{country:"Ecuador",code:"+593"},{country:"Egypt",code:"+20"},{country:"El Salvador",code:"+503"},{country:"Equatorial Guinea",code:"+240"},{country:"Eritrea",code:"+291"},{country:"Estonia",code:"+372"},{country:"Eswatini",code:"+268"},{country:"Ethiopia",code:"+251"},{country:"Fiji",code:"+679"},{country:"Finland",code:"+358"},{country:"France",code:"+33"},{country:"Gabon",code:"+241"},{country:"Gambia",code:"+220"},{country:"Georgia",code:"+995"},{country:"Germany",code:"+49"},{country:"Ghana",code:"+233"},{country:"Greece",code:"+30"},{country:"Grenada",code:"+1"},{country:"Guatemala",code:"+502"},{country:"Guinea",code:"+224"},{country:"Guinea-Bissau",code:"+245"},{country:"Guyana",code:"+592"},{country:"Haiti",code:"+509"},{country:"Honduras",code:"+504"},{country:"Hungary",code:"+36"},{country:"Iceland",code:"+354"},{country:"India",code:"+91"},{country:"Indonesia",code:"+62"},{country:"Iran",code:"+98"},{country:"Iraq",code:"+964"},{country:"Ireland",code:"+353"},{country:"Israel",code:"+972"},{country:"Italy",code:"+39"},{country:"Jamaica",code:"+1"},{country:"Japan",code:"+81"},{country:"Jordan",code:"+962"},{country:"Kazakhstan",code:"+7"},{country:"Kenya",code:"+254"},{country:"Kiribati",code:"+686"},{country:"Korea, North",code:"+850"},{country:"Korea, South",code:"+82"},{country:"Kuwait",code:"+965"},{country:"Kyrgyzstan",code:"+996"},{country:"Laos",code:"+856"},{country:"Latvia",code:"+371"},{country:"Lebanon",code:"+961"},{country:"Lesotho",code:"+266"},{country:"Liberia",code:"+231"},{country:"Libya",code:"+218"},{country:"Liechtenstein",code:"+423"},{country:"Lithuania",code:"+370"},{country:"Luxembourg",code:"+352"},{country:"Madagascar",code:"+261"},{country:"Malawi",code:"+265"},{country:"Malaysia",code:"+60"},{country:"Maldives",code:"+960"},{country:"Mali",code:"+223"},{country:"Malta",code:"+356"},{country:"Marshall Islands",code:"+692"},{country:"Mauritania",code:"+222"},{country:"Mauritius",code:"+230"},{country:"Mexico",code:"+52"},{country:"Micronesia",code:"+691"},{country:"Moldova",code:"+373"},{country:"Monaco",code:"+377"},{country:"Mongolia",code:"+976"},{country:"Montenegro",code:"+382"},{country:"Morocco",code:"+212"},{country:"Mozambique",code:"+258"},{country:"Myanmar",code:"+95"},{country:"Namibia",code:"+264"},{country:"Nauru",code:"+674"},{country:"Nepal",code:"+977"},{country:"Netherlands",code:"+31"},{country:"New Zealand",code:"+64"},{country:"Nicaragua",code:"+505"},{country:"Niger",code:"+227"},{country:"Nigeria",code:"+234"},{country:"North Macedonia",code:"+389"},{country:"Norway",code:"+47"},{country:"Oman",code:"+968"},{country:"Pakistan",code:"+92"},{country:"Palau",code:"+680"},{country:"Panama",code:"+507"},{country:"Papua New Guinea",code:"+675"},{country:"Paraguay",code:"+595"},{country:"Peru",code:"+51"},{country:"Philippines",code:"+63"},{country:"Poland",code:"+48"},{country:"Portugal",code:"+351"},{country:"Qatar",code:"+974"},{country:"Romania",code:"+40"},{country:"Russia",code:"+7"},{country:"Rwanda",code:"+250"},{country:"Saint Kitts and Nevis",code:"+1"},{country:"Saint Lucia",code:"+1"},{country:"Saint Vincent and the Grenadines",code:"+1"},{country:"Samoa",code:"+685"},{country:"San Marino",code:"+378"},{country:"Sao Tome and Principe",code:"+239"},{country:"Saudi Arabia",code:"+966"},{country:"Senegal",code:"+221"},{country:"Serbia",code:"+381"},{country:"Seychelles",code:"+248"},{country:"Sierra Leone",code:"+232"},{country:"Singapore",code:"+65"},{country:"Slovakia",code:"+421"},{country:"Slovenia",code:"+386"},{country:"Solomon Islands",code:"+677"},{country:"Somalia",code:"+252"},{country:"South Africa",code:"+27"},{country:"South Sudan",code:"+211"},{country:"Spain",code:"+34"},{country:"Sri Lanka",code:"+94"},{country:"Sudan",code:"+249"},{country:"Suriname",code:"+597"},{country:"Sweden",code:"+46"},{country:"Switzerland",code:"+41"},{country:"Syria",code:"+963"},{country:"Taiwan",code:"+886"},{country:"Tajikistan",code:"+992"},{country:"Tanzania",code:"+255"},{country:"Thailand",code:"+66"},{country:"Timor-Leste",code:"+670"},{country:"Togo",code:"+228"},{country:"Tonga",code:"+676"},{country:"Trinidad and Tobago",code:"+1"},{country:"Tunisia",code:"+216"},{country:"Turkey",code:"+90"},{country:"Turkmenistan",code:"+993"},{country:"Tuvalu",code:"+688"},{country:"Uganda",code:"+256"},{country:"Ukraine",code:"+380"},{country:"United Arab Emirates",code:"+971"},{country:"United Kingdom",code:"+44"},{country:"United States",code:"+1"},{country:"Uruguay",code:"+598"},{country:"Uzbekistan",code:"+998"},{country:"Vanuatu",code:"+678"},{country:"Vatican City",code:"+39"},{country:"Venezuela",code:"+58"},{country:"Vietnam",code:"+84"},{country:"Yemen",code:"+967"},{country:"Zambia",code:"+260"},{country:"Zimbabwe",code:"+263"}];function lk(t,n){if(t&1&&(l(0,"div",21)(1,"p"),h(2),u()()),t&2){let e=y(2);f(2),L(e.successMessage)}}function uk(t,n){if(t&1&&(l(0,"div",22)(1,"p"),h(2),u()()),t&2){let e=y(2);f(2),L(e.errorMessage)}}function dk(t,n){if(t&1){let e=R();l(0,"li",23)(1,"div",24),P(2,"img",25),l(3,"div",26)(4,"h3",27),h(5),u()()(),l(6,"div",28)(7,"button",29),D("click",function(){let i=M(e).$implicit,o=y(2);return T(o.changeQuantity(i,-1))}),h(8,"-"),u(),l(9,"span",30),h(10),u(),l(11,"button",29),D("click",function(){let i=M(e).$implicit,o=y(2);return T(o.changeQuantity(i,1))}),h(12,"+"),u()(),l(13,"div",31)(14,"p",32),h(15),u(),l(16,"button",33),D("click",function(){let i=M(e).$implicit,o=y(2);return T(o.removeItem(i.product.id))}),h(17," \xD7 "),u()()()}if(t&2){let e=n.$implicit;f(2),Ke("alt",e.product.name),v("src",e.thumbnailUrl,We),f(3),L(e.product.name),f(5),L(e.quantity),f(5),V("$",e.totalPrice.toFixed(2),"")}}function fk(t,n){t&1&&(l(0,"small"),h(1,"Name is required."),u())}function hk(t,n){t&1&&(l(0,"small"),h(1,"Name must be at least 2 characters long."),u())}function pk(t,n){if(t&1&&(l(0,"div",58),w(1,fk,2,0,"small",59)(2,hk,2,0,"small",59),u()),t&2){y();let e=Ge(9);f(),v("ngIf",e.errors==null?null:e.errors.required),f(),v("ngIf",e.errors==null?null:e.errors.minlength)}}function gk(t,n){t&1&&(l(0,"small"),h(1,"Surname is required."),u())}function mk(t,n){t&1&&(l(0,"small"),h(1,"Surname must be at least 2 characters long."),u())}function vk(t,n){if(t&1&&(l(0,"div",58),w(1,gk,2,0,"small",59)(2,mk,2,0,"small",59),u()),t&2){y();let e=Ge(15);f(),v("ngIf",e.errors==null?null:e.errors.required),f(),v("ngIf",e.errors==null?null:e.errors.minlength)}}function yk(t,n){t&1&&(l(0,"small"),h(1,"Email is required."),u())}function bk(t,n){t&1&&(l(0,"small"),h(1,"Please enter a valid email address."),u())}function Ck(t,n){if(t&1&&(l(0,"div",58),w(1,yk,2,0,"small",59)(2,bk,2,0,"small",59),u()),t&2){y();let e=Ge(21);f(),v("ngIf",e.errors==null?null:e.errors.required),f(),v("ngIf",e.errors==null?null:e.errors.email)}}function _k(t,n){if(t&1&&(l(0,"option",60),h(1),u()),t&2){let e=n.$implicit;v("value",e.code),f(),Xt("",e.country," (",e.code,")")}}function Sk(t,n){t&1&&(l(0,"small"),h(1,"Phone number is required."),u())}function wk(t,n){t&1&&(l(0,"small"),h(1,"Phone number must be 9 digits."),u())}function Dk(t,n){if(t&1&&(l(0,"div",58),w(1,Sk,2,0,"small",59)(2,wk,2,0,"small",59),u()),t&2){y();let e=Ge(31);f(),v("ngIf",e.errors==null?null:e.errors.required),f(),v("ngIf",e.errors==null?null:e.errors.pattern)}}function Ik(t,n){if(t&1&&(l(0,"option",60),h(1),u()),t&2){let e=n.$implicit;v("value",e),f(),L(e)}}function Ek(t,n){t&1&&(l(0,"small"),h(1,"City is required."),u())}function xk(t,n){t&1&&(l(0,"small"),h(1,"City must be at least 2 characters long."),u())}function Mk(t,n){if(t&1&&(l(0,"div",58),w(1,Ek,2,0,"small",59)(2,xk,2,0,"small",59),u()),t&2){y();let e=Ge(42);f(),v("ngIf",e.errors==null?null:e.errors.required),f(),v("ngIf",e.errors==null?null:e.errors.minlength)}}function Tk(t,n){t&1&&(l(0,"small"),h(1,"Street is required."),u())}function Pk(t,n){t&1&&(l(0,"small"),h(1,"Street must be at least 3 characters long."),u())}function Ak(t,n){if(t&1&&(l(0,"div",58),w(1,Tk,2,0,"small",59)(2,Pk,2,0,"small",59),u()),t&2){y();let e=Ge(48);f(),v("ngIf",e.errors==null?null:e.errors.required),f(),v("ngIf",e.errors==null?null:e.errors.minlength)}}function kk(t,n){if(t&1){let e=R();l(0,"div",34)(1,"h3",35),h(2,"Enter Your Details"),u(),l(3,"form",36,1),D("ngSubmit",function(){M(e);let i=Ge(4),o=y(2);return T(o.confirmOrder(i))}),l(5,"div",37)(6,"label",38),h(7,"Name"),u(),l(8,"input",39,2),z("ngModelChange",function(i){M(e);let o=y(2);return q(o.checkoutDetails.name,i)||(o.checkoutDetails.name=i),T(i)}),u(),w(10,pk,3,2,"div",40),u(),l(11,"div",37)(12,"label",41),h(13,"Surname"),u(),l(14,"input",42,3),z("ngModelChange",function(i){M(e);let o=y(2);return q(o.checkoutDetails.surname,i)||(o.checkoutDetails.surname=i),T(i)}),u(),w(16,vk,3,2,"div",40),u(),l(17,"div",37)(18,"label",43),h(19,"Email"),u(),l(20,"input",44,4),z("ngModelChange",function(i){M(e);let o=y(2);return q(o.checkoutDetails.email,i)||(o.checkoutDetails.email=i),T(i)}),u(),w(22,Ck,3,2,"div",40),u(),l(23,"div",37)(24,"label",45),h(25,"Phone"),u(),l(26,"div",46)(27,"input",47),z("ngModelChange",function(i){M(e);let o=y(2);return q(o.checkoutDetails.countryCode,i)||(o.checkoutDetails.countryCode=i),T(i)}),u(),l(28,"datalist",48),w(29,_k,2,3,"option",49),u(),l(30,"input",50,5),z("ngModelChange",function(i){M(e);let o=y(2);return q(o.checkoutDetails.phone,i)||(o.checkoutDetails.phone=i),T(i)}),u()(),w(32,Dk,3,2,"div",40),u(),l(33,"div",37)(34,"label",51),h(35,"Country"),u(),l(36,"select",52),z("ngModelChange",function(i){M(e);let o=y(2);return q(o.checkoutDetails.country,i)||(o.checkoutDetails.country=i),T(i)}),w(37,Ik,2,2,"option",49),u()(),l(38,"div",37)(39,"label",53),h(40,"City"),u(),l(41,"input",54,6),z("ngModelChange",function(i){M(e);let o=y(2);return q(o.checkoutDetails.city,i)||(o.checkoutDetails.city=i),T(i)}),u(),w(43,Mk,3,2,"div",40),u(),l(44,"div",37)(45,"label",55),h(46,"Street"),u(),l(47,"input",56,7),z("ngModelChange",function(i){M(e);let o=y(2);return q(o.checkoutDetails.street,i)||(o.checkoutDetails.street=i),T(i)}),u(),w(49,Ak,3,2,"div",40),u(),l(50,"button",57),D("click",function(){M(e);let i=Ge(4),o=y(2);return T(o.triggerValidation(i))}),h(51," Pay Order "),u()()()}if(t&2){let e=Ge(9),r=Ge(15),i=Ge(21),o=Ge(31),s=Ge(42),a=Ge(48),c=y(2);f(8),H("ngModel",c.checkoutDetails.name),f(2),v("ngIf",e.invalid&&e.touched),f(4),H("ngModel",c.checkoutDetails.surname),f(2),v("ngIf",r.invalid&&r.touched),f(4),H("ngModel",c.checkoutDetails.email),f(2),v("ngIf",i.invalid&&i.touched),f(5),H("ngModel",c.checkoutDetails.countryCode),f(2),v("ngForOf",c.countryCodes),f(),H("ngModel",c.checkoutDetails.phone),f(2),v("ngIf",o.invalid&&o.touched),f(4),H("ngModel",c.checkoutDetails.country),f(),v("ngForOf",c.countries),f(4),H("ngModel",c.checkoutDetails.city),f(2),v("ngIf",s.invalid&&s.touched),f(4),H("ngModel",c.checkoutDetails.street),f(2),v("ngIf",a.invalid&&a.touched)}}function Ok(t,n){if(t&1){let e=R();l(0,"div",9)(1,"h2",10),h(2,"Your Cart"),u(),w(3,lk,3,1,"div",11)(4,uk,3,1,"div",12),l(5,"ul",13),w(6,dk,18,5,"li",14),u(),l(7,"div",15)(8,"h3",16),h(9,"Total: "),l(10,"span",17),h(11),u()()(),l(12,"div",18)(13,"button",19),D("click",function(){M(e);let i=y();return T(i.orderProduct())}),h(14," Place Order "),u(),l(15,"button",19),D("click",function(){M(e);let i=y();return T(i.clearCart())}),h(16," Clear Cart "),u()(),w(17,kk,52,16,"div",20),u()}if(t&2){let e=y();f(3),v("ngIf",e.orderSuccess),f(),v("ngIf",e.orderFailed),f(2),v("ngForOf",e.cart.cartItems),f(5),V("$",e.cart.totalPrice==null?null:e.cart.totalPrice.toFixed(2),""),f(6),v("ngIf",e.showCheckoutForm)}}function Rk(t,n){t&1&&(l(0,"div",61)(1,"h2",62),h(2,"Your cart is empty"),u()())}var Hl=class t{constructor(n,e,r,i){this.cartService=n;this.oidcSecurityService=e;this.orderService=r;this.router=i}cart=null;orderSuccess=!1;orderFailed=!1;errorMessage="";successMessage="";showCheckoutForm=!1;userId="";userEmail="";orderNumber="";order=null;countries=TC;countryCodes=PC;checkoutDetails={name:"",surname:"",email:"",phone:"",countryCode:"",country:"",city:"",street:""};ngOnInit(){this.loadUserCart()}triggerValidation(n){Object.keys(n.controls).forEach(e=>{n.controls[e].markAsTouched({onlySelf:!0})})}loadUserCart(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);this.userId=e??"",e?this.loadCart(e):console.error("User ID not found in token")},n=>{console.error("Failed to get access token:",n)})}loadCart(n){this.cartService.getCart(n).subscribe(e=>{if(this.cart=e,this.cart){let r=this.cart.totalPrice??0,i=e.cartItems?.reduce((o,s)=>o+s.quantity,0);console.log("totalQuantity - ",i),this.cartService.emitCartPriceChange(r),this.cartService.saveCartPrice(r),this.cartService.emitCartQuantityChange(i),this.cartService.saveCartQuantity(i)}},e=>{console.error("Failed to load cart:",e)})}clearCart(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);e&&this.cartService.clearCart(e).subscribe(()=>{this.loadCart(e)},r=>{console.error("Failed to clear cart:",r)})},n=>{console.error("Failed to get access token:",n)})}decodeToken(n){try{let r=n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(r).split("").map(s=>"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)).join("")),o=JSON.parse(i);return o.sub||o.userId||null}catch(e){return console.error("Failed to decode token:",e),null}}removeItem(n){this.oidcSecurityService.getAccessToken().subscribe(e=>{let r=this.decodeToken(e);r&&this.cartService.removeItemFromCart(r,n).subscribe(i=>{this.cart=i;let o=i?.totalPrice??0;this.cartService.emitCartPriceChange(o),this.cartService.saveCartPrice(o);let s=i.cartItems?.reduce((a,c)=>a+c.quantity,0);console.log("totalQuantity - ",s),this.cartService.emitCartQuantityChange(s),this.cartService.saveCartQuantity(s),this.loadCart(r)},i=>{console.error("Failed to remove item from cart:",i)})},e=>{console.error("Failed to get access token:",e)})}orderProduct(){console.log("Order button clicked"),this.oidcSecurityService.userData$.subscribe(n=>{let e={email:n.userData.email,firstName:n.userData.given_name,lastName:n.userData.family_name};this.userEmail=e.email;let r={name:"",surname:"",email:"",phone:"",country:"",city:"",street:""};this.oidcSecurityService.getAccessToken().subscribe(i=>{let o=this.decodeToken(i);o&&this.cartService.getCart(o).subscribe(s=>{if(!s||!s.cartItems||s.cartItems.length===0){console.log("Cart is empty or undefined!");return}let a=s.cartItems.reduce((d,p)=>d+p.quantity,0),c=s.cartItems.map(d=>({name:d.product.name,skuCode:d.product.skuCode,price:d.product.price,quantity:d.quantity,totalAmount:d.totalPrice,thumbnailUrl:d.thumbnailUrl}));this.order={userId:o,quantity:a,userDetails:e,products:c,contactDetails:r},this.showCheckoutForm=!0})})})}confirmOrder(n){if(n.valid){if(this.order&&this.checkoutDetails){let e=W(x({},this.order),{contactDetails:{name:this.checkoutDetails.name,surname:this.checkoutDetails.surname,email:this.checkoutDetails.email,phone:this.updatePhoneWithCountryCode(),country:this.checkoutDetails.country,city:this.checkoutDetails.city,street:this.checkoutDetails.street}});this.orderService.orderProduct(e).subscribe({next:r=>{this.orderSuccess=!0,this.orderFailed=!1,this.successMessage="Order confirmed successfully!",this.clearCart(),this.showCheckoutForm=!1,this.orderNumber=r.orderNumber,this.goToPayment()},error:r=>{this.orderFailed=!0,this.orderSuccess=!1,this.errorMessage=r.message||"Failed to place order. Please try again.",console.error("Order failed:",r)}})}console.log("Form is valid, confirming order...")}else console.log("Form is invalid, please fix the errors.")}goToPayment(){console.log("Sku codes is - "+this.getSkuCodes(this.cart)),this.router.navigate(["/payment"],{state:{amount:this.cart?.totalPrice,userId:this.userId,userEmail:this.userEmail,orderNumber:this.orderNumber,skuCodes:this.getSkuCodes(this.cart)}})}getSkuCodes(n){return n.cartItems?.map(e=>e.product.skuCode)||[]}updateItemQuantity(n,e){e>0&&this.oidcSecurityService.getAccessToken().subscribe(r=>{let i=this.decodeToken(r);i&&this.cartService.updateCartItemQuantity(i,n,e).subscribe(o=>{this.cart=o;let s=o?.totalPrice??0;this.cartService.emitCartPriceChange(s);let a=o.cartItems?.reduce((c,d)=>c+d.quantity,0);console.log("totalQuantity - ",a),this.cartService.emitCartQuantityChange(a),this.cartService.saveCartQuantity(a)},o=>{console.error("Failed to update item quantity:",o)})},r=>{console.error("Failed to get access token:",r)})}updatePhoneWithCountryCode(){let n=this.checkoutDetails.countryCode,e=this.checkoutDetails.phone;return n&&e?`${n}${e}`:""}changeQuantity(n,e){n.quantity=Math.max(1,n.quantity+e),this.updateItemQuantity(n.product.id,n.quantity)}static \u0275fac=function(e){return new(e||t)(I(Bn),I(me),I(zn),I(ae))};static \u0275cmp=Q({type:t,selectors:[["app-cart"]],standalone:!0,features:[J],decls:3,vars:2,consts:[["emptyCart",""],["checkoutForm","ngForm"],["name","ngModel"],["surname","ngModel"],["email","ngModel"],["phone","ngModel"],["city","ngModel"],["street","ngModel"],["class","container mx-auto p-6 bg-white shadow-lg rounded-lg transition",4,"ngIf","ngIfElse"],[1,"container","mx-auto","p-6","bg-white","shadow-lg","rounded-lg","transition"],[1,"text-3xl","font-semibold","mb-4","text-gray-900","border-b-2","pb-2","border-gray-900"],["class","mt-4 p-4 bg-gray-200 text-gray-900 rounded-md",4,"ngIf"],["class","mt-4 p-4 bg-red-200 text-red-900 rounded-md",4,"ngIf"],[1,"space-y-4"],["class","flex justify-between items-center p-4 bg-gray-50 rounded-md shadow-md transition hover:bg-gray-100",4,"ngFor","ngForOf"],[1,"mt-6","text-right"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-black"],[1,"mt-6","flex","justify-end","space-x-4"],[1,"px-6","py-2","bg-gray-800","hover:bg-gray-900","text-white","font-semibold","rounded-lg","transition","duration-300","shadow-md",3,"click"],["class","mt-8 p-6 bg-gray-100 rounded-lg shadow-md",4,"ngIf"],[1,"mt-4","p-4","bg-gray-200","text-gray-900","rounded-md"],[1,"mt-4","p-4","bg-red-200","text-red-900","rounded-md"],[1,"flex","justify-between","items-center","p-4","bg-gray-50","rounded-md","shadow-md","transition","hover:bg-gray-100"],[1,"flex","items-center","space-x-4","flex-1"],[1,"w-16","h-16","object-cover","rounded-md","shadow-sm",3,"src","alt"],[1,"text-left","w-1/3"],[1,"text-xl","font-semibold","text-gray-800"],[1,"flex","items-center","justify-center","space-x-2","w-1/3"],[1,"text-2xl","text-gray-800","px-2","py-1","rounded-md","hover:bg-gray-300",3,"click"],[1,"text-lg","font-semibold","text-gray-800"],[1,"flex","items-center","justify-end","space-x-4","w-1/3"],[1,"text-lg","font-bold","text-gray-900"],[1,"text-xl","text-red-600","hover:text-red-800","transition","duration-300",3,"click"],[1,"mt-8","p-6","bg-gray-100","rounded-lg","shadow-md"],[1,"text-2xl","font-semibold","mb-4","text-gray-900"],[3,"ngSubmit"],[1,"mb-4"],["for","name",1,"block","text-sm","font-semibold","text-gray-900","mb-2"],["id","name","name","name","required","","minlength","2","type","text",1,"border","rounded","px-4","py-2","w-full",3,"ngModelChange","ngModel"],["class","text-red-600",4,"ngIf"],["for","surname",1,"block","text-sm","font-semibold","text-gray-900","mb-2"],["id","surname","name","surname","required","","minlength","2","type","text",1,"border","rounded","px-4","py-2","w-full",3,"ngModelChange","ngModel"],["for","email",1,"block","text-sm","font-semibold","text-gray-900","mb-2"],["id","email","name","email","required","","email","","type","email",1,"border","rounded","px-4","py-2","w-full",3,"ngModelChange","ngModel"],["for","phone",1,"block","text-sm","font-semibold","text-gray-900","mb-2"],[1,"flex","space-x-2"],["id","countryCode","type","text","name","countryCode","required","","list","countryCodesList","placeholder","Select or type a country code",1,"border","rounded","px-4","py-2","w-1/4",3,"ngModelChange","ngModel"],["id","countryCodesList"],[3,"value",4,"ngFor","ngForOf"],["id","phone","name","phone","required","","pattern","^\\d{9}$","type","text",1,"border","rounded","px-4","py-2","w-3/4",3,"ngModelChange","ngModel"],["for","country",1,"block","text-sm","font-semibold","text-gray-900","mb-2"],["id","country","name","country","required","",1,"border","rounded","px-4","py-2","w-full",3,"ngModelChange","ngModel"],["for","city",1,"block","text-sm","font-semibold","text-gray-900","mb-2"],["id","city","name","city","required","","minlength","2","type","text",1,"border","rounded","px-4","py-2","w-full",3,"ngModelChange","ngModel"],["for","street",1,"block","text-sm","font-semibold","text-gray-900","mb-2"],["id","street","name","street","required","","minlength","5","type","text",1,"border","rounded","px-4","py-2","w-full",3,"ngModelChange","ngModel"],["type","submit",1,"px-6","py-2","bg-gray-800","hover:bg-gray-900","text-white","font-semibold","rounded-lg","transition","duration-300","shadow-md",3,"click"],[1,"text-red-600"],[4,"ngIf"],[3,"value"],[1,"container","mx-auto","p-6","text-center","bg-white","shadow-lg","rounded-lg"],[1,"text-3xl","font-semibold","mb-4","text-gray-900"]],template:function(e,r){if(e&1&&w(0,Ok,18,5,"div",8)(1,Rk,3,0,"ng-template",null,0,Ji),e&2){let i=Ge(2);v("ngIf",r.cart)("ngIfElse",i)}},dependencies:[X,Ie,ce,ze,Hn,Ot,Rt,Ve,mt,Oe,$n,Ls,Sp,wp,_p,qe,Fs],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;transition:box-shadow .3s ease-in-out}.container[_ngcontent-%COMP%]:hover{box-shadow:0 10px 20px #00000026}h2[_ngcontent-%COMP%]{color:#1a1a1a}h3[_ngcontent-%COMP%]{color:#333}.bg-gray-50[_ngcontent-%COMP%]{background-color:#f9f9f9}.bg-gray-100[_ngcontent-%COMP%]{background-color:#f1f1f1}.bg-gray-200[_ngcontent-%COMP%]{background-color:#e1e1e1}.text-gray-900[_ngcontent-%COMP%]{color:#1a1a1a}.text-black[_ngcontent-%COMP%]{color:#000}.bg-gray-800[_ngcontent-%COMP%]{background-color:#1a1a1a}.bg-gray-900[_ngcontent-%COMP%]{background-color:#000}.bg-red-200[_ngcontent-%COMP%]{background-color:#ffcccb}.text-red-900[_ngcontent-%COMP%]{color:#c00}button[_ngcontent-%COMP%]:hover{transform:scale(1.05);transition:background-color .3s ease-in-out,transform .2s ease-in-out}ul[_ngcontent-%COMP%]{list-style:none;padding-left:0}button[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s ease-in-out}button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}input[type=number][_ngcontent-%COMP%]{width:3rem;text-align:center;font-size:1rem;padding:.5rem;border-radius:.375rem;border:1px solid #d1d5db;background-color:#fff}input[type=number][_ngcontent-%COMP%]:focus{outline:none;border-color:#4b5563}.bg-gray-300[_ngcontent-%COMP%]{background-color:#e5e7eb}.bg-gray-400[_ngcontent-%COMP%]{background-color:#d1d5db}.font-semibold[_ngcontent-%COMP%]{font-weight:600}.px-3[_ngcontent-%COMP%]{padding-left:.75rem;padding-right:.75rem}.py-1[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:.25rem}.rounded-lg[_ngcontent-%COMP%]{border-radius:.5rem}.transition[_ngcontent-%COMP%]{transition:all .3s ease-in-out}button.text-2xl[_ngcontent-%COMP%]{font-size:1.25rem;padding:.25rem}button.text-xl[_ngcontent-%COMP%]{font-size:1.5rem}button[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}button[_ngcontent-%COMP%]:focus{outline:none}.text-gray-800[_ngcontent-%COMP%]{color:#333}.flex-grow[_ngcontent-%COMP%]{flex-grow:1}.items-center[_ngcontent-%COMP%]{display:flex;align-items:center}.text-right[_ngcontent-%COMP%]{text-align:right}.space-x-4[_ngcontent-%COMP%]{margin-right:1rem}.text-right[_ngcontent-%COMP%]   .text-lg[_ngcontent-%COMP%]{margin-top:20px}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.text-left[_ngcontent-%COMP%]{flex-shrink:0}.flex-1[_ngcontent-%COMP%]{flex-grow:1}.justify-center[_ngcontent-%COMP%]{justify-content:center}.justify-end[_ngcontent-%COMP%]{justify-content:flex-end}@media (min-width: 640px){.my-custom-class[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-bottom:0;margin-left:1rem;margin-right:1rem}}"]})};function Nk(t,n){if(t&1&&(l(0,"li",16)(1,"div",17),P(2,"img",18),l(3,"div")(4,"h5"),h(5),l(6,"span",19),h(7),u()(),l(8,"p",20),h(9,"Quantity: "),l(10,"strong"),h(11),u()(),l(12,"p",3),h(13,"Price: "),l(14,"strong"),h(15),Re(16,"number"),u()()()(),l(17,"span",21),h(18),Re(19,"number"),u()()),t&2){let e=n.$implicit;f(2),Ke("alt",e.name),v("src",e.thumbnailUrl,We),f(3),V("",e.name," "),f(2),V("(",e.skuCode,")"),f(4),L(e.quantity),f(4),V("$",Ze(16,7,e.price,"1.2-2"),""),f(3),V("Total: $",Ze(19,10,e.totalAmount,"1.2-2"),"")}}function Fk(t,n){if(t&1){let e=R();l(0,"button",22),D("click",function(){M(e);let i=y();return T(i.goToPayment())}),h(1," Pay Order "),u()}}var zl=class t{constructor(n,e,r,i){this.route=n;this.orderService=e;this.oidcSecurityService=r;this.router=i}order;isAuthenticated=!1;userId="";userEmail="";userRoles=[];ngOnInit(){this.oidcSecurityService.isAuthenticated$.subscribe(({isAuthenticated:e})=>{this.isAuthenticated=e,e&&(this.loadUserEmail(),this.loadUserId(),this.loadRoles())});let n=this.route.snapshot.paramMap.get("id");n&&this.fetchOrderDetails(n)}fetchOrderDetails(n){this.orderService.getOrderById(n).subscribe(e=>{this.order=e,console.log("Fetched order:",this.order)},e=>{console.error("Error fetching order:",e)})}decodeToken(n){try{let r=n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(r).split("").map(o=>`%${("00"+o.charCodeAt(0).toString(16)).slice(-2)}`).join(""));return JSON.parse(i)}catch(e){return console.error("Failed to decode token:",e),null}}loadUserId(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);e&&e.sub&&(this.userId=e.sub)})}loadUserEmail(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);e&&e.email&&(this.userEmail=e.email)})}loadRoles(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);e&&e.realm_access&&(this.userRoles=e.realm_access.roles||[])})}hasUserRole(){return this.userRoles.includes("ROLE_USER")}goToPayment(){this.router.navigate(["/payment"],{state:{amount:this.order.totalAmount,userId:this.userId,userEmail:this.userEmail,orderNumber:this.order.orderNumber}})}static \u0275fac=function(e){return new(e||t)(I(ot),I(zn),I(me),I(ae))};static \u0275cmp=Q({type:t,selectors:[["app-order-details"]],standalone:!0,features:[J],decls:79,vars:27,consts:[[1,"container","mt-5"],[1,"card","shadow-lg","border-0"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"card-body"],[1,"mb-5"],[1,"section-title"],[1,"summary-container","p-4","bg-light","rounded","shadow-sm"],[1,"row"],[1,"col-md-6","label-column"],[1,"col-md-6","value-column"],[1,"contact-container","p-4","bg-light","rounded","shadow-sm"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center mb-3 product-item",4,"ngFor","ngForOf"],[1,"text-end","mt-4"],["class","btn btn-success",3,"click",4,"ngIf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center","mb-3","product-item"],[1,"d-flex","align-items-center"],[1,"product-icon","mr-3","rounded",3,"src","alt"],[1,"text-muted"],[1,"mb-1"],[1,"badge","bg-primary","text-white"],[1,"btn","btn-success",3,"click"]],template:function(e,r){e&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),h(4,"Order Details"),u(),l(5,"span"),h(6),u()(),l(7,"div",4)(8,"div",5)(9,"h4",6),h(10,"Order Summary"),u(),l(11,"div",7)(12,"div",8)(13,"div",9)(14,"p"),h(15,"Order Number:"),u(),l(16,"p"),h(17,"Quantity:"),u(),l(18,"p"),h(19,"Total Amount:"),u(),l(20,"p"),h(21,"Ordered At:"),u(),l(22,"p"),h(23,"Delivered At:"),u()(),l(24,"div",10)(25,"p"),h(26),u(),l(27,"p"),h(28),u(),l(29,"p"),h(30),Re(31,"number"),u(),l(32,"p"),h(33),Re(34,"date"),u(),l(35,"p"),h(36),Re(37,"date"),u()()()()(),l(38,"div",5)(39,"h4",6),h(40,"Contact Details"),u(),l(41,"div",11)(42,"div",8)(43,"div",9)(44,"p"),h(45,"Name:"),u(),l(46,"p"),h(47,"Surname:"),u(),l(48,"p"),h(49,"Country:"),u(),l(50,"p"),h(51,"City:"),u(),l(52,"p"),h(53,"Street:"),u(),l(54,"p"),h(55,"Email:"),u(),l(56,"p"),h(57,"Phone:"),u()(),l(58,"div",10)(59,"p"),h(60),u(),l(61,"p"),h(62),u(),l(63,"p"),h(64),u(),l(65,"p"),h(66),u(),l(67,"p"),h(68),u(),l(69,"p"),h(70),u(),l(71,"p"),h(72),u()()()()(),l(73,"h4",6),h(74,"Products"),u(),l(75,"ul",12),w(76,Nk,20,13,"li",13),u(),l(77,"div",14),w(78,Fk,2,0,"button",15),u()()()()),e&2&&(f(5),b0("badge ",r.order.status==="Delivered"?"bg-success":"bg-warning"," status-badge"),f(),V(" ",r.order.status," "),f(20),L(r.order.orderNumber),f(2),L(r.order.quantity),f(2),V("$",Ze(31,18,r.order.totalAmount,"1.2-2"),""),f(3),L(Ze(34,21,r.order==null?null:r.order.orderedAt,"medium")),f(3),L(r.order!=null&&r.order.deliveredAt?Ze(37,24,r.order.deliveredAt,"medium"):"Pending"),f(24),L(r.order.contactDetails.name),f(2),L(r.order.contactDetails.surname),f(2),L(r.order.contactDetails.country),f(2),L(r.order.contactDetails.city),f(2),L(r.order.contactDetails.street),f(2),L(r.order.contactDetails.email),f(2),L(r.order.contactDetails.phone),f(4),v("ngForOf",r.order.products),f(2),v("ngIf",r.hasUserRole()&&r.order.status==="NEW"))},dependencies:[X,Ie,ce,no,kn],encapsulation:2})};var Lk=(t,n,e)=>({"bg-green-100 text-green-800":t,"bg-yellow-100 text-yellow-800":n,"bg-red-100 text-red-800":e});function Vk(t,n){if(t&1&&(l(0,"div",13)(1,"strong"),h(2,"Error:"),u(),h(3),u()),t&2){let e=y();f(3),V(" ",e.errorMessage," ")}}function jk(t,n){if(t&1){let e=R();l(0,"button",21),D("click",function(i){M(e);let o=y().$implicit;return y().cancellOrder(o),T(i.stopPropagation())}),h(1," Cancel Order "),u()}}function Uk(t,n){if(t&1){let e=R();l(0,"div",14),D("click",function(){let i=M(e).$implicit,o=y();return T(o.openOrderDetails(i.id))}),l(1,"div",15)(2,"h3",16),h(3),u(),l(4,"span",17),h(5),u()(),l(6,"p",18)(7,"strong"),h(8,"Items:"),u(),h(9),u(),l(10,"p",18)(11,"strong"),h(12,"Total:"),u(),h(13),Re(14,"number"),u(),l(15,"div",19),w(16,jk,2,0,"button",20),u()()}if(t&2){let e=n.$implicit;f(3),V("Order #",e.orderNumber,""),f(),v("ngClass",S0(9,Lk,e.status==="NEW",e.status==="DELIVERED",e.status==="CANCELLED")),f(),V("",e.status," "),f(4),V(" ",e.quantity,""),f(4),V(" $",Ze(14,6,e.totalAmount,"1.2-2"),""),f(3),v("ngIf",e.status!=="CANCELLED")}}function Bk(t,n){if(t&1){let e=R();l(0,"div",22)(1,"button",23),D("click",function(){M(e);let i=y();return T(i.prevPage())}),h(2,"Previous"),u(),l(3,"span",24),h(4),u(),l(5,"button",23),D("click",function(){M(e);let i=y();return T(i.nextPage())}),h(6,"Next"),u()()}if(t&2){let e=y();f(),v("disabled",e.currentPage===1),f(3),Xt("Page ",e.currentPage," of ",e.totalPages,""),f(),v("disabled",e.currentPage===e.totalPages)}}function $k(t,n){t&1&&(l(0,"p",25),h(1,"No orders found."),u())}var Wl=class t{orders=[];errorMessage="";selectedStatus="";filteredOrders=[];paginatedOrders=[];currentPage=1;pageSize=5;totalPages=1;orderService=g(zn);router=g(ae);oidcSecurityService=g(me);ngOnInit(){this.loadUserCart()}loadUserCart(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);this.orderService.getOrdersByUserId(e).subscribe({next:r=>{console.log("Orders fetched:",r),this.orders=r,this.filterOrders()},error:r=>{this.errorMessage="Failed to load orders. Please try again later.",console.error("Error fetching orders:",r)}})},n=>{console.error("Failed to get access token:",n)})}cancellOrder(n){let e=W(x({},n),{status:"CANCELLED"});this.orderService.updateOrderStatus(e).subscribe({next:()=>{alert("Order was cancelled");let r=this.orders.findIndex(i=>i.id===n.id);r!==-1&&(this.orders[r].status="CANCELLED"),this.filterOrders()},error:r=>{console.error("Failed to cancell order:",r),this.errorMessage="Failed to cancell order."}})}filterOrders(){this.selectedStatus?this.filteredOrders=this.orders.filter(n=>n.status===this.selectedStatus):this.filteredOrders=this.orders,this.paginateOrders()}paginateOrders(){let n=(this.currentPage-1)*this.pageSize,e=n+this.pageSize;this.paginatedOrders=this.filteredOrders.slice(n,e),this.totalPages=Math.ceil(this.filteredOrders.length/this.pageSize)}prevPage(){this.currentPage>1&&(this.currentPage--,this.paginateOrders())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.paginateOrders())}openOrderDetails(n){this.router.navigate(["/order-details",n])}decodeToken(n){try{let r=n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(r).split("").map(s=>"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)).join("")),o=JSON.parse(i);return o.sub||o.userId||null}catch(e){return console.error("Failed to decode token:",e),null}}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Q({type:t,selectors:[["app-user-orders"]],standalone:!0,features:[J],decls:19,vars:5,consts:[[1,"container","mx-auto","p-6","max-w-4xl"],[1,"text-2xl","font-semibold","mb-6","text-gray-900"],["class","bg-red-100 text-red-700 px-4 py-3 rounded mb-6",4,"ngIf"],[1,"flex","justify-between","items-center","mb-6","p-4","bg-gray-50","rounded-lg","shadow-md"],["for","statusFilter",1,"text-sm","font-medium","text-gray-700"],["id","statusFilter",1,"border","border-gray-300","rounded-lg","px-4","py-2","text-gray-600",3,"ngModelChange","change","ngModel"],["value",""],["value","NEW"],["value","DELIVERED"],["value","CANCELLED"],["class","border rounded-lg shadow-sm p-4 mb-4 bg-white transition-transform transform hover:scale-105 cursor-pointer",3,"click",4,"ngFor","ngForOf"],["class","flex justify-center items-center mt-6",4,"ngIf"],["class","text-center text-gray-500 mt-8",4,"ngIf"],[1,"bg-red-100","text-red-700","px-4","py-3","rounded","mb-6"],[1,"border","rounded-lg","shadow-sm","p-4","mb-4","bg-white","transition-transform","transform","hover:scale-105","cursor-pointer",3,"click"],[1,"flex","justify-between","items-center","mb-2"],[1,"text-lg","font-medium","text-gray-700"],[1,"px-2","py-1","rounded-full","text-xs","font-semibold",3,"ngClass"],[1,"text-sm","text-gray-600"],[1,"flex","justify-end","items-center","mt-4"],["class","text-white bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 rounded-lg py-2 px-4 transition-colors",3,"click",4,"ngIf"],[1,"text-white","bg-red-500","hover:bg-red-600","focus:outline-none","focus:ring-2","focus:ring-red-500","rounded-lg","py-2","px-4","transition-colors",3,"click"],[1,"flex","justify-center","items-center","mt-6"],[1,"text-gray-500","hover:text-gray-600","px-3","py-1","rounded",3,"click","disabled"],[1,"mx-4","text-gray-600"],[1,"text-center","text-gray-500","mt-8"]],template:function(e,r){e&1&&(l(0,"div",0)(1,"h2",1),h(2,"Orders"),u(),w(3,Vk,4,1,"div",2),l(4,"div",3)(5,"label",4),h(6,"Filter by Status"),u(),l(7,"select",5),z("ngModelChange",function(o){return q(r.selectedStatus,o)||(r.selectedStatus=o),o}),D("change",function(){return r.filterOrders()}),l(8,"option",6),h(9,"All"),u(),l(10,"option",7),h(11,"NEW"),u(),l(12,"option",8),h(13,"DELIVERED"),u(),l(14,"option",9),h(15,"CANCELLED"),u()()(),w(16,Uk,17,13,"div",10)(17,Bk,7,4,"div",11)(18,$k,2,0,"p",12),u()),e&2&&(f(3),v("ngIf",r.errorMessage),f(4),H("ngModel",r.selectedStatus),f(9),v("ngForOf",r.paginatedOrders),f(),v("ngIf",r.filteredOrders.length>0),f(),v("ngIf",r.filteredOrders.length===0))},dependencies:[X,it,Ie,ce,no,ze,Ot,Rt,mt,Oe,qe],styles:[".bg-red-100[_ngcontent-%COMP%]{background-color:#fee2e2}.bg-green-100[_ngcontent-%COMP%]{background-color:#d1fae5}.bg-yellow-100[_ngcontent-%COMP%]{background-color:#fef3c7}.text-red-800[_ngcontent-%COMP%]{color:#b91c1c}.text-green-800[_ngcontent-%COMP%]{color:#065f46}.text-yellow-800[_ngcontent-%COMP%]{color:#b45309}.container[_ngcontent-%COMP%]   .transition-transform[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 6px #0000001a}button[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;font-size:14px}button[_ngcontent-%COMP%]:focus{outline:none}button.bg-red-500[_ngcontent-%COMP%]{border-radius:.375rem;padding:.5rem 1rem;transition:background-color .3s ease}button.bg-red-500[_ngcontent-%COMP%]:hover{background-color:#e53e3e}button.bg-red-500[_ngcontent-%COMP%]:focus{outline:2px solid #e53e3e;outline-offset:2px}select[_ngcontent-%COMP%]{width:200px}select[_ngcontent-%COMP%]:focus{border-color:#4b5563}label[_ngcontent-%COMP%]{font-weight:600}.flex[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}"]})};var OC="https://js.stripe.com/v3",Hk=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,AC="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",zk=function(){for(var n=document.querySelectorAll('script[src^="'.concat(OC,'"]')),e=0;e<n.length;e++){var r=n[e];if(Hk.test(r.src))return r}return null},kC=function(n){var e=n&&!n.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(OC).concat(e);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},Wk=function(n,e){!n||!n._registerWrapper||n._registerWrapper({name:"stripe-js",version:"4.7.0",startTime:e})},Vs=null,Gl=null,ql=null,Gk=function(n){return function(){n(new Error("Failed to load Stripe.js"))}},qk=function(n,e){return function(){window.Stripe?n(window.Stripe):e(new Error("Stripe.js not available"))}},Kk=function(n){return Vs!==null?Vs:(Vs=new Promise(function(e,r){if(typeof window>"u"||typeof document>"u"){e(null);return}if(window.Stripe&&n&&console.warn(AC),window.Stripe){e(window.Stripe);return}try{var i=zk();if(i&&n)console.warn(AC);else if(!i)i=kC(n);else if(i&&ql!==null&&Gl!==null){var o;i.removeEventListener("load",ql),i.removeEventListener("error",Gl),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=kC(n)}ql=qk(e,r),Gl=Gk(r),i.addEventListener("load",ql),i.addEventListener("error",Gl)}catch(s){r(s);return}}),Vs.catch(function(e){return Vs=null,Promise.reject(e)}))},Zk=function(n,e,r){if(n===null)return null;var i=n.apply(void 0,e);return Wk(i,r),i},js,RC=!1,NC=function(){return js||(js=Kk(null).catch(function(n){return js=null,Promise.reject(n)}),js)};Promise.resolve().then(function(){return NC()}).catch(function(t){RC||console.warn(t)});var FC=function(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];RC=!0;var i=Date.now();return NC().then(function(o){return Zk(o,e,i)})};var Kl=class t{constructor(n,e){this.http=n;this.router=e;let i=this.router.getCurrentNavigation()?.extras.state;this.amount=i?.amount||0,this.userId=i?.userId||"",this.userEmail=i?.userEmail||"",this.orderNumber=i?.orderNumber||"",this.skuCodes=i?.skuCodes||[],console.log("Order number in payment component: "+this.orderNumber)}stripe=null;amount;userId;userEmail;orderNumber;skuCodes;paymentMessage="";showPopup=!1;isPaymentProcessing=!1;ngOnInit(){return hr(this,null,function*(){try{if(this.stripe=yield FC("pk_test_51Q9R43LI63ZkzNayLCS4C7vvSJL9R31ans6GcN4m528CXXUTkLaBHY4SIKzTXlzDDC85DGH6nZQWWIJnRkMeZGtI00z5L5xYzI"),this.stripe)yield this.handleSubmit();else throw new Error("Stripe.js failed to initialize.")}catch(n){console.error("Error initializing Stripe:",n),this.paymentMessage="Failed to load payment methods.",this.showPopup=!0}})}handleSubmit(){return hr(this,null,function*(){if(this.isPaymentProcessing=!0,!this.stripe){console.error("Stripe.js has not been initialized."),this.isPaymentProcessing=!1;return}let n={amount:this.amount,userId:this.userId,userEmail:this.userEmail,orderNumber:this.orderNumber,skuCodes:this.skuCodes};this.http.post("http://localhost:9000/api/payments/create-checkout-session",n).subscribe(e=>hr(this,null,function*(){console.log("Stripe session created:",e);let r=e.sessionId;if(console.log("SessionId:",r),!r){console.error("No sessionId received from the backend."),this.isPaymentProcessing=!1,this.paymentMessage="Failed to create a session. Please try again.",this.showPopup=!0;return}let i=yield this.stripe?.redirectToCheckout({sessionId:r});i?.error&&(console.error("Error redirecting to Stripe Checkout:",i.error.message),this.isPaymentProcessing=!1,this.paymentMessage="Error redirecting to payment page. Please try again.",this.showPopup=!0)}),e=>{console.error("Error creating Stripe session:",e),this.isPaymentProcessing=!1,this.paymentMessage="Failed to create a session. Please try again.",this.showPopup=!0})})}static \u0275fac=function(e){return new(e||t)(I(Ue),I(ae))};static \u0275cmp=Q({type:t,selectors:[["app-payment"]],standalone:!0,features:[J],decls:1,vars:0,template:function(e,r){e&1&&Nf(0)},dependencies:[X],styles:[".popup[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center}.popup-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:5px;box-shadow:0 4px 6px #0000001a;text-align:center}.popup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}"]})};function Qk(t,n){if(t&1){let e=R();l(0,"div",16)(1,"div")(2,"strong",17),h(3,"Success!"),u(),l(4,"span",18),h(5),u()(),l(6,"button",19),D("click",function(){M(e);let i=y();return T(i.successMessage="")}),ge(),l(7,"svg",20),P(8,"path",21),u()()()}if(t&2){let e=y();f(5),L(e.successMessage)}}function Yk(t,n){if(t&1){let e=R();l(0,"div",22)(1,"div",23),ge(),l(2,"svg",24),P(3,"path",25),u(),rt(),l(4,"strong",17),h(5,"Error:"),u(),l(6,"span",18),h(7),u()(),l(8,"button",26),D("click",function(){M(e);let i=y();return T(i.errorMessage="")}),ge(),l(9,"svg",20),P(10,"path",21),u()()()}if(t&2){let e=y();f(7),L(e.errorMessage)}}function Jk(t,n){t&1&&(l(0,"div"),h(1,"Category name is required."),u())}function Xk(t,n){t&1&&(l(0,"div"),h(1,"Category name must be at least 3 characters long."),u())}function eO(t,n){if(t&1&&(l(0,"div",27),w(1,Jk,2,0,"div",28)(2,Xk,2,0,"div",28),u()),t&2){let e,r,i=y();f(),v("ngIf",(e=i.addCategoryForm.get("name"))==null||e.errors==null?null:e.errors.required),f(),v("ngIf",(r=i.addCategoryForm.get("name"))==null||r.errors==null?null:r.errors.minlength)}}function tO(t,n){if(t&1&&(l(0,"option",29),h(1),u()),t&2){let e=n.$implicit;v("value",e.id),f(),L(e.name)}}function nO(t,n){if(t&1&&(l(0,"option",29),h(1),u()),t&2){let e=n.$implicit;v("value",e.id),f(),L(e.name)}}function rO(t,n){if(t&1){let e=R();l(0,"div",5)(1,"label",30),h(2),u(),l(3,"select",31),D("change",function(){let i=M(e).index,o=y();return T(o.onSubcategoryChange(i))}),w(4,nO,2,2,"option",11),u()()}if(t&2){let e=n.$implicit,r=n.index;f(),Yi("for","subcategory",r,""),f(),V("Subcategory Level ",r+1,""),f(),v("id","subcategory"+r)("formControlName","subcategoryId"+r),f(),v("ngForOf",e.categories)}}var Zl=class t{constructor(n,e){this.fb=n;this.categoryService=e;this.addCategoryForm=this.fb.group({name:["",[Ne.required,Ne.minLength(3)]],parentCategoryId:[""],subcategoryId:[""]})}addCategoryForm;successMessage="";errorMessage="";selectedFile=null;imagePreview="";categories=[];subcategoryLevels=[];ngOnInit(){this.addCategoryForm=this.fb.group({name:["",[Ne.required,Ne.minLength(3)]],parentCategoryId:[""],subcategoryId:[""]}),this.categoryService.getCategories().subscribe({next:n=>{this.categories=n},error:n=>{console.error("Failed to load categories:",n)}})}onSubmit(){if(this.addCategoryForm.valid){let n=new FormData;n.append("name",this.addCategoryForm.get("name")?.value);let e=this.addCategoryForm.get("parentCategoryId")?.value;e&&n.append("parentCategoryId",e),this.selectedFile&&n.append("thumbnail",this.selectedFile,this.selectedFile.name),this.categoryService.addCategory(n).subscribe({next:()=>{this.successMessage="Category added successfully!",this.addCategoryForm.reset()},error:r=>{this.errorMessage=r.message}})}}onParentCategoryChange(){let n=this.addCategoryForm.get("parentCategoryId")?.value;n&&this.categoryService.getCategoryById(n).subscribe({next:e=>{this.subcategoryLevels=[{parentCategoryId:n,categories:e.subcategories||[]}],this.addCategoryForm.addControl("subcategoryId0",this.fb.control(""))},error:e=>{console.error("Failed to load subcategories:",e)}})}onSubcategoryChange(n){let e=this.addCategoryForm.get(`subcategoryId${n}`)?.value;e&&this.categoryService.getCategoryById(e).subscribe({next:r=>{this.addCategoryForm.patchValue({parentCategoryId:r.parentCategoryId||e}),r.subcategories?.length?this.subcategoryLevels[n+1]?this.subcategoryLevels[n+1].categories=r.subcategories:(this.subcategoryLevels.push({parentCategoryId:e,categories:r.subcategories}),this.addCategoryForm.addControl(`subcategoryId${n+1}`,this.fb.control(""))):this.subcategoryLevels.length=n+1},error:r=>{console.error("Failed to load subcategories:",r)}})}onFileSelected(n){let e=n.target.files?.[0];if(e){this.selectedFile=e;let r=new FileReader;r.onload=()=>{this.imagePreview=r.result},r.readAsDataURL(e)}}static \u0275fac=function(e){return new(e||t)(I(wo),I(kt))};static \u0275cmp=Q({type:t,selectors:[["app-add-category"]],standalone:!0,features:[J],decls:23,vars:7,consts:[[1,"container","mx-auto","p-6","bg-white","shadow-lg","rounded-xl","mt-10"],[1,"text-4xl","font-bold","mb-8","text-center","text-gray-900"],["class","alert alert-success mb-6",4,"ngIf"],["class","alert alert-error mb-6",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"space-y-2"],["for","name",1,"block","text-lg","font-medium","text-gray-700"],["id","name","formControlName","name","type","text","placeholder","Enter category name",1,"w-full","px-4","py-3","border","rounded-lg","text-gray-700","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["class","text-red-500 mt-1",4,"ngIf"],["for","parentCategory",1,"block","text-lg","font-medium","text-gray-700"],["id","parentCategory","formControlName","parentCategoryId",1,"w-full","px-4","py-3","border","rounded-lg","text-gray-700","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"change"],[3,"value",4,"ngFor","ngForOf"],["class","space-y-2",4,"ngFor","ngForOf"],["for","thumbnail",1,"block","text-lg","font-medium","text-gray-700"],["id","thumbnail","type","file",1,"w-full","px-4","py-3","border","rounded-lg","text-gray-700","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"change"],["type","submit",1,"w-full","bg-blue-500","text-white","py-3","px-4","rounded-lg","font-semibold","hover:bg-blue-600","transition","disabled:opacity-50",3,"disabled"],[1,"alert","alert-success","mb-6"],[1,"font-semibold"],[1,"ml-2"],[1,"text-green-600","hover:text-green-900","transition",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20",1,"fill-current","h-6","w-6"],["d","M14.348 5.652a1 1 0 00-1.414 0L10 8.586 7.066 5.652a1 1 0 00-1.414 1.414L8.586 10l-2.934 2.934a1 1 0 001.414 1.414L10 11.414l2.934 2.934a1 1 0 001.414-1.414L11.414 10l2.934-2.934a1 1 0 000-1.414z"],[1,"alert","alert-error","mb-6"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20",1,"h-6","w-6","text-red-500","mr-2"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm-1-5a1 1 0 112-0v-4a1 1 0 10-2 0v4zm1-10a1 1 0 100 2 1 1 0 000-2z"],[1,"text-red-600","hover:text-red-900","transition",3,"click"],[1,"text-red-500","mt-1"],[4,"ngIf"],[3,"value"],[1,"block","text-lg","font-medium","text-gray-700",3,"for"],[1,"w-full","px-4","py-3","border","rounded-lg","text-gray-700","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"change","id","formControlName"]],template:function(e,r){if(e&1&&(l(0,"div",0)(1,"h2",1),h(2,"Add New Category"),u(),w(3,Qk,9,1,"div",2)(4,Yk,11,1,"div",3),l(5,"form",4),D("ngSubmit",function(){return r.onSubmit()}),l(6,"div",5)(7,"label",6),h(8,"Category Name"),u(),P(9,"input",7),w(10,eO,3,2,"div",8),u(),l(11,"div",5)(12,"label",9),h(13,"Parent Category"),u(),l(14,"select",10),D("change",function(){return r.onParentCategoryChange()}),w(15,tO,2,2,"option",11),u()(),w(16,rO,5,6,"div",12),l(17,"div",5)(18,"label",13),h(19,"Upload Thumbnail"),u(),l(20,"input",14),D("change",function(o){return r.onFileSelected(o)}),u()(),l(21,"button",15),h(22," Submit "),u()()()),e&2){let i;f(3),v("ngIf",r.successMessage),f(),v("ngIf",r.errorMessage),f(),v("formGroup",r.addCategoryForm),f(5),v("ngIf",((i=r.addCategoryForm.get("name"))==null?null:i.invalid)&&((i=r.addCategoryForm.get("name"))==null?null:i.dirty)),f(5),v("ngForOf",r.categories),f(),v("ngForOf",r.subcategoryLevels),f(5),v("disabled",r.addCategoryForm.invalid)}},dependencies:[Hr,Hn,Ot,Rt,Ve,mt,Oe,$n,vi,yi,X,Ie,ce],styles:["body[_ngcontent-%COMP%]{background-color:#f4f6f9;font-family:Roboto,sans-serif;color:#4a4a4a}.container[_ngcontent-%COMP%]{max-width:650px;background-color:#fff;border-radius:16px;box-shadow:0 8px 24px #0000001a;padding:2rem;margin-top:3rem}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:2rem}input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:.5rem;border:1px solid #ced4da;border-radius:8px;font-size:1rem;color:#4a4a4a}input[type=text][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, input[type=file][_ngcontent-%COMP%]:focus{border-color:#80bdff;outline:none;box-shadow:0 0 8px #007bff80}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#007bff;color:#fff;font-size:1rem;border:none;border-radius:8px;cursor:pointer;margin-top:1rem;transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}.alert[_ngcontent-%COMP%]{padding:15px;border-radius:8px;display:flex;justify-content:space-between;align-items:center}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.alert-error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}@media (max-width: 768px){.container[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1.5rem}}"]})};var Ql=class t{constructor(n){this.httpClient=n}API_URL="http://localhost:9000/api/users";getUser(){return this.httpClient.get(`${this.API_URL}`)}updateUser(n){return this.httpClient.post(this.API_URL,n)}updatePassword(n,e){return this.httpClient.put(`${this.API_URL}/updatePassword/${n}`,e)}static \u0275fac=function(e){return new(e||t)(N(Ue))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};var oO=(t,n)=>({success:t,error:n}),Us=t=>({color:t});function sO(t,n){t&1&&(dt(0),P(1,"i",12),ft())}function aO(t,n){t&1&&(dt(0),P(1,"i",13),ft())}function cO(t,n){if(t&1&&(l(0,"div",8)(1,"div",9),w(2,sO,2,0,"ng-container",10)(3,aO,2,0,"ng-container",10),u(),l(4,"div",11),h(5),u()()),t&2){let e=y();v("ngClass",tn(4,oO,e.isSuccess,!e.isSuccess)),f(2),v("ngIf",e.isSuccess),f(),v("ngIf",!e.isSuccess),f(2),V(" ",e.message," ")}}function lO(t,n){if(t&1){let e=R();l(0,"form",14),D("ngSubmit",function(){M(e);let i=y();return T(i.updateUser())}),l(1,"h3",15),h(2,"Update Personal Information"),u(),l(3,"div",16)(4,"label",17),h(5,"Username:"),u(),l(6,"input",18),z("ngModelChange",function(i){M(e);let o=y();return q(o.user.username,i)||(o.user.username=i),T(i)}),u()(),l(7,"div",16)(8,"label",19),h(9,"First Name:"),u(),l(10,"input",20),z("ngModelChange",function(i){M(e);let o=y();return q(o.user.firstName,i)||(o.user.firstName=i),T(i)}),u()(),l(11,"div",16)(12,"label",21),h(13,"Last Name:"),u(),l(14,"input",22),z("ngModelChange",function(i){M(e);let o=y();return q(o.user.lastName,i)||(o.user.lastName=i),T(i)}),u()(),l(15,"div",16)(16,"label",23),h(17,"Email:"),u(),l(18,"input",24),z("ngModelChange",function(i){M(e);let o=y();return q(o.user.email,i)||(o.user.email=i),T(i)}),u()(),l(19,"button",25),h(20,"Update Information"),u()()}if(t&2){let e=y();f(6),H("ngModel",e.user.username),f(4),H("ngModel",e.user.firstName),f(4),H("ngModel",e.user.lastName),f(4),H("ngModel",e.user.email)}}function uO(t,n){t&1&&(l(0,"span"),h(1,"\u2714"),u())}function dO(t,n){t&1&&(l(0,"span"),h(1,"\u2714"),u())}function fO(t,n){t&1&&(l(0,"span"),h(1,"\u2714"),u())}function hO(t,n){t&1&&(l(0,"span"),h(1,"\u2714"),u())}function pO(t,n){t&1&&(l(0,"span"),h(1,"\u2714"),u())}function gO(t,n){if(t&1){let e=R();l(0,"form",14),D("ngSubmit",function(){M(e);let i=y();return T(i.updatePassword())}),l(1,"h3",15),h(2,"Change Password"),u(),l(3,"div",26)(4,"p",27),w(5,uO,2,0,"span",10),h(6," At least 8 characters in length. "),u(),l(7,"p",27),w(8,dO,2,0,"span",10),h(9," Includes at least one uppercase letter. "),u(),l(10,"p",27),w(11,fO,2,0,"span",10),h(12," Includes at least one lowercase letter. "),u(),l(13,"p",27),w(14,hO,2,0,"span",10),h(15," Contains at least one number. "),u(),l(16,"p",27),w(17,pO,2,0,"span",10),h(18," Includes at least one special character (e.g., &, !, #, $). "),u()(),l(19,"div",16)(20,"label",28),h(21,"New Password:"),u(),l(22,"input",29),z("ngModelChange",function(i){M(e);let o=y();return q(o.password,i)||(o.password=i),T(i)}),D("input",function(){M(e);let i=y();return T(i.validatePassword())}),u()(),l(23,"div",16)(24,"label",30),h(25,"Confirm Password:"),u(),l(26,"input",31),z("ngModelChange",function(i){M(e);let o=y();return q(o.confirmPassword,i)||(o.confirmPassword=i),T(i)}),D("input",function(){M(e);let i=y();return T(i.validatePassword())}),u()(),l(27,"button",32),h(28,"Update Password"),u()()}if(t&2){let e=y();f(4),v("ngStyle",en(13,Us,e.passwordConditions.length?"green":"red")),f(),v("ngIf",e.passwordConditions.length),f(2),v("ngStyle",en(15,Us,e.passwordConditions.uppercase?"green":"red")),f(),v("ngIf",e.passwordConditions.uppercase),f(2),v("ngStyle",en(17,Us,e.passwordConditions.lowercase?"green":"red")),f(),v("ngIf",e.passwordConditions.lowercase),f(2),v("ngStyle",en(19,Us,e.passwordConditions.number?"green":"red")),f(),v("ngIf",e.passwordConditions.number),f(2),v("ngStyle",en(21,Us,e.passwordConditions.special?"green":"red")),f(),v("ngIf",e.passwordConditions.special),f(5),H("ngModel",e.password),f(4),H("ngModel",e.confirmPassword),f(),v("disabled",!e.isPasswordValid)}}function mO(t,n){t&1&&(l(0,"p"),h(1,"Loading user information..."),u())}var Yl=class t{constructor(n,e,r){this.route=n;this.userService=e;this.oidcSecurityService=r}user=null;message=null;isSuccess=!1;password="";confirmPassword="";showPasswordForm=!1;isPasswordValid=!1;passwordConditions={length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1};ngOnInit(){this.fetchUserDetails()}fetchUserDetails(){this.userService.getUser().subscribe(n=>{this.user=n,console.log("Fetched user info:",this.user)},n=>{console.error("Error fetching user info:",n)})}updateUser(){this.user&&this.userService.updateUser(this.user).subscribe(n=>{this.showMessage("Personal information updated successfully",!0),console.log("User updated successfully",n),this.isSuccess=!0},n=>{this.showMessage("Error updating user.",!1),console.error("Error updating user",n)})}showMessage(n,e){this.message=n,this.isSuccess=e,setTimeout(()=>{this.message=null},1e4)}updatePassword(){if(this.password!==this.confirmPassword){this.showMessage("Passwords do not match",!1);return}let n={value:this.password};this.oidcSecurityService.getAccessToken().subscribe(e=>{let r=this.decodeToken(e);r&&this.userService.updatePassword(r,n).subscribe(i=>{this.showMessage("Password updated successfully",!0),console.log("Password updated successfully",i),this.isSuccess=!0},i=>{this.showMessage(`Your password does not meet the following requirements:

- At least 8 characters in length.
- Includes at least one uppercase letter.
- Includes at least one lowercase letter.
- Contains at least one number.
- Includes at least one special character (e.g., !, @, #, $).`,!1),console.error("Error updating password",i)})},e=>{console.error("Failed to get access token:",e)})}decodeToken(n){try{let r=n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(r).split("").map(s=>"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)).join("")),o=JSON.parse(i);return o.sub||o.userId||null}catch(e){return console.error("Failed to decode token:",e),null}}togglePasswordForm(){this.showPasswordForm=!this.showPasswordForm}validatePassword(){let n=/[!@#$%^&*(),.?":{}|<>]/;this.passwordConditions.length=this.password.length>=8,this.passwordConditions.uppercase=/[A-Z]/.test(this.password),this.passwordConditions.lowercase=/[a-z]/.test(this.password),this.passwordConditions.number=/\d/.test(this.password),this.passwordConditions.special=n.test(this.password);let e=this.password===this.confirmPassword;this.isPasswordValid=Object.values(this.passwordConditions).every(Boolean)&&e}static \u0275fac=function(e){return new(e||t)(I(ot),I(Ql),I(me))};static \u0275cmp=Q({type:t,selectors:[["app-user-info"]],standalone:!0,features:[J],decls:10,vars:4,consts:[["loading",""],[1,"user-info-container"],["class","alert",3,"ngClass",4,"ngIf"],[3,"ngSubmit",4,"ngIf","ngIfElse"],[1,"button-space"],[1,"update-password-button-container"],[1,"manage-password-button",3,"click"],[3,"ngSubmit",4,"ngIf"],[1,"alert",3,"ngClass"],[1,"alert-icon"],[4,"ngIf"],[1,"alert-message"],[1,"fa","fa-check-circle"],[1,"fa","fa-times-circle"],[3,"ngSubmit"],[1,"section-title"],[1,"user-detail"],["for","username"],["id","username","type","text","name","username","required","","readonly","",3,"ngModelChange","ngModel"],["for","firstName"],["id","firstName","type","text","name","firstName","required","",3,"ngModelChange","ngModel"],["for","lastName"],["id","lastName","type","text","name","lastName","required","",3,"ngModelChange","ngModel"],["for","email"],["id","email","type","email","name","email","required","",3,"ngModelChange","ngModel"],["type","submit",1,"update-button"],[1,"password-requirements"],[3,"ngStyle"],["for","password"],["id","password","type","password","name","password","required","",3,"ngModelChange","input","ngModel"],["for","confirmPassword"],["id","confirmPassword","type","password","name","confirmPassword","required","",3,"ngModelChange","input","ngModel"],["type","submit",1,"update-button",3,"disabled"]],template:function(e,r){if(e&1){let i=R();l(0,"div",1),w(1,cO,6,7,"div",2)(2,lO,21,4,"form",3),P(3,"div",4),l(4,"div",5)(5,"button",6),D("click",function(){return M(i),T(r.togglePasswordForm())}),h(6,"Manage Password"),u()(),w(7,gO,29,23,"form",7)(8,mO,2,0,"ng-template",null,0,Ji),u()}if(e&2){let i=Ge(9);f(),v("ngIf",r.message),f(),v("ngIf",r.user)("ngIfElse",i),f(5),v("ngIf",r.showPasswordForm&&r.user)}},dependencies:[X,it,ce,oy,Hr,Hn,Ve,Oe,$n,Ls,ze,qe,Fs,Mt],styles:["body[_ngcontent-%COMP%]{background-color:#fff;color:#000;font-family:Arial,sans-serif;margin:0;padding:0}.user-info-container[_ngcontent-%COMP%]{padding:30px;border:1px solid #ddd;border-radius:8px;background-color:#fafafa;max-width:600px;margin:40px auto;box-shadow:0 4px 20px #0000001a;transition:transform .3s ease-in-out}.user-info-container[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.alert[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;border-radius:5px;margin-bottom:20px;font-size:16px;transition:opacity .5s ease-out}.success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:1px solid #28a745}.error[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:1px solid #dc3545}.alert-icon[_ngcontent-%COMP%]{margin-right:15px}.alert-message[_ngcontent-%COMP%]{flex:1}.section-title[_ngcontent-%COMP%]{font-size:1.6em;font-weight:700;color:#000;margin:20px 0 10px;border-bottom:2px solid #000;padding-bottom:5px}.user-detail[_ngcontent-%COMP%]{margin-bottom:20px}.user-detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:#000;font-weight:700;margin-bottom:5px}input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;background-color:#fff;color:#000;font-size:1em;transition:border-color .3s ease-in-out}input[_ngcontent-%COMP%]:focus{border-color:#000;outline:none}.manage-password-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px;background-color:#000;color:#fff;border:2px solid white;cursor:pointer;border-radius:5px;transition:background-color .3s ease,color .3s ease}.manage-password-button[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.update-password-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.password-requirements[_ngcontent-%COMP%]{font-size:14px;margin-bottom:15px;list-style:none;padding-left:0}.password-requirements[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;display:flex;align-items:center}.password-requirements[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{margin-right:10px;font-size:16px}.password-requirements[_ngcontent-%COMP%]   p.green[_ngcontent-%COMP%]{color:green}.password-requirements[_ngcontent-%COMP%]   p.red[_ngcontent-%COMP%]{color:red}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}.alert.ng-enter[_ngcontent-%COMP%], .alert.ng-leave[_ngcontent-%COMP%]{opacity:0}.alert.ng-enter-active[_ngcontent-%COMP%], .alert.ng-leave-active[_ngcontent-%COMP%]{opacity:1;transition:opacity .3s ease-in-out}input[_ngcontent-%COMP%], .update-button[_ngcontent-%COMP%]{font-size:1.1em}@media (max-width: 768px){.user-info-container[_ngcontent-%COMP%]{padding:20px;margin:20px}.section-title[_ngcontent-%COMP%]{font-size:1.4em}}.update-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px;background-color:#fff;color:#000;border:2px solid black;cursor:pointer;border-radius:5px;transition:background-color .3s ease,color .3s ease,border-color .3s ease}.update-button[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff;border-color:#000}.update-button[_ngcontent-%COMP%]:disabled{background-color:#d3d3d3;color:#fff;border-color:#000;cursor:not-allowed}"]})};var an=class t{constructor(n){this.http=n}newMessageSubject=new Ce(!1);newMessageMap=new Map;apiUrl="http://localhost:9000/api/contactMessage";getNewMessageStatus(n){return this.newMessageMap.has(n)||this.newMessageMap.set(n,new Ce(!1)),this.newMessageMap.get(n).asObservable()}setNewMessageStatus(n,e){this.newMessageMap.has(n)?this.newMessageMap.get(n).next(e):this.newMessageMap.set(n,new Ce(e))}checkForNewMessages(n,e){this.getAllEmails().subscribe(r=>{let i=r.some(o=>n.includes("ROLE_ADMIN")&&o.lastReplyFrom==="USER"||n.includes("ROLE_USER")&&o.lastReplyFrom==="ADMIN");this.setNewMessageStatus(e,i)})}getAllEmails(){return this.http.get(this.apiUrl)}getAllEmailsByUserId(n){return this.http.get(`${this.apiUrl}?userId=${n}`)}getEmailById(n){return this.http.get(`${this.apiUrl}/${n}`)}replyToEmail(n,e){return this.http.post(`${this.apiUrl}/${n}/reply`,e)}createEmail(n){return this.http.post(this.apiUrl,n)}updateEmailStatus(n,e){return this.http.put(`${this.apiUrl}/${n}`,{status:e})}deleteEmail(n){return this.http.delete(`${this.apiUrl}/${n}`)}static \u0275fac=function(e){return new(e||t)(N(Ue))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};var vO=()=>["/user-dashboard/user-info"],yO=()=>["/user-dashboard/user-orders"],bO=()=>["/user-dashboard/contact-panel"];function CO(t,n){t&1&&(l(0,"button",2),h(1,"My Orders"),u()),t&2&&v("routerLink",vn(1,yO))}function _O(t,n){t&1&&(ge(),l(0,"svg",7),P(1,"path",8),u())}function SO(t,n){if(t&1&&(l(0,"button",5),h(1," Support "),w(2,_O,2,0,"svg",6),u()),t&2){let e=y();v("routerLink",vn(2,bO)),f(2),v("ngIf",e.hasNewMessage)}}var Xl=class t{constructor(n,e){this.oidcSecurityService=n;this.emailService=e}userRoles=[];isAuthenticated=!1;userId="";hasNewMessage=!1;ngOnInit(){this.oidcSecurityService.isAuthenticated$.subscribe(({isAuthenticated:n})=>{this.isAuthenticated=n,n&&(this.loadRoles(),this.loadUserId(),this.userId&&this.emailService.getNewMessageStatus(this.userId).subscribe(e=>{this.hasNewMessage=e}),this.emailService.checkForNewMessages(this.userRoles,this.userId))})}decodeToken(n){try{let r=n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(r).split("").map(o=>`%${("00"+o.charCodeAt(0).toString(16)).slice(-2)}`).join(""));return JSON.parse(i)}catch(e){return console.error("Failed to decode token:",e),null}}loadRoles(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);e&&e.realm_access&&(this.userRoles=e.realm_access.roles||[],this.emailService.checkForNewMessages(this.userRoles,e.sub))})}hasUserRole(){return this.userRoles.includes("ROLE_USER")}loadUserId(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);e&&e.sub&&(this.userId=e.sub,this.checkForMessages())})}checkForMessages(){this.userId&&this.userRoles.length>0&&this.emailService.checkForNewMessages(this.userRoles,this.userId)}static \u0275fac=function(e){return new(e||t)(I(me),I(an))};static \u0275cmp=Q({type:t,selectors:[["app-user-dashboard"]],standalone:!0,features:[J],decls:7,vars:4,consts:[[1,"user-dashboard"],[1,"navigation-buttons","flex","space-x-4"],[1,"nav-button",3,"routerLink"],["class","nav-button",3,"routerLink",4,"ngIf"],["class","nav-button flex items-center",3,"routerLink",4,"ngIf"],[1,"nav-button","flex","items-center",3,"routerLink"],["class","w-5 h-5 text-red-500 ml-2 transition-transform transform hover:scale-110","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5","text-red-500","ml-2","transition-transform","transform","hover:scale-110"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.5 5 7.5-5m-15 0l7.5 5 7.5-5M21 8v8a2 2 0 01-2 2H5a2 2 0 01-2-2V8"]],template:function(e,r){e&1&&(l(0,"div",0)(1,"div",1)(2,"button",2),h(3,"Personal Information"),u(),w(4,CO,2,2,"button",3)(5,SO,3,3,"button",4),u(),P(6,"router-outlet"),u()),e&2&&(f(2),v("routerLink",vn(3,vO)),f(2),v("ngIf",r.hasUserRole()),f(),v("ngIf",r.hasUserRole()))},dependencies:[Mt,ws,Fn,X,ce],styles:[".user-dashboard[_ngcontent-%COMP%]{background-color:#f4f4f4;color:#333;padding:30px;border-radius:12px;box-shadow:0 10px 20px #00000026;animation:_ngcontent-%COMP%_fadeIn .8s ease-out;transform:scale(.98);transition:transform .3s ease-in-out}.user-dashboard[_ngcontent-%COMP%]:hover{transform:scale(1)}.navigation-buttons[_ngcontent-%COMP%]{margin-bottom:30px;display:flex;gap:20px;justify-content:center}.nav-button[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:14px 24px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s ease,transform .3s ease,box-shadow .3s ease;font-size:16px;box-shadow:0 2px 8px #0000001a}.nav-button[_ngcontent-%COMP%]:hover{background-color:#444;transform:translateY(-4px);box-shadow:0 6px 16px #0000001a}.nav-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.new-message-icon[_ngcontent-%COMP%]{color:red;font-size:1.2rem;margin-left:5px;transition:transform .2s ease}.new-message-icon[_ngcontent-%COMP%]:hover{transform:scale(1.2)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.nav-button[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}}"]})};var wO=t=>[t];function DO(t,n){if(t&1&&(l(0,"div",8)(1,"strong"),h(2,"Error:"),u(),h(3),u()),t&2){let e=y();f(3),V(" ",e.errorMessage," ")}}function IO(t,n){if(t&1){let e=R();l(0,"button",9),D("click",function(){M(e);let i=y();return T(i.goToCreateCategoryPage())}),P(1,"i",10),h(2," Create Category "),u()}}function EO(t,n){if(t&1){let e=R();l(0,"div")(1,"button",16),D("click",function(){M(e);let i=y().$implicit,o=y();return T(o.deleteCategory(i.id))}),P(2,"i",17),h(3," Delete "),u()()}}function xO(t,n){if(t&1&&(l(0,"div",11)(1,"a",12),P(2,"img",13),u(),l(3,"h3",14),h(4),u(),w(5,EO,4,0,"div",15),u()),t&2){let e=n.$implicit,r=y();f(),v("routerLink",en(5,wO,"/category-details/"+e.id)),f(),Ke("alt",e.name),v("src",e.thumbnailUrl,We),f(2),L(e.name),f(),v("ngIf",r.isAuthenticated&&r.hasAdminRole())}}function MO(t,n){t&1&&(l(0,"p",18),h(1,"No categories found."),u())}var eu=class t{constructor(n,e,r){this.categoryService=n;this.router=e;this.oidcSecurityService=r}categories=[];errorMessage=null;userRoles=[];isAuthenticated=!1;ngOnInit(){this.oidcSecurityService.isAuthenticated$.subscribe(({isAuthenticated:n})=>{this.isAuthenticated=n,n&&this.loadRoles(),this.loadCategories()})}loadCategories(){this.categoryService.getCategories().subscribe(n=>{this.categories=n.filter(e=>e.isMain===!0)},n=>{console.error("Error loading categories",n)})}deleteCategory(n){confirm("Are you sure you want to delete this category?")&&this.categoryService.deleteCategory(n).subscribe(()=>{this.categories=this.categories.filter(e=>e.id!==n)},e=>{this.errorMessage="Failed to delete category."})}goToCreateCategoryPage(){this.router.navigateByUrl("/categories")}hasAdminRole(){return this.userRoles.includes("ROLE_ADMIN")}loadRoles(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);e&&e.realm_access&&(this.userRoles=e.realm_access.roles||[])})}decodeToken(n){try{let r=n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(r).split("").map(o=>`%${("00"+o.charCodeAt(0).toString(16)).slice(-2)}`).join(""));return JSON.parse(i)}catch(e){return console.error("Failed to decode token:",e),null}}static \u0275fac=function(e){return new(e||t)(I(kt),I(ae),I(me))};static \u0275cmp=Q({type:t,selectors:[["app-category-list"]],standalone:!0,features:[J],decls:9,vars:4,consts:[[1,"container","mx-auto","p-6","bg-white","rounded-lg","shadow-xl"],[1,"text-4xl","font-bold","mb-8","text-black","text-center"],["class","alert-error mb-6",4,"ngIf"],[1,"flex","justify-end","mb-8"],["class","btn-create",3,"click",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-8"],["class","card",4,"ngFor","ngForOf"],["class","text-gray-500 text-center mt-6",4,"ngIf"],[1,"alert-error","mb-6"],[1,"btn-create",3,"click"],[1,"bi","bi-plus-circle"],[1,"card"],[1,"no-underline",3,"routerLink"],[1,"category-image",3,"src","alt"],[1,"category-name"],[4,"ngIf"],[1,"btn-delete",3,"click"],[1,"bi","bi-trash"],[1,"text-gray-500","text-center","mt-6"]],template:function(e,r){e&1&&(l(0,"div",0)(1,"h2",1),h(2,"Categories"),u(),w(3,DO,4,1,"div",2),l(4,"div",3),w(5,IO,3,0,"button",4),u(),l(6,"div",5),w(7,xO,6,7,"div",6),u(),w(8,MO,2,0,"p",7),u()),e&2&&(f(3),v("ngIf",r.errorMessage),f(2),v("ngIf",r.isAuthenticated&&r.hasAdminRole()),f(2),v("ngForOf",r.categories),f(),v("ngIf",r.categories.length===0))},dependencies:[ze,X,Ie,ce,Mt,Fn],styles:[".container[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:16px;box-shadow:0 6px 16px #0000001a;padding:2rem;max-width:1200px;margin:0 auto}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;border:1px solid #e5e7eb;padding:1.5rem;box-shadow:0 4px 8px #0000001a;transition:transform .3s ease,box-shadow .3s ease;text-align:center;cursor:pointer}.card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 6px 14px #00000026}.category-image[_ngcontent-%COMP%]{width:100%;height:220px;object-fit:cover;border-radius:12px}.category-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1f2937;margin-top:1rem}.btn-create[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff;padding:.75rem 1.5rem;border-radius:12px;font-size:1.125rem;transition:background-color .3s ease,transform .2s ease;display:flex;align-items:center}.btn-create[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.btn-create[_ngcontent-%COMP%]:hover{background-color:#2563eb;transform:scale(1.05)}.btn-delete[_ngcontent-%COMP%]{background-color:#ef4444;color:#fff;padding:.5rem 1.25rem;border-radius:8px;font-size:1rem;margin-top:1rem;transition:background-color .3s ease,transform .2s ease}.btn-delete[_ngcontent-%COMP%]:hover{background-color:#dc2626;transform:scale(1.05)}.alert-error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb;padding:15px;border-radius:12px;margin-bottom:2rem;font-size:1rem}@media (min-width: 768px){.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (min-width: 1280px){.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}.no-underline[_ngcontent-%COMP%]{text-decoration:none}.text-center[_ngcontent-%COMP%]{text-align:center}.text-gray-500[_ngcontent-%COMP%]{color:#6b7280}.mt-6[_ngcontent-%COMP%]{margin-top:1.5rem}.mb-6[_ngcontent-%COMP%]{margin-bottom:1.5rem}.mb-8[_ngcontent-%COMP%]{margin-bottom:2rem}"]})};var tu=class t{constructor(n){this.http=n}apiUrl="http://localhost:9000/api/products";getComments(n){return this.http.get(`${this.apiUrl}/${n}/comments`)}addComment(n,e){return this.http.post(`${this.apiUrl}/${n}/comments`,e)}addReply(n,e,r){return this.http.post(`${this.apiUrl}/${n}/comments/${e}`,r)}deleteComment(n,e){return this.http.delete(`${this.apiUrl}/${n}/comments/${e}`)}static \u0275fac=function(e){return new(e||t)(N(Ue))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};function PO(t,n){if(t&1){let e=R();dt(0),l(1,"div",8)(2,"h2"),h(3,"Edit Product"),u(),l(4,"div",9)(5,"label",10),h(6,"Thumbnail:"),u(),l(7,"input",11),D("change",function(i){M(e);let o=y();return T(o.onFileSelected(i))}),u()(),l(8,"div",9)(9,"label",12),h(10,"Name:"),u(),l(11,"input",13),z("ngModelChange",function(i){M(e);let o=y();return q(o.product.name,i)||(o.product.name=i),T(i)}),u()(),l(12,"div",9)(13,"label",14),h(14,"Description:"),u(),l(15,"textarea",15),z("ngModelChange",function(i){M(e);let o=y();return q(o.product.description,i)||(o.product.description=i),T(i)}),u()(),l(16,"div",9)(17,"label",16),h(18,"Price:"),u(),l(19,"input",17),z("ngModelChange",function(i){M(e);let o=y();return q(o.product.price,i)||(o.product.price=i),T(i)}),u()(),l(20,"button",18),D("click",function(){M(e);let i=y();return T(i.updateProduct(i.product.id))}),h(21,"Update Product"),u()(),ft()}if(t&2){let e=y();f(11),H("ngModel",e.product.name),f(4),H("ngModel",e.product.description),f(4),H("ngModel",e.product.price)}}function AO(t,n){if(t&1){let e=R();dt(0),l(1,"h1",19),h(2),u(),l(3,"p",20),h(4),u(),l(5,"div",21)(6,"span",22),h(7),u()(),l(8,"button",23),D("click",function(){M(e);let i=y();return T(i.addToCart(i.product==null?null:i.product.id))}),h(9,"Add to Cart"),u(),ft()}if(t&2){let e=y();f(2),L(e.product==null?null:e.product.name),f(2),L(e.product==null?null:e.product.description),f(3),V("$",e.product==null||e.product.price==null?null:e.product.price.toFixed(2),"")}}function kO(t,n){if(t&1&&(l(0,"div",34)(1,"p")(2,"strong"),h(3),u(),h(4),u(),l(5,"p",28),h(6),Re(7,"date"),u()()),t&2){let e=n.$implicit;f(3),V("",e.author,":"),f(),V(" ",e.text,""),f(2),L(Ze(7,3,e.createdAt,"medium"))}}function OO(t,n){if(t&1&&(l(0,"div",32),w(1,kO,8,6,"div",33),u()),t&2){let e=y().$implicit;f(),v("ngForOf",e.replies)}}function RO(t,n){if(t&1){let e=R();l(0,"div",35)(1,"textarea",36),z("ngModelChange",function(i){M(e);let o=y(3);return q(o.replyText,i)||(o.replyText=i),T(i)}),u(),l(2,"button",37),D("click",function(){M(e);let i=y().$implicit,o=y(2);return T(o.addReply(i.id))}),h(3,"Reply"),u()()}if(t&2){let e=y(3);f(),H("ngModel",e.replyText)}}function NO(t,n){if(t&1){let e=R();l(0,"button",38),D("click",function(){M(e);let i=y().$implicit,o=y(2);return T(o.deleteComment(i.id))}),h(1,"Delete"),u()}}function FO(t,n){if(t&1&&(l(0,"div",27)(1,"p")(2,"strong"),h(3),u(),h(4),u(),l(5,"p",28),h(6),Re(7,"date"),u(),w(8,OO,2,1,"div",29)(9,RO,4,1,"div",30)(10,NO,2,0,"button",31),u()),t&2){let e=n.$implicit,r=y(2);f(3),V("",e.author,":"),f(),V(" ",e.text,""),f(2),L(Ze(7,6,e.createdAt,"medium")),f(2),v("ngIf",e.replies==null?null:e.replies.length),f(),v("ngIf",r.isAuthenticated),f(),v("ngIf",r.hasAdminRole())}}function LO(t,n){if(t&1){let e=R();l(0,"div",39)(1,"textarea",40),z("ngModelChange",function(i){M(e);let o=y(2);return q(o.newCommentText,i)||(o.newCommentText=i),T(i)}),u(),l(2,"button",41),D("click",function(){M(e);let i=y(2);return T(i.addComment())}),h(3,"Submit"),u()()}if(t&2){let e=y(2);f(),H("ngModel",e.newCommentText)}}function VO(t,n){t&1&&(l(0,"div")(1,"p"),h(2,"Please log in to add comments."),u()())}function jO(t,n){if(t&1&&(l(0,"div",24)(1,"h2"),h(2,"Comments"),u(),w(3,FO,11,9,"div",25)(4,LO,4,1,"div",26)(5,VO,3,0,"div",3),u()),t&2){let e=y();f(3),v("ngForOf",e.comments)("ngForTrackBy",e.trackByCommentId),f(),v("ngIf",e.isAuthenticated),f(),v("ngIf",!e.isAuthenticated)}}function UO(t,n){if(t&1&&(l(0,"div",42),h(1),u()),t&2){let e=y();f(),V(" ",e.successMessage," ")}}function BO(t,n){if(t&1&&(l(0,"div",43),h(1),u()),t&2){let e=y();f(),V(" ",e.errorMessage," ")}}var nu=class t{constructor(n,e,r,i,o,s,a){this.route=n;this.productService=e;this.cartService=r;this.commentService=i;this.oidcSecurityService=o;this.router=s;this.sanitizer=a}product;errorMessage="";userId="";userName="";successMessage="";isAuthenticated=!1;selectedFile=null;userRoles=[];comments=[];newCommentText="";replyText="";commentsVisible=!1;ngOnInit(){this.route.paramMap.subscribe(n=>{let e=n.get("id");e&&(this.getProductById(e),this.getComments(e))}),this.oidcSecurityService.isAuthenticated$.subscribe(({isAuthenticated:n})=>{this.isAuthenticated=n,n&&(this.loadRoles(),this.loadUserId(),this.loadUserName())})}getComments(n){this.commentService.getComments(n).subscribe({next:e=>this.comments=e,error:e=>this.errorMessage="Failed to load comments"})}addComment(){if(!this.newCommentText.trim())return;if(!this.product||!this.product.id){this.errorMessage="Product not found";return}let n={text:this.newCommentText,author:this.userName||"Anonymous"};this.commentService.addComment(this.product.id,n).subscribe({next:e=>{this.getComments(this.product.id),this.newCommentText=""},error:e=>{this.errorMessage="Failed to add comment",console.error(e)}})}addReply(n){if(!this.replyText.trim())return;if(!this.product||!this.product.id){this.errorMessage="Product not found";return}let e={author:this.userName,text:this.replyText};this.commentService.addReply(this.product.id,n,e).subscribe({next:r=>{this.getComments(this.product.id),this.replyText=""},error:r=>{this.errorMessage="Failed to add reply",console.error(r)}})}deleteComment(n){if(!n||!this.product?.id){this.errorMessage="Invalid comment ID or product ID";return}this.commentService.deleteComment(this.product.id,n).subscribe({next:()=>{this.comments=this.comments.filter(e=>e.id!==n)},error:e=>{this.errorMessage="Failed to delete comment",console.error(e)}})}getProductById(n){this.productService.getProductById(n).subscribe({next:e=>this.product=e,error:e=>this.errorMessage="Product not found"})}addToCart(n){if(!this.userId||!n){this.errorMessage="Please provide a valid user ID, product ID, and quantity.";return}this.cartService.addToCart(this.userId,n).subscribe(()=>{this.successMessage="Product added to cart successfully!",this.errorMessage="",setTimeout(()=>{this.successMessage=""},5e3)},e=>{this.errorMessage="Failed to add product to cart."})}loadUserId(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);e&&e.sub&&(this.userId=e.sub)})}decodeToken(n){try{let r=n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(r).split("").map(o=>`%${("00"+o.charCodeAt(0).toString(16)).slice(-2)}`).join(""));return JSON.parse(i)}catch(e){return console.error("Failed to decode token:",e),null}}onFileSelected(n){let e=n.target.files[0];e&&(this.selectedFile=e)}updateProduct(n){if(!n){this.errorMessage="Product ID is missing";return}if(!this.product)return;let e=new FormData;e.append("name",this.product.name||""),e.append("description",this.product.description||""),e.append("price",this.product.price?.toString()||""),this.selectedFile&&e.append("thumbnail",this.selectedFile),this.productService.updateProduct(n,e).subscribe({next:()=>{this.successMessage="Product updated successfully!",this.getProductById(n)},error:r=>this.errorMessage="Failed to update product"})}hasAdminRole(){return this.userRoles.includes("ROLE_ADMIN")}loadRoles(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);e&&e.realm_access&&(this.userRoles=e.realm_access.roles||[],console.log("User Roles:",this.userRoles))})}loadUserName(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);e&&e.email&&(this.userName=e.name)})}trackByCommentId(n,e){return e.id}toggleComments(){this.commentsVisible=!this.commentsVisible}static \u0275fac=function(e){return new(e||t)(I(ot),I(Un),I(Bn),I(tu),I(me),I(ae),I(yh))};static \u0275cmp=Q({type:t,selectors:[["app-product-details"]],standalone:!0,features:[J],decls:10,vars:8,consts:[[1,"product-details-container"],[1,"product-image"],[3,"src","alt"],[4,"ngIf"],[1,"btn-outline","toggle-comments-btn",3,"click"],["class","comments-section",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"admin-section"],[1,"admin-field"],["for","thumbnail"],["id","thumbnail","type","file",3,"change"],["for","name"],["id","name","type","text",3,"ngModelChange","ngModel"],["for","description"],["id","description",3,"ngModelChange","ngModel"],["for","price"],["id","price","type","number",3,"ngModelChange","ngModel"],[1,"btn-primary",3,"click"],[1,"product-name"],[1,"product-description"],[1,"product-price"],[1,"price"],[1,"btn-primary","add-to-cart-btn",3,"click"],[1,"comments-section"],["class","comment-box",4,"ngFor","ngForOf","ngForTrackBy"],["class","new-comment",4,"ngIf"],[1,"comment-box"],[1,"comment-date"],["class","replies",4,"ngIf"],["class","reply-form",4,"ngIf"],["class","btn-danger delete-button",3,"click",4,"ngIf"],[1,"replies"],["class","reply-box",4,"ngFor","ngForOf"],[1,"reply-box"],[1,"reply-form"],["placeholder","Reply",3,"ngModelChange","ngModel"],[1,"btn-outline","reply-btn",3,"click"],[1,"btn-danger","delete-button",3,"click"],[1,"new-comment"],["placeholder","Add a comment",3,"ngModelChange","ngModel"],[1,"btn-outline","add-comment-btn",3,"click"],[1,"alert","alert-success"],[1,"alert","alert-danger"]],template:function(e,r){e&1&&(l(0,"div",0)(1,"div",1),P(2,"img",2),u(),w(3,PO,22,3,"ng-container",3)(4,AO,10,3,"ng-container",3),l(5,"button",4),D("click",function(){return r.toggleComments()}),h(6),u(),w(7,jO,6,4,"div",5)(8,UO,2,1,"div",6)(9,BO,2,1,"div",7),u()),e&2&&(f(2),Ke("alt",r.product==null?null:r.product.name),v("src",r.product==null?null:r.product.thumbnailUrl,We),f(),v("ngIf",r.product&&r.hasAdminRole()),f(),v("ngIf",!r.hasAdminRole()||!r.isAuthenticated),f(2),V(" ",r.commentsVisible?"Hide Comments":"Show Comments"," "),f(),v("ngIf",r.commentsVisible),f(),v("ngIf",r.successMessage),f(),v("ngIf",r.errorMessage))},dependencies:[X,Ie,ce,kn,ze,Ve,mi,Oe,qe],styles:[".product-details-container[_ngcontent-%COMP%]{max-width:1000px;margin:30px auto;padding:25px;background-color:#fdfdfd;border-radius:10px;box-shadow:0 8px 24px #0000001a}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:contain;border-radius:12px;display:block;margin:0 auto;max-width:300px}.admin-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px;font-weight:700}.admin-field[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{font-weight:600;display:block;margin-bottom:5px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ccc;border-radius:6px;font-size:16px;margin-top:5px;box-sizing:border-box}button[_ngcontent-%COMP%]{padding:12px 20px;font-size:16px;border-radius:6px;cursor:pointer;transition:background-color .3s ease;width:100%;box-sizing:border-box}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-outline[_ngcontent-%COMP%]{background-color:transparent;border:2px solid #007bff;color:#007bff}.btn-outline[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333}.product-name[_ngcontent-%COMP%]{font-size:32px;margin-bottom:10px;font-weight:700}.product-description[_ngcontent-%COMP%]{font-size:18px;color:#555;margin-bottom:20px}.product-price[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.comment-box[_ngcontent-%COMP%]{padding:15px;background-color:#f8f9fa;border:1px solid #ddd;border-radius:10px;margin-bottom:15px;transition:background-color .3s ease}.comment-box[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.comment-date[_ngcontent-%COMP%]{font-size:12px;color:#666}.reply-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:6px}.alert[_ngcontent-%COMP%]{padding:15px;margin-top:20px;border-radius:6px}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}"]})};function $O(t,n){if(t&1){let e=R();dt(0),l(1,"div",7)(2,"h2"),h(3,"Edit Category"),u(),l(4,"div",8)(5,"label",9),h(6,"Thumbnail:"),u(),l(7,"input",10),D("change",function(i){M(e);let o=y();return T(o.onFileSelected(i))}),u()(),l(8,"div",8)(9,"label",11),h(10,"Name:"),u(),l(11,"input",12),z("ngModelChange",function(i){M(e);let o=y();return q(o.category.name,i)||(o.category.name=i),T(i)}),u()(),l(12,"button",13),D("click",function(){M(e);let i=y();return T(i.updateCategory(i.category.id))}),h(13," Update Category "),u()(),ft()}if(t&2){let e=y();f(11),H("ngModel",e.category.name)}}function HO(t,n){if(t&1&&(l(0,"div",14),h(1),u()),t&2){let e=y();f(),V(" ",e.successMessage," ")}}function zO(t,n){if(t&1&&(l(0,"div",15),h(1),u()),t&2){let e=y();f(),V(" ",e.errorMessage," ")}}function WO(t,n){if(t&1){let e=R();dt(0),l(1,"li",18),h(2),l(3,"button",19),D("click",function(){let i=M(e).$implicit,o=y(4);return T(o.deleteCategory(i==null?null:i.id))}),h(4," Delete "),u()(),ft()}if(t&2){let e=n.$implicit;f(2),V(" ",e.name," "),f(),v("disabled",!(e!=null&&e.id))}}function GO(t,n){if(t&1&&(l(0,"div",21)(1,"ul"),w(2,WO,5,2,"ng-container",17),u()()),t&2){let e=y().$implicit;f(2),v("ngForOf",e.subcategories)}}function qO(t,n){if(t&1){let e=R();dt(0),l(1,"li",18),h(2),l(3,"button",19),D("click",function(){let i=M(e).$implicit,o=y(2);return T(o.deleteCategory(i==null?null:i.id))}),h(4," Delete "),u(),w(5,GO,3,1,"div",20),u(),ft()}if(t&2){let e=n.$implicit;f(2),V(" ",e.name," "),f(),v("disabled",!(e!=null&&e.id)),f(2),v("ngIf",e==null?null:e.subcategories)}}function KO(t,n){if(t&1&&(l(0,"div",16)(1,"h3"),h(2,"Subcategories"),u(),l(3,"ul"),w(4,qO,6,3,"ng-container",17),u()()),t&2){let e=y();f(4),v("ngForOf",e.category==null?null:e.category.subcategories)}}var ru=class t{constructor(n,e,r,i){this.route=n;this.categoryService=e;this.oidcSecurityService=r;this.router=i}category=null;errorMessage="";successMessage="";isAuthenticated=!1;selectedFile=null;ngOnInit(){this.oidcSecurityService.isAuthenticated$.subscribe(({isAuthenticated:n})=>{this.isAuthenticated=n,n&&this.route.paramMap.subscribe(e=>{let r=e.get("id");r&&this.getCategoryById(r)})})}getCategoryById(n){this.categoryService.getCategoryById(n).subscribe({next:e=>{console.log("Fetched category:",e),this.category=e},error:e=>this.errorMessage="Category not found"})}onFileSelected(n){let e=n.target.files[0];e&&(this.selectedFile=e)}updateCategory(n){if(!this.category)return;let e=new FormData;e.append("name",this.category.name||""),this.selectedFile&&e.append("thumbnail",this.selectedFile),this.categoryService.updateCategory(n,e).subscribe({next:()=>{this.successMessage="Category updated successfully!",this.getCategoryById(n)},error:r=>{this.errorMessage="Failed to update category"}})}deleteCategory(n){if(!n){this.errorMessage="Category ID is missing";return}confirm("Are you sure you want to delete this category?")&&this.categoryService.deleteCategory(n).subscribe({next:()=>{this.successMessage="Category deleted successfully!",this.category&&this.getCategoryById(this.category.id)},error:()=>{this.errorMessage="Failed to delete category"}})}static \u0275fac=function(e){return new(e||t)(I(ot),I(kt),I(me),I(ae))};static \u0275cmp=Q({type:t,selectors:[["app-category-details"]],standalone:!0,features:[J],decls:7,vars:6,consts:[[1,"product-details-container"],[1,"product-image"],[3,"src","alt"],[4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","subcategories-list",4,"ngIf"],[1,"admin-section"],[1,"form-group"],["for","thumbnail"],["id","thumbnail","type","file",3,"change"],["for","name"],["id","name","type","text",3,"ngModelChange","ngModel"],[1,"update-button",3,"click"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"subcategories-list"],[4,"ngFor","ngForOf"],[1,"subcategory-item"],[3,"click","disabled"],["class","nested-subcategories",4,"ngIf"],[1,"nested-subcategories"]],template:function(e,r){e&1&&(l(0,"div",0)(1,"div",1),P(2,"img",2),u(),w(3,$O,14,1,"ng-container",3)(4,HO,2,1,"div",4)(5,zO,2,1,"div",5)(6,KO,5,1,"div",6),u()),e&2&&(f(2),Ke("alt",r.category==null?null:r.category.name),v("src",r.category==null?null:r.category.thumbnailUrl,We),f(),v("ngIf",r.category),f(),v("ngIf",r.successMessage),f(),v("ngIf",r.errorMessage),f(),v("ngIf",r.category==null?null:r.category.subcategories))},dependencies:[X,Ie,ce,ze,Ve,Oe,qe],styles:[".product-details-container[_ngcontent-%COMP%]{max-width:800px;margin:40px auto;padding:30px;background-color:#f4f4f4;border-radius:15px;box-shadow:0 8px 30px #0000001a;display:flex;flex-direction:column;align-items:center;transition:all .3s ease}.product-details-container[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 12px 50px #0003}.product-image[_ngcontent-%COMP%]{width:100%;max-width:400px;margin-bottom:20px}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:contain;border-radius:10px;border:2px solid #e0e0e0}.admin-section[_ngcontent-%COMP%]{width:100%;text-align:left}h2[_ngcontent-%COMP%]{font-size:28px;color:#333;margin-bottom:25px;font-weight:700}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{font-weight:600;color:#444}input[type=file][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{width:100%;padding:15px;margin-top:8px;border-radius:10px;border:2px solid #e0e0e0;font-size:16px;transition:border-color .3s ease}input[type=text][_ngcontent-%COMP%]:focus, input[type=file][_ngcontent-%COMP%]:focus{border-color:#4c51bf}button[_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#4c51bf;color:#fff;border:none;border-radius:10px;font-size:18px;cursor:pointer;transition:background-color .3s ease,transform .2s ease}button[_ngcontent-%COMP%]:hover{background-color:#3b40b4;transform:translateY(-3px)}.alert[_ngcontent-%COMP%]{padding:15px;border-radius:10px;margin-top:25px;width:100%;font-size:16px}.alert-success[_ngcontent-%COMP%]{background-color:#d1e7dd;color:#0f5132}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#842029}.subcategories-list[_ngcontent-%COMP%]{width:100%;margin-top:40px}.subcategory-item[_ngcontent-%COMP%]{margin-bottom:20px;font-size:16px;display:flex;justify-content:space-between;align-items:center}.subcategory-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 12px;background-color:#e53e3e;border-radius:5px;color:#fff;font-size:14px}.subcategory-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#c53030}.nested-subcategories[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding-left:20px;margin-top:10px}ul[_ngcontent-%COMP%]{list-style-type:none;padding-left:0;margin-top:15px}"]})};var ZO=(t,n)=>({"opacity-100":t,"opacity-0":n});function QO(t,n){if(t&1){let e=R();l(0,"div",12)(1,"div")(2,"strong",13),h(3,"Success!"),u(),l(4,"span",14),h(5),u()(),l(6,"button",15),D("click",function(){M(e);let i=y();return T(i.successMessage="")}),ge(),l(7,"svg",16)(8,"title"),h(9,"Close"),u(),P(10,"path",17),u()()()}if(t&2){let e=y();v("ngClass",tn(2,ZO,e.successMessage,!e.successMessage)),f(5),L(e.successMessage)}}function YO(t,n){t&1&&(l(0,"small"),h(1,"Email is required."),u())}function JO(t,n){t&1&&(l(0,"small"),h(1,"Enter a valid email."),u())}function XO(t,n){if(t&1&&(l(0,"div",18),w(1,YO,2,0,"small",19)(2,JO,2,0,"small",19),u()),t&2){let e,r,i=y();f(),v("ngIf",(e=i.contactForm.get("email"))==null||e.errors==null?null:e.errors.required),f(),v("ngIf",(r=i.contactForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function eR(t,n){t&1&&(l(0,"div",18)(1,"small"),h(2,"Subject is required."),u()())}function tR(t,n){t&1&&(l(0,"div",18)(1,"small"),h(2,"Message is required."),u()())}var iu=class t{constructor(n,e,r,i){this.fb=n;this.http=e;this.emailService=r;this.oidcSecurityService=i;this.contactForm=this.fb.group({email:["",[Ne.required,Ne.email]],subject:["",[Ne.required]],emailBody:["",[Ne.required]]})}contactForm;userId="";isAuthenticated=!1;userEmail="";successMessage="";ngOnInit(){this.oidcSecurityService.isAuthenticated$.subscribe(({isAuthenticated:n})=>{this.isAuthenticated=n,n&&(this.loadUserEmail(),this.loadUserId())})}loadUserEmail(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);e&&e.email&&(this.userEmail=e.email,this.contactForm.patchValue({email:this.userEmail}),this.contactForm.get("email")?.disable())})}onSubmit(){if(this.contactForm.valid){let n=this.contactForm.getRawValue();n.userId=this.userId,this.emailService.createEmail(n).subscribe(()=>{this.successMessage="Contact Us request has been sent successfully!",setTimeout(()=>{this.successMessage=""},3e3)})}}decodeToken(n){try{let r=n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(r).split("").map(o=>`%${("00"+o.charCodeAt(0).toString(16)).slice(-2)}`).join(""));return JSON.parse(i)}catch(e){return console.error("Failed to decode token:",e),null}}loadUserId(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);e&&e.sub&&(this.userId=e.sub)})}static \u0275fac=function(e){return new(e||t)(I(wo),I(Ue),I(an),I(me))};static \u0275cmp=Q({type:t,selectors:[["app-contact-us"]],standalone:!0,features:[J],decls:22,vars:7,consts:[[1,"contact-us-container"],["class","bg-green-100 border border-green-400 text-green-700 px-6 py-4 rounded-md relative mb-6 flex justify-between items-center transition ease-in-out duration-500 transform","role","alert",3,"ngClass",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["id","email","formControlName","email","type","email","placeholder","Enter your email",3,"disabled"],["class","error-message",4,"ngIf"],["for","subject"],["id","subject","formControlName","subject","type","text","placeholder","Enter subject"],["for","emailBody"],["id","emailBody","formControlName","emailBody","placeholder","Enter your message"],["type","submit",1,"submit-button",3,"disabled"],["role","alert",1,"bg-green-100","border","border-green-400","text-green-700","px-6","py-4","rounded-md","relative","mb-6","flex","justify-between","items-center","transition","ease-in-out","duration-500","transform",3,"ngClass"],[1,"font-bold"],[1,"ml-2"],[1,"text-green-500","hover:text-green-700","focus:outline-none",3,"click"],["role","button","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20",1,"fill-current","h-6","w-6"],["d","M14.348 5.652a1 1 0 00-1.414 0L10 8.586 7.066 5.652a1 1 0 00-1.414 1.414L8.586 10l-2.934 2.934a1 1 0 101.414 1.414L10 11.414l2.934 2.934a1 1 0 001.414-1.414L11.414 10l2.934-2.934a1 1 0 000-1.414z"],[1,"error-message"],[4,"ngIf"]],template:function(e,r){if(e&1&&(l(0,"div",0)(1,"h1"),h(2,"Contact Us"),u(),w(3,QO,11,5,"div",1),l(4,"form",2),D("ngSubmit",function(){return r.onSubmit()}),l(5,"div",3)(6,"label",4),h(7,"Email Address:"),u(),P(8,"input",5),w(9,XO,3,2,"div",6),u(),l(10,"div",3)(11,"label",7),h(12,"Subject:"),u(),P(13,"input",8),w(14,eR,3,0,"div",6),u(),l(15,"div",3)(16,"label",9),h(17,"Message:"),u(),P(18,"textarea",10),w(19,tR,3,0,"div",6),u(),l(20,"button",11),h(21,"Send"),u()()()),e&2){let i,o,s;f(3),v("ngIf",r.successMessage),f(),v("formGroup",r.contactForm),f(4),v("disabled",r.isAuthenticated),f(),v("ngIf",((i=r.contactForm.get("email"))==null?null:i.invalid)&&((i=r.contactForm.get("email"))==null?null:i.touched)),f(5),v("ngIf",((o=r.contactForm.get("subject"))==null?null:o.invalid)&&((o=r.contactForm.get("subject"))==null?null:o.touched)),f(5),v("ngIf",((s=r.contactForm.get("emailBody"))==null?null:s.invalid)&&((s=r.contactForm.get("emailBody"))==null?null:s.touched)),f(),v("disabled",r.contactForm.invalid)}},dependencies:[Hr,Hn,Ve,Oe,$n,vi,yi,X,it,ce],styles:[".contact-us-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h1[_ngcontent-%COMP%]{text-align:center;color:#333}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}label[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:5px;color:#333}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;border-radius:4px;font-size:1rem}textarea[_ngcontent-%COMP%]{height:150px;resize:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:.875rem;margin-top:5px}.submit-button[_ngcontent-%COMP%]{padding:12px 20px;background-color:#4caf50;color:#fff;border:none;border-radius:4px;font-size:1rem;cursor:pointer;transition:background-color .3s ease}.submit-button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.submit-button[_ngcontent-%COMP%]:hover:enabled{background-color:#45a049}.alert[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;border-radius:.375rem}.alert[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700}.alert[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;color:inherit;cursor:pointer;font-size:1rem}.alert-transition[_ngcontent-%COMP%]{transition:opacity .5s ease-in-out}"]})};var Ip=class{constructor(){this.change=new Le,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(n){return n.id==null&&(n.id=this.DEFAULT_ID),this.instances[n.id]?this.updateInstance(n):(this.instances[n.id]=n,!0)}updateInstance(n){let e=!1;for(let r in this.instances[n.id])n[r]!==this.instances[n.id][r]&&(this.instances[n.id][r]=n[r],e=!0);return e}getCurrentPage(n){return this.instances[n]?this.instances[n].currentPage:1}setCurrentPage(n,e){if(this.instances[n]){let r=this.instances[n],i=Math.ceil(r.totalItems/r.itemsPerPage);e<=i&&1<=e&&(this.instances[n].currentPage=e,this.change.emit(n))}}setTotalItems(n,e){this.instances[n]&&0<=e&&(this.instances[n].totalItems=e,this.change.emit(n))}setItemsPerPage(n,e){this.instances[n]&&(this.instances[n].itemsPerPage=e,this.change.emit(n))}getInstance(n=this.DEFAULT_ID){return this.instances[n]?this.clone(this.instances[n]):{}}clone(n){var e={};for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);return e}},QB=Number.MAX_SAFE_INTEGER;var LC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Vt({type:t}),t.\u0275inj=Lt({providers:[Ip],imports:[[X]]}),t})();function nR(t,n){t&1&&(l(0,"h1"),h(1,"Requests Panel"),u())}function rR(t,n){if(t&1){let e=R();l(0,"button",20),D("click",function(){M(e);let i=y();return T(i.createNewRequest())}),h(1," Create New Request "),u()}}function iR(t,n){if(t&1&&(l(0,"option",21),h(1),u()),t&2){let e=n.$implicit;v("value",e),f(),L(e)}}function oR(t,n){t&1&&(l(0,"span",26),h(1,"New Message"),u())}function sR(t,n){if(t&1){let e=R();l(0,"button",27),D("click",function(i){M(e);let o=y().$implicit;return y().updateStatus(o.id,"CLOSED"),T(i.stopPropagation())}),h(1," Close "),u()}}function aR(t,n){if(t&1){let e=R();l(0,"button",27),D("click",function(i){M(e);let o=y().$implicit;return y().updateStatus(o.id,"OPEN"),T(i.stopPropagation())}),h(1," Reopen "),u()}}function cR(t,n){if(t&1){let e=R();l(0,"button",28),D("click",function(i){M(e);let o=y().$implicit;return y().deleteEmail(o.id),T(i.stopPropagation())}),h(1,"Delete"),u()}}function lR(t,n){if(t&1){let e=R();l(0,"tr",22),D("click",function(){let i=M(e).$implicit,o=y();return T(o.navigateToMessage(i.id))}),l(1,"td"),h(2),w(3,oR,2,0,"span",23),u(),l(4,"td"),h(5),u(),l(6,"td"),h(7),u(),l(8,"td"),h(9),Re(10,"date"),u(),l(11,"td"),w(12,sR,2,0,"button",24)(13,aR,2,0,"button",24)(14,cR,2,0,"button",25),u()()}if(t&2){let e=n.$implicit,r=y();v("ngClass",r.getMessageClass(e)),f(2),V(" ",e.subject," "),f(),v("ngIf",r.isNewMessage(e)),f(2),L(e.email),f(2),L(e.status),f(2),L(Ze(10,9,e.lastReplyAt,"short")),f(3),v("ngIf",e.status==="OPEN"),f(),v("ngIf",e.status==="CLOSED"&&r.hasAdminRole()),f(),v("ngIf",r.hasAdminRole())}}var Bs=class t{constructor(n,e,r){this.router=n;this.emailService=e;this.oidcSecurityService=r}contactMessages=[];filteredMessages=[];isAuthenticated=!1;userRoles=[];userId="";selectedStatus="OPEN";currentPage=1;itemsPerPage=5;totalItems=0;totalPages=0;itemsPerPageOptions=[5,10,15,20];ngOnInit(){this.oidcSecurityService.isAuthenticated$.subscribe(({isAuthenticated:n})=>{this.isAuthenticated=n,n&&(this.loadRoles(),this.loadUserId(),this.loadMessages())})}loadMessages(){this.hasAdminRole()?this.emailService.getAllEmails().subscribe(n=>{this.filterMessages(n)}):this.emailService.getAllEmailsByUserId(this.userId).subscribe(n=>{this.filterMessages(n)})}onStatusChange(n){this.selectedStatus=n.target.value,this.loadMessages()}updateStatus(n,e){this.emailService.updateEmailStatus(n,e).subscribe(()=>{this.loadMessages()})}deleteEmail(n){confirm("Are you sure you want to delete this email?")&&this.emailService.deleteEmail(n).subscribe(()=>{this.loadMessages()})}paginateMessages(){let n=(this.currentPage-1)*this.itemsPerPage,e=n+this.itemsPerPage;this.filteredMessages=this.contactMessages.slice(n,e)}onPageChange(n){this.currentPage=n,this.paginateMessages()}onItemsPerPageChange(n){this.itemsPerPage=+n.target.value,this.currentPage=1,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.paginateMessages()}goToFirstPage(){this.currentPage=1,this.paginateMessages()}goToLastPage(){this.currentPage=this.totalPages,this.paginateMessages()}previousPage(){this.currentPage>1&&(this.currentPage--,this.paginateMessages())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.paginateMessages())}navigateToMessage(n){this.router.navigate([`/email/${n}`])}decodeToken(n){try{let r=n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(r).split("").map(o=>`%${("00"+o.charCodeAt(0).toString(16)).slice(-2)}`).join(""));return JSON.parse(i)}catch(e){return console.error("Failed to decode token:",e),null}}loadRoles(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);e&&e.realm_access&&(this.userRoles=e.realm_access.roles||[])})}loadUserId(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);e&&e.sub&&(this.userId=e.sub)})}createNewRequest(){this.router.navigate(["/contact-us"])}hasAdminRole(){return this.userRoles.includes("ROLE_ADMIN")}hasUserRole(){return this.userRoles.includes("ROLE_USER")}getMessageClass(n){if(n.status==="OPEN"){if(this.hasAdminRole()&&n.lastReplyFrom==="USER")return"highlight-admin";if(this.hasUserRole()&&n.lastReplyFrom==="ADMIN")return"highlight-user"}return""}shouldShowLastReplyAt(n){return this.getMessageClass(n)!==""}isNewMessage(n){return this.hasAdminRole()&&n.lastReplyFrom==="USER"?!0:!!(this.hasUserRole()&&n.lastReplyFrom==="ADMIN")}filterMessages(n){let e=n;this.selectedStatus==="OPEN"?e=n.filter(i=>i.status==="OPEN"):this.selectedStatus==="CLOSED"&&(e=n.filter(i=>i.status==="CLOSED")),this.contactMessages=e.sort((i,o)=>{let s=this.isMessageHighlighted(i),a=this.isMessageHighlighted(o);return s&&!a?-1:!s&&a?1:new Date(o.lastReplyAt).getTime()-new Date(i.lastReplyAt).getTime()}),this.totalItems=this.contactMessages.length,this.paginateMessages();let r=this.contactMessages.some(i=>this.isMessageHighlighted(i));this.emailService.setNewMessageStatus(this.userId,r)}isMessageHighlighted(n){return this.hasAdminRole()&&n.lastReplyFrom==="USER"||this.hasUserRole()&&n.lastReplyFrom==="ADMIN"}static \u0275fac=function(e){return new(e||t)(I(ae),I(an),I(me))};static \u0275cmp=Q({type:t,selectors:[["app-admin-contact-board"]],standalone:!0,features:[J],decls:47,vars:12,consts:[[1,"admin-contact-board"],[4,"ngIf"],["class","create-request-btn",3,"click",4,"ngIf"],[1,"filter-items-container"],[1,"filter-block"],[1,"filter-section"],["id","status-filter",3,"ngModelChange","change","ngModel"],["value","OPEN"],["value","CLOSED"],["value","ALL"],[1,"items-per-page"],["for","itemsPerPage"],["id","itemsPerPage",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"message-table"],["class","clickable-row",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"pagination-container"],[1,"pagination-nav"],[1,"pagination-btn",3,"click","disabled"],[1,"page-info"],[1,"create-request-btn",3,"click"],[3,"value"],[1,"clickable-row",3,"click","ngClass"],["class","new-message-badge",4,"ngIf"],["class","status-btn",3,"click",4,"ngIf"],["class","delete-btn",3,"click",4,"ngIf"],[1,"new-message-badge"],[1,"status-btn",3,"click"],[1,"delete-btn",3,"click"]],template:function(e,r){e&1&&(l(0,"div",0),w(1,nR,2,0,"h1",1)(2,rR,2,0,"button",2),l(3,"div",3)(4,"div",4)(5,"h3"),h(6,"Filter by Status"),u(),l(7,"div",5)(8,"select",6),z("ngModelChange",function(o){return q(r.selectedStatus,o)||(r.selectedStatus=o),o}),D("change",function(o){return r.onStatusChange(o)}),l(9,"option",7),h(10,"Open"),u(),l(11,"option",8),h(12,"Closed"),u(),l(13,"option",9),h(14,"All"),u()()()(),l(15,"div",10)(16,"label",11),h(17,"Items per page:"),u(),l(18,"select",12),z("ngModelChange",function(o){return q(r.itemsPerPage,o)||(r.itemsPerPage=o),o}),D("change",function(o){return r.onItemsPerPageChange(o)}),w(19,iR,2,2,"option",13),u()()(),l(20,"table",14)(21,"thead")(22,"tr")(23,"th"),h(24,"Subject"),u(),l(25,"th"),h(26,"Email Address"),u(),l(27,"th"),h(28,"Status"),u(),l(29,"th"),h(30,"Last Reply"),u(),l(31,"th"),h(32,"Actions"),u()()(),l(33,"tbody"),w(34,lR,15,12,"tr",15),u()(),l(35,"div",16)(36,"div",17)(37,"button",18),D("click",function(){return r.goToFirstPage()}),h(38,"\xAB"),u(),l(39,"button",18),D("click",function(){return r.previousPage()}),h(40,"\u2039"),u(),l(41,"span",19),h(42),u(),l(43,"button",18),D("click",function(){return r.nextPage()}),h(44,"\u203A"),u(),l(45,"button",18),D("click",function(){return r.goToLastPage()}),h(46,"\xBB"),u()()()()),e&2&&(f(),v("ngIf",r.hasAdminRole()),f(),v("ngIf",r.hasUserRole()),f(6),H("ngModel",r.selectedStatus),f(10),H("ngModel",r.itemsPerPage),f(),v("ngForOf",r.itemsPerPageOptions),f(15),v("ngForOf",r.filteredMessages),f(3),v("disabled",r.currentPage===1),f(2),v("disabled",r.currentPage===1),f(3),Xt("Page ",r.currentPage," of ",r.totalPages,""),f(),v("disabled",r.currentPage===r.totalPages),f(2),v("disabled",r.currentPage===r.totalPages))},dependencies:[X,it,Ie,ce,kn,LC,ze,Ot,Rt,mt,Oe,qe],styles:[".admin-contact-board[_ngcontent-%COMP%]{max-width:1000px;margin:40px auto;padding:20px;background-color:#fff;border-radius:8px;box-shadow:0 4px 12px #0000001a}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-size:2em;color:#000}.filter-items-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:20px}.filter-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:10px;font-size:1.2em;color:#000}.items-per-page[_ngcontent-%COMP%]{display:flex;align-items:center}.items-per-page[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px;font-weight:700;color:#000}.message-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}.message-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .message-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:15px;text-align:left;border-bottom:1px solid #ddd;color:#000}.message-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#000;color:#fff}.message-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#fff}.clickable-row[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.status-btn[_ngcontent-%COMP%], .delete-btn[_ngcontent-%COMP%]{padding:8px 15px;border-radius:5px;border:2px solid #000;cursor:pointer;transition:background-color .3s ease;background-color:#fff;color:#000}.status-btn[_ngcontent-%COMP%]:hover, .delete-btn[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}.page-info[_ngcontent-%COMP%]{margin:0 10px;font-size:1.1em;color:#000}.create-request-btn[_ngcontent-%COMP%]{padding:12px 20px;background-color:#4caf50;color:#fff;border:none;border-radius:8px;font-size:1.2em;cursor:pointer;transition:background-color .3s ease,transform .3s ease;margin-bottom:20px;display:block;max-width:250px;margin-left:auto;margin-right:auto;text-align:center}.create-request-btn[_ngcontent-%COMP%]:hover{background-color:#d32f2f;transform:scale(1.05)}#status-filter[_ngcontent-%COMP%], #itemsPerPage[_ngcontent-%COMP%]{padding:8px;border-radius:4px;border:1px solid #000;background-color:#fff;color:#000;font-size:1em;transition:border-color .3s ease}#status-filter[_ngcontent-%COMP%]:focus, #itemsPerPage[_ngcontent-%COMP%]:focus{border-color:#000;outline:none}.pagination-nav[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.pagination-btn[_ngcontent-%COMP%]{padding:10px 15px;background-color:#000;color:#fff;border:none;border-radius:5px;cursor:pointer;margin:0 5px;transition:background-color .3s ease,transform .3s ease}.pagination-btn[_ngcontent-%COMP%]:hover{background-color:#333;transform:scale(1.05)}.pagination-btn[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.new-message-badge[_ngcontent-%COMP%]{background-color:#f44336;color:#fff;font-size:.75em;padding:2px 6px;border-radius:8px;margin-left:10px}.clickable-row[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.9;background-color:#f0f0f0}"]})};var uR=(t,n)=>({"right-align":t,"left-align":n});function dR(t,n){t&1&&(l(0,"div",13)(1,"strong"),h(2,"Success:"),u(),h(3," The request has been successfully closed. "),u())}function fR(t,n){if(t&1){let e=R();l(0,"div",14)(1,"button",15),D("click",function(){M(e);let i=y();return T(i.updateStatus(i.message.id,"CLOSED"))}),h(2,"Close"),u()()}}function hR(t,n){t&1&&(l(0,"span",8),h(1,"AppleShop"),u())}function pR(t,n){if(t&1&&(l(0,"span",8),h(1),u()),t&2){let e=y(2);f(),L(e.userEmail)}}function gR(t,n){if(t&1&&(l(0,"div",16),w(1,hR,2,0,"span",17)(2,pR,2,1,"span",17),l(3,"p",9),h(4),u(),l(5,"span",10),P(6,"strong"),h(7),Re(8,"date"),u()()),t&2){let e=n.$implicit;v("ngClass",tn(8,uR,(e==null?null:e.emailStatus)==="CUSTOMER_REPLIED",(e==null?null:e.emailStatus)==="ADMIN_REPLIED")),f(),v("ngIf",(e==null?null:e.emailStatus)==="ADMIN_REPLIED"),f(),v("ngIf",(e==null?null:e.emailStatus)==="CUSTOMER_REPLIED"),f(2),L(e.body),f(3),V(" ",Ze(8,5,e.timestamp,"short"),"")}}function mR(t,n){if(t&1){let e=R();l(0,"div",18)(1,"textarea",19),z("ngModelChange",function(i){M(e);let o=y();return q(o.replyText,i)||(o.replyText=i),T(i)}),u(),l(2,"button",20),D("click",function(){M(e);let i=y();return T(i.sendReply())}),h(3,"Send Reply"),u()()}if(t&2){let e=y();f(),H("ngModel",e.replyText)}}var ou=class t{constructor(n,e,r){this.emailService=n;this.route=e;this.oidcSecurityService=r}message;replyText="";userEmail="";userId="";closeSuccessMessage=!1;userRoles=[];hasReplied=!1;ngOnInit(){let n=Number(this.route.snapshot.paramMap.get("id"));this.loadRoles(),this.loadUserEmail(),this.loadMessage(n),this.loadUserId()}loadMessage(n){this.emailService.getEmailById(n).subscribe(e=>{this.message=e})}loadUserId(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);e&&e.sub&&(this.userId=e.sub)})}updateStatus(n,e){this.message&&this.message.id?this.emailService.updateEmailStatus(n,e).subscribe(()=>{this.loadMessage(n),this.showCloseSuccessMessage()}):console.error("Message is undefined or null")}sendReply(){if(this.message&&this.replyText.trim()){let n={emailBody:this.replyText,email:this.userEmail,isAdmin:this.hasAdminRole()};this.emailService.replyToEmail(this.message.id,n).subscribe(()=>{this.loadMessage(this.message.id),this.replyText="",this.hasReplied=!0,this.hasUserRole()&&this.emailService.setNewMessageStatus(this.userId,!1)})}}loadUserEmail(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);e&&e.email&&(this.userEmail=e.email)})}decodeToken(n){try{let r=n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(r).split("").map(o=>`%${("00"+o.charCodeAt(0).toString(16)).slice(-2)}`).join(""));return JSON.parse(i)}catch(e){return console.error("Failed to decode token:",e),null}}showCloseSuccessMessage(){this.closeSuccessMessage=!0,setTimeout(()=>{this.closeSuccessMessage=!1},3e3)}loadRoles(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);e&&e.realm_access&&(this.userRoles=e.realm_access.roles||[])})}hasAdminRole(){return this.userRoles.includes("ROLE_ADMIN")}hasUserRole(){return this.userRoles.includes("ROLE_USER")}static \u0275fac=function(e){return new(e||t)(I(an),I(ot),I(me))};static \u0275cmp=Q({type:t,selectors:[["app-email-details"]],standalone:!0,features:[J],decls:30,vars:12,consts:[[1,"email-details"],[1,"header"],[1,"email-info","card"],[1,"info-item"],["class","success-message",4,"ngIf"],["class","close-btn-container",4,"ngIf"],[1,"conversation-block","card"],[1,"message-item","right-align"],[1,"sender-email"],[1,"message-body"],[1,"message-timestamp"],["class","message-item",3,"ngClass",4,"ngFor","ngForOf"],["class","reply-form card",4,"ngIf"],[1,"success-message"],[1,"close-btn-container"],[1,"delete-btn",3,"click"],[1,"message-item",3,"ngClass"],["class","sender-email",4,"ngIf"],[1,"reply-form","card"],["placeholder","Type your reply",1,"reply-textarea",3,"ngModelChange","ngModel"],[1,"btn-send",3,"click"]],template:function(e,r){e&1&&(l(0,"div",0)(1,"h1",1),h(2,"Request Details"),u(),l(3,"div",2)(4,"div",3)(5,"label"),h(6,"Subject:"),u(),l(7,"span"),h(8),u()(),l(9,"div",3)(10,"label"),h(11,"Email:"),u(),l(12,"span"),h(13),u()()(),w(14,dR,4,0,"div",4)(15,fR,3,0,"div",5),l(16,"div",6)(17,"h2"),h(18,"Conversation"),u(),l(19,"div",7)(20,"span",8),h(21),u(),l(22,"p",9),h(23),u(),l(24,"span",10),P(25,"strong"),h(26),Re(27,"date"),u()(),w(28,gR,9,11,"div",11),u(),w(29,mR,4,1,"div",12),u()),e&2&&(f(8),L(r.message==null?null:r.message.subject),f(5),L(r.message==null?null:r.message.email),f(),v("ngIf",r.closeSuccessMessage),f(),v("ngIf",r.message&&(r.message==null?null:r.message.status)==="OPEN"),f(6),L(r.message==null?null:r.message.email),f(2),L(r.message==null?null:r.message.body),f(3),V(" ",Ze(27,9,r.message==null?null:r.message.timestamp,"short"),""),f(2),v("ngForOf",r.message==null?null:r.message.replies),f(),v("ngIf",(r.message==null?null:r.message.status)==="OPEN"))},dependencies:[X,it,Ie,ce,kn,ze,Ve,Oe,qe],styles:[".email-details[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;font-family:Arial,sans-serif;color:#000;background-color:#fff;padding:20px}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-size:28px;font-weight:700;text-transform:uppercase;color:#000}.card[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;margin-bottom:20px;border:1px solid #ddd}.info-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px;font-size:16px}.info-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#333}.message-timestamp[_ngcontent-%COMP%]{font-size:14px;color:#777;margin-top:5px;background-color:inherit}.message-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:15px}.right-align[_ngcontent-%COMP%]{text-align:right;align-items:flex-end;background-color:#e0f7fa}.left-align[_ngcontent-%COMP%]{text-align:left;align-items:flex-start;background-color:#f1f1f1}.message-body[_ngcontent-%COMP%]{font-size:16px;line-height:1.6;padding:10px;border-radius:5px;max-width:80%;background-color:inherit}.sender-email[_ngcontent-%COMP%]{font-size:.85em;color:#333;font-weight:700}.message-item.right-align[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%], .message-item.left-align[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]{background-color:inherit}.conversation-block[_ngcontent-%COMP%]{margin-top:20px}.reply-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:100px;padding:10px;border-radius:5px;border:1px solid #ddd;font-size:16px;margin-bottom:10px;background-color:#f9f9f9}.btn-send[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;background-color:#000;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:16px;transition:background-color .3s ease}.btn-send[_ngcontent-%COMP%]:hover{background-color:#333}.close-btn-container[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.delete-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:#ff5c5c;color:#fff;border:none;border-radius:8px;font-size:1.1em;cursor:pointer;transition:background-color .3s ease;margin:0 auto}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#e60000}.success-message[_ngcontent-%COMP%]{background-color:#f0f9f0;border:1px solid #d4edda;color:#155724;padding:10px 20px;margin-bottom:20px;border-radius:5px;font-weight:700;display:flex;align-items:center}.success-message[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-right:10px}.success-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.reply-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#000;outline:none}"]})};var vR=()=>["/categories-list"],yR=()=>["/orders"],bR=()=>["/inventory"],CR=()=>["/contact-panel"];function _R(t,n){t&1&&(ge(),l(0,"svg",12),P(1,"path",13),u())}function SR(t,n){t&1&&(ge(),l(0,"svg",14),P(1,"path",15),u())}function wR(t,n){t&1&&(ge(),l(0,"svg",12),P(1,"path",13),u())}function DR(t,n){t&1&&(ge(),l(0,"svg",14),P(1,"path",15),u())}function IR(t,n){if(t&1){let e=R();l(0,"button",8),D("click",function(){M(e);let i=y().$implicit,o=y(3);return T(o.toggleSubcategories(i.id))}),w(1,wR,2,0,"svg",9)(2,DR,2,0,"svg",10),u()}if(t&2){let e=y().$implicit,r=y(3);f(),v("ngIf",r.expandedCategories[e.id]),f(),v("ngIf",!r.expandedCategories[e.id])}}function ER(t,n){if(t&1){let e=R();l(0,"li")(1,"a",22),D("click",function(){let i=M(e).$implicit,o=y(5);return T(o.onCategoryClick(i))}),h(2),u()()}if(t&2){let e=n.$implicit;f(2),V(" ",e.name," ")}}function xR(t,n){if(t&1&&(l(0,"ul",21),w(1,ER,3,1,"li",17),u()),t&2){let e=y().$implicit;f(),v("ngForOf",e.subcategories)}}function MR(t,n){if(t&1){let e=R();l(0,"li")(1,"div",18)(2,"a",7),D("click",function(){let i=M(e).$implicit,o=y(3);return T(o.onCategoryClick(i))}),h(3),u(),w(4,IR,3,2,"button",19),u(),w(5,xR,2,1,"ul",20),u()}if(t&2){let e=n.$implicit,r=y(3);f(3),V(" ",e.name," "),f(),v("ngIf",e.subcategories),f(),v("ngIf",r.expandedCategories[e.id]&&e.subcategories)}}function TR(t,n){if(t&1&&(l(0,"ul",16),w(1,MR,6,3,"li",17),u()),t&2){let e=y().$implicit;f(),v("ngForOf",e.subcategories)}}function PR(t,n){if(t&1){let e=R();l(0,"li",5)(1,"div",6)(2,"a",7),D("click",function(){let i=M(e).$implicit,o=y();return T(o.onCategoryClick(i))}),h(3),u(),l(4,"button",8),D("click",function(){let i=M(e).$implicit,o=y();return T(o.toggleSubcategories(i.id))}),w(5,_R,2,0,"svg",9)(6,SR,2,0,"svg",10),u()(),w(7,TR,2,1,"ul",11),u()}if(t&2){let e=n.$implicit,r=y();f(3),V(" ",e.name," "),f(2),v("ngIf",r.expandedCategories[e.id]),f(),v("ngIf",!r.expandedCategories[e.id]),f(),v("ngIf",r.expandedCategories[e.id]&&e.subcategories)}}function AR(t,n){t&1&&(l(0,"li")(1,"a",23),ge(),l(2,"svg",24),P(3,"path",25),u(),rt(),l(4,"span",26),h(5,"Categories"),u()()()),t&2&&(f(),v("routerLink",vn(1,vR)))}function kR(t,n){t&1&&(l(0,"li")(1,"a",23),ge(),l(2,"svg",24),P(3,"path",25),u(),rt(),l(4,"span",26),h(5,"Orders Panel"),u()()()),t&2&&(f(),v("routerLink",vn(1,yR)))}function OR(t,n){t&1&&(l(0,"li")(1,"a",23),ge(),l(2,"svg",24),P(3,"path",27),u(),rt(),l(4,"span",26),h(5,"Inventory Panel"),u()()()),t&2&&(f(),v("routerLink",vn(1,bR)))}function RR(t,n){t&1&&(l(0,"li")(1,"a",23),ge(),l(2,"svg",24),P(3,"path",27),u(),rt(),l(4,"span",26),h(5,"Requests Panel"),u()()()),t&2&&(f(),v("routerLink",vn(1,CR)))}function NR(t,n){t&1&&(l(0,"li")(1,"a",28),ge(),l(2,"svg",24),P(3,"path",25),u(),rt(),l(4,"span",26),h(5,"Transactions"),u()()())}function FR(t,n){t&1&&(l(0,"li")(1,"a",29),ge(),l(2,"svg",24),P(3,"path",25),u(),rt(),l(4,"span",26),h(5,"Open API Docs"),u()()())}function LR(t,n){t&1&&(l(0,"li")(1,"a",30),ge(),l(2,"svg",24),P(3,"path",25),u(),rt(),l(4,"span",26),h(5,"Kafka UI"),u()()())}function VR(t,n){t&1&&(l(0,"li")(1,"a",31),ge(),l(2,"svg",24),P(3,"path",25),u(),rt(),l(4,"span",26),h(5,"Grafana"),u()()())}function jR(t,n){t&1&&(l(0,"li")(1,"a",32),ge(),l(2,"svg",24),P(3,"path",25),u(),rt(),l(4,"span",26),h(5,"Jenkins"),u()()())}function UR(t,n){t&1&&(l(0,"li")(1,"a",33),ge(),l(2,"svg",24),P(3,"path",25),u(),rt(),l(4,"span",26),h(5,"Keycloak"),u()()())}var Do=class t{constructor(n,e,r){this.categoryService=n;this.productService=e;this.router=r}oidcSecurityService=g(me);userRoles=[];rolesSubject=new Ce([]);categories=[];categoryVisibilityMap=new Map;expandedCategories={};ngOnInit(){console.log("SidebarComponent initialized"),this.oidcSecurityService.isAuthenticated$.subscribe(n=>{n&&this.loadRoles()}),this.categoryService.getCategories().subscribe(n=>{this.categories=n.filter(e=>e.isMain),this.categories.forEach(e=>{this.categoryVisibilityMap.set(e.id,!1)})})}fetchCategories(){this.categoryService.getCategories().subscribe(n=>{this.categories=n})}toggleSubcategories(n){this.expandedCategories[n]=!this.expandedCategories[n]}renderSubcategories(n){return n.map(e=>W(x({},e),{subcategories:this.renderSubcategories(e.subcategories||[])}))}onCategoryClick(n){this.productService.getProducts(0,5,"name","ASC",n.id).subscribe(e=>{console.log(`Products fetched for subcategory ${n.name}:`,e),this.router.navigateByUrl("/sidebar",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/products"],{state:{products:e.content,categoryId:n.id},replaceUrl:!0})})})}loadRoles(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);e&&e.realm_access&&(this.userRoles=e.realm_access.roles||[],this.rolesSubject.next(this.userRoles))})}hasAdminRole(){return this.userRoles.includes("ROLE_ADMIN")}hasDeveloperRole(){return this.userRoles.includes("ROLE_DEVELOPER")}decodeToken(n){try{console.log("Decoding token...");let r=n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(r).split("").map(function(o){return"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(i)}catch(e){return console.error("Failed to decode token:",e),null}}static \u0275fac=function(e){return new(e||t)(I(kt),I(Un),I(ae))};static \u0275cmp=Q({type:t,selectors:[["app-sidebar"]],standalone:!0,features:[J],decls:16,vars:11,consts:[[1,"sidebar","bg-black","text-white","h-screen","p-6","fixed","top-0","left-0","w-64","shadow-lg","overflow-y-auto"],[1,"text-2xl","font-semibold","mb-6"],["class","mb-2",4,"ngFor","ngForOf"],[1,"mt-6"],[4,"ngIf"],[1,"mb-2"],[1,"flex","justify-between","items-center","p-3","rounded-lg","hover:bg-gray-800","cursor-pointer","transition","ease-in-out","duration-200"],[1,"w-full",3,"click"],[3,"click"],["class","w-4 h-4 transform rotate-180 transition-transform","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",4,"ngIf"],["class","w-4 h-4 transition-transform","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",4,"ngIf"],["class","pl-6 mt-2 space-y-2",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-4","h-4","transform","rotate-180","transition-transform"],["fill-rule","evenodd","d","M10 12a1 1 0 01-.7-.3l-5-5a1 1 0 111.4-1.4L10 9.6l4.3-4.3a1 1 0 011.4 1.4l-5 5a1 1 0 01-.7.3z","clip-rule","evenodd"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-4","h-4","transition-transform"],["fill-rule","evenodd","d","M5 8a1 1 0 011.7-.7l4.3 4.3 4.3-4.3a1 1 0 011.4 1.4l-5 5a1 1 0 01-1.4 0l-5-5A1 1 0 015 8z","clip-rule","evenodd"],[1,"pl-6","mt-2","space-y-2"],[4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","p-2","rounded-lg","hover:bg-gray-700","cursor-pointer","transition","ease-in-out","duration-200"],[3,"click",4,"ngIf"],["class","pl-6 mt-2 space-y-1",4,"ngIf"],[1,"pl-6","mt-2","space-y-1"],[1,"p-2","rounded-lg","hover:bg-gray-600","transition","ease-in-out","duration-200",3,"click"],[1,"flex","items-center","p-3","rounded-lg","hover:bg-gray-800","transition","ease-in-out","duration-200",3,"routerLink"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","mr-3","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"text-lg"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-3-3v6"],["href","https://dashboard.stripe.com/test/payments","target","_blank",1,"flex","items-center","p-3","rounded-lg","hover:bg-gray-800","transition","ease-in-out","duration-200"],["href","http://localhost:9000/swagger-ui/index.html","target","_blank",1,"flex","items-center","p-3","rounded-lg","hover:bg-gray-800","transition","ease-in-out","duration-200"],["href","http://localhost:30001","target","_blank",1,"flex","items-center","p-3","rounded-lg","hover:bg-gray-800","transition","ease-in-out","duration-200"],["href","http://localhost:3000","target","_blank",1,"flex","items-center","p-3","rounded-lg","hover:bg-gray-800","transition","ease-in-out","duration-200"],["href","http://localhost:30010","target","_blank",1,"flex","items-center","p-3","rounded-lg","hover:bg-gray-800","transition","ease-in-out","duration-200"],["href","http://localhost:8080","target","_blank",1,"flex","items-center","p-3","rounded-lg","hover:bg-gray-800","transition","ease-in-out","duration-200"]],template:function(e,r){e&1&&(l(0,"div",0)(1,"h2",1),h(2,"Navigation"),u(),l(3,"ul"),w(4,PR,8,4,"li",2),u(),l(5,"div",3),w(6,AR,6,2,"li",4)(7,kR,6,2,"li",4)(8,OR,6,2,"li",4)(9,RR,6,2,"li",4)(10,NR,6,0,"li",4)(11,FR,6,0,"li",4)(12,LR,6,0,"li",4)(13,VR,6,0,"li",4)(14,jR,6,0,"li",4)(15,UR,6,0,"li",4),u()()),e&2&&(f(4),v("ngForOf",r.categories),f(2),v("ngIf",r.hasAdminRole()),f(),v("ngIf",r.hasAdminRole()),f(),v("ngIf",r.hasAdminRole()),f(),v("ngIf",r.hasAdminRole()),f(),v("ngIf",r.hasAdminRole()),f(),v("ngIf",r.hasDeveloperRole()),f(),v("ngIf",r.hasDeveloperRole()),f(),v("ngIf",r.hasDeveloperRole()),f(),v("ngIf",r.hasDeveloperRole()),f(),v("ngIf",r.hasDeveloperRole()))},dependencies:[X,Ie,ce,Mt,Fn],styles:['.active[_ngcontent-%COMP%]{background-color:#4caf50}.sidebar[_ngcontent-%COMP%]{position:relative;z-index:1000}.subcategory-list[_ngcontent-%COMP%]{padding-left:15px;list-style-type:none}.sidebar[_ngcontent-%COMP%]{background-color:#111;transition:width .3s ease-in-out,background-color .3s ease;width:256px;overflow-x:hidden}.sidebar[_ngcontent-%COMP%]:hover{width:280px;background-color:#181818}.sidebar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;border-bottom:2px solid rgba(255,255,255,.1);padding-bottom:10px;margin-bottom:20px;color:#fff}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;color:#b0b0b0}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff1a}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#777}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{color:#fff}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"";position:absolute;height:100%;width:3px;background-color:transparent;top:0;left:0;transition:background-color .3s ease}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:before{background-color:#fff}']})};var VC=[{path:"",redirectTo:"/products",pathMatch:"full"},{path:"user-dashboard",component:Xl,children:[{path:"user-info",component:Yl},{path:"contact-panel",component:Bs},{path:"user-orders",component:Wl},{path:"",redirectTo:"user-info",pathMatch:"full"}]},{path:"products",component:Vl},{path:"sidebar",component:Do},{path:"orders",component:Ul},{path:"add-product",component:jl},{path:"inventory",component:$l},{path:"cart",component:Hl},{path:"order-details/:id",component:zl},{path:"payment",component:Kl},{path:"categories",component:Zl},{path:"categories-list",component:eu},{path:"product-details/:id",component:nu},{path:"category-details/:id",component:ru},{path:"contact-us",component:iu},{path:"contact-panel",component:Bs},{path:"email/:id",component:ou}];var jC={config:{authority:"http://keycloak.default.svc.cluster.local:8080/realms/dev",redirectUrl:"http://localhost:30000",postLogoutRedirectUri:"http://localhost:30000",clientId:"angular-client",scope:"openid profile offline_access",responseType:"code",silentRenew:!0,useRefreshToken:!0}};var UC=(t,n)=>(g(me).getAccessToken().subscribe(r=>{if(r){let i="Bearer "+r,o=t.headers.set("Authorization",i);return t=t.clone({headers:o}),n(t)}return n(t)}),n(t));var BC={providers:[P0({eventCoalescing:!0}),bb(VC),dh(Cy([UC])),Hb(jC)]};var BR=()=>["/user-dashboard"];function $R(t,n){t&1&&(ge(),l(0,"svg",25),P(1,"path",26)(2,"path",27),u())}function HR(t,n){if(t&1&&(l(0,"div",17)(1,"a",20),ge(),l(2,"svg",21),P(3,"path",22),u(),rt(),l(4,"span",23),h(5,"Profile"),u(),w(6,$R,3,0,"svg",24),u()()),t&2){let e=y();f(),v("routerLink",vn(2,BR)),f(5),v("ngIf",e.hasNewMessage)}}function zR(t,n){if(t&1&&(l(0,"span",34),h(1),u()),t&2){let e=y(2);f(),V(" ",e.cartTotalQuantity," ")}}function WR(t,n){if(t&1&&(l(0,"span",34),h(1),u()),t&2){let e=y(2);f(),V(" ",e.cartToralPrice," ")}}function GR(t,n){if(t&1){let e=R();l(0,"button",28),D("click",function(){M(e);let i=y();return T(i.redirectToCart())}),l(1,"div",29),w(2,zR,2,1,"span",30),u(),l(3,"div",29),ge(),l(4,"svg",31),P(5,"path",32)(6,"path",33),u()(),rt(),l(7,"div",29),w(8,WR,2,1,"span",30),u()()}if(t&2){let e=y();f(2),v("ngIf",e.cartTotalQuantity>0),f(6),v("ngIf",e.cartToralPrice>0)}}function qR(t,n){if(t&1){let e=R();dt(0),l(1,"span",6),h(2),u(),l(3,"a",35),D("click",function(){M(e);let i=y();return T(i.logout())}),h(4,"Logout"),u(),ft()}if(t&2){let e=y();f(2),V("Welcome, ",e.username,"")}}function KR(t,n){if(t&1){let e=R();l(0,"a",36),D("click",function(){M(e);let i=y();return T(i.login())}),h(1," Login "),u()}}var su=class t{oidcSecurityService=g(me);router=g(ae);cartService=g(Bn);emailService=g(an);isAuthenticated=!1;username="";userId="";userRoles=[];cartToralPrice=0;cartTotalQuantity=0;hasNewMessage=!1;ngOnInit(){this.oidcSecurityService.isAuthenticated$.subscribe(({isAuthenticated:n})=>{this.isAuthenticated=n,n&&(this.loadRoles(),this.loadUserId(),this.userId&&this.emailService.getNewMessageStatus(this.userId).subscribe(e=>{this.hasNewMessage=e}),this.emailService.checkForNewMessages(this.userRoles,this.userId),this.userId&&this.cartService.getCartTotalPrice(this.userId).subscribe(e=>{this.cartToralPrice=e,this.cartService.updateCartPrice(e)}),this.cartService.cartPrice$.subscribe(e=>{this.cartToralPrice=e}),this.userId&&this.cartService.getCartTotalQuantity(this.userId).subscribe(e=>{this.cartTotalQuantity=e,console.log("totalQuantity - ",e),this.cartService.updateCartQuantity(e)}),this.cartService.cartQuantity$.subscribe(e=>{this.cartTotalQuantity=e}))}),this.oidcSecurityService.userData$.subscribe(({userData:n})=>{this.username=n.preferred_username})}loadUserId(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);e&&e.sub&&(this.userId=e.sub,this.checkForMessages())})}decodeToken(n){try{let r=n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(r).split("").map(function(o){return"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(i)}catch(e){return console.error("Failed to decode token:",e),null}}login(){this.oidcSecurityService.authorize()}logout(){this.oidcSecurityService.logoff().subscribe(n=>console.log(n))}redirectToCart(){this.isAuthenticated&&this.userId?this.cartService.getCart(this.userId).subscribe(n=>{this.router.navigate(["/cart"])},n=>{console.error("Error fetching cart:",n)}):console.error("User is not authenticated or user ID is missing")}checkForMessages(){this.userId&&this.userRoles.length>0&&(this.emailService.getNewMessageStatus(this.userId).subscribe(n=>{this.hasNewMessage=n}),this.emailService.checkForNewMessages(this.userRoles,this.userId))}loadRoles(){this.oidcSecurityService.getAccessToken().subscribe(n=>{let e=this.decodeToken(n);e&&e.realm_access&&(this.userRoles=e.realm_access.roles||[],this.userId&&this.checkForMessages())})}hasUserRole(){return this.userRoles.includes("ROLE_USER")}hasAdminRole(){return this.userRoles.includes("ROLE_ADMIN")}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Q({type:t,selectors:[["app-header"]],standalone:!0,features:[J],decls:24,vars:4,consts:[["loginTemplate",""],[1,"bg-black","text-white","shadow-lg","px-4","sm:px-6","py-4","rounded-md"],[1,"container","flex","items-center","mx-auto"],["href","/",1,"flex","items-center","bg-black","text-white","rounded-full","py-2","px-4","shadow-md","transition","duration-300","hover:bg-gray-800","transform","hover:scale-105"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 9l9-6 9 6v11a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"],[1,"text-lg"],[1,"flex","md:hidden","items-center","ml-auto"],["id","menu-toggle","type","button",1,"p-2","text-gray-300","hover:text-white","focus:outline-none","focus:ring-2","focus:ring-gray-700","rounded-lg","transition","duration-300"],[1,"sr-only"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16m-7 6h7"],[1,"flex","flex-grow","items-center","justify-center","space-x-2"],[1,"text-lg","font-bold"],["href","/",1,"flex","items-center"],["src","https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8ed3d547-94ff-48e1-9f20-8c14a7030a02_2000x2000.jpeg","alt","Shop Logo",1,"custom-logo"],["class","hidden md:flex items-center space-x-8 ml-auto",4,"ngIf"],[1,"hidden","md:flex","items-center","space-x-8","ml-auto"],["class","flex justify-between items-center bg-black text-white rounded-full py-2 px-4 shadow-md transition duration-300 hover:bg-gray-800 transform hover:scale-105",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"flex","items-center","p-3","rounded-lg","bg-black","text-white","hover:bg-gray-800","transition","ease-in-out","duration-300","transform","hover:scale-105",3,"routerLink"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","mr-2","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5h18M3 10h18m-7 5h7"],[1,"text-lg","font-semibold"],["class","w-6 h-6 text-red-500 ml-2","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-6","h-6","text-red-500","ml-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l9 6 9-6v10a2 2 0 01-2 2H5a2 2 0 01-2-2V8z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l9 6 9-6"],[1,"flex","justify-between","items-center","bg-black","text-white","rounded-full","py-2","px-4","shadow-md","transition","duration-300","hover:bg-gray-800","transform","hover:scale-105",3,"click"],[1,"flex","items-center"],["class","cart-quantity bg-red-500 text-white rounded-full text-xs px-2 py-1",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","height","24","viewBox","0 0 24 24","width","24"],["d","M0 0h24v24H0z","fill","none"],["d","M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z","fill","white"],[1,"cart-quantity","bg-red-500","text-white","rounded-full","text-xs","px-2","py-1"],[1,"ml-4","py-2","px-4","bg-red-600","text-white","rounded-full","shadow-md","transition","duration-300","hover:bg-red-700","transform","hover:scale-105",3,"click"],[1,"ml-4","py-2","px-4","bg-white","text-black","rounded-full","shadow-md","transition","duration-300","hover:bg-gray-100","transform","hover:scale-105",3,"click"]],template:function(e,r){if(e&1&&(l(0,"nav",1)(1,"div",2)(2,"a",3),ge(),l(3,"svg",4),P(4,"path",5),u(),rt(),l(5,"span",6),h(6,"Home"),u()(),l(7,"div",7)(8,"button",8)(9,"span",9),h(10,"Open menu"),u(),ge(),l(11,"svg",10),P(12,"path",11),u()()(),rt(),l(13,"div",12)(14,"span",13),h(15,"Apple Shop"),u(),l(16,"a",14),P(17,"img",15),u()(),w(18,HR,7,3,"div",16),l(19,"div",17),w(20,GR,9,2,"button",18)(21,qR,5,1,"ng-container",19)(22,KR,2,0,"ng-template",null,0,Ji),u()()()),e&2){let i=Ge(23);f(18),v("ngIf",r.isAuthenticated),f(2),v("ngIf",r.isAuthenticated&&r.hasUserRole()),f(),v("ngIf",r.isAuthenticated)("ngIfElse",i)}},dependencies:[X,ce,Mt,Fn],styles:[".custom-logo[_ngcontent-%COMP%]{height:80px;width:auto}nav[_ngcontent-%COMP%]{transition:background-color .3s,box-shadow .3s}nav[_ngcontent-%COMP%]:hover{background-color:#1a1a1a;box-shadow:0 8px 30px #0000004d}.cart-quantity[_ngcontent-%COMP%]{font-size:.75rem;margin-left:.25rem;position:relative;top:-5px}button[_ngcontent-%COMP%]{position:relative}button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:.25rem}.relative[_ngcontent-%COMP%]{position:relative}.absolute[_ngcontent-%COMP%]{position:absolute;right:0;top:100%;width:200px;background-color:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a;display:block}.absolute[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0;list-style:none}.absolute[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px;cursor:pointer}.absolute[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}"]})};var au=class t{title="microservices-shop-frontend";oidcSecurityService=g(me);ngOnInit(){this.oidcSecurityService.checkAuth().subscribe(({isAuthenticated:n})=>{console.log("app authenticated",n)})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Q({type:t,selectors:[["app-root"]],standalone:!0,features:[J],decls:5,vars:0,consts:[[1,"flex"],[1,"flex-grow","p-4"]],template:function(e,r){e&1&&(P(0,"app-header"),l(1,"div",0),P(2,"app-sidebar"),l(3,"div",1),P(4,"router-outlet"),u()())},dependencies:[Mt,ws,su,Do],styles:[".flex[_ngcontent-%COMP%]{display:flex}.flex-grow[_ngcontent-%COMP%]{flex-grow:1}"]})};My(au,BC).catch(t=>console.error(t));
